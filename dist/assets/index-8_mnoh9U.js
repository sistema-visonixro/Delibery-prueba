function OC(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(t,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function AC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sf={exports:{}},Oo={};var ix;function RC(){if(ix)return Oo;ix=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:t,type:i,key:u,ref:o!==void 0?o:null,props:c}}return Oo.Fragment=e,Oo.jsx=n,Oo.jsxs=n,Oo}var rx;function kC(){return rx||(rx=1,Sf.exports=RC()),Sf.exports}var l=kC(),Ef={exports:{}},_e={};var ax;function MC(){if(ax)return _e;ax=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function C(M,W,q){this.props=M,this.context=W,this.refs=E,this.updater=q||j}C.prototype.isReactComponent={},C.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},C.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function N(){}N.prototype=C.prototype;function T(M,W,q){this.props=M,this.context=W,this.refs=E,this.updater=q||j}var k=T.prototype=new N;k.constructor=T,_(k,C.prototype),k.isPureReactComponent=!0;var A=Array.isArray;function O(){}var R={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function P(M,W,q){var ie=q.ref;return{$$typeof:t,type:M,key:W,ref:ie!==void 0?ie:null,props:q}}function G(M,W){return P(M.type,W,M.props)}function se(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function re(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(q){return W[q]})}var ee=/\/+/g;function ae(M,W){return typeof M=="object"&&M!==null&&M.key!=null?re(""+M.key):W.toString(36)}function oe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(O,O):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function z(M,W,q,ie,H){var he=typeof M;(he==="undefined"||he==="boolean")&&(M=null);var pe=!1;if(M===null)pe=!0;else switch(he){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(M.$$typeof){case t:case e:pe=!0;break;case v:return pe=M._init,z(pe(M._payload),W,q,ie,H)}}if(pe)return H=H(M),pe=ie===""?"."+ae(M,0):ie,A(H)?(q="",pe!=null&&(q=pe.replace(ee,"$&/")+"/"),z(H,W,q,"",function(ye){return ye})):H!=null&&(se(H)&&(H=G(H,q+(H.key==null||M&&M.key===H.key?"":(""+H.key).replace(ee,"$&/")+"/")+pe)),W.push(H)),1;pe=0;var me=ie===""?".":ie+":";if(A(M))for(var Se=0;Se<M.length;Se++)ie=M[Se],he=me+ae(ie,Se),pe+=z(ie,W,q,he,H);else if(Se=w(M),typeof Se=="function")for(M=Se.call(M),Se=0;!(ie=M.next()).done;)ie=ie.value,he=me+ae(ie,Se++),pe+=z(ie,W,q,he,H);else if(he==="object"){if(typeof M.then=="function")return z(oe(M),W,q,ie,H);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Y(M,W,q){if(M==null)return M;var ie=[],H=0;return z(M,ie,"","",function(he){return W.call(q,he,H++)}),ie}function ne(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(q){(M._status===0||M._status===-1)&&(M._status=1,M._result=q)},function(q){(M._status===0||M._status===-1)&&(M._status=2,M._result=q)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var J=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},le={map:Y,forEach:function(M,W,q){Y(M,function(){W.apply(this,arguments)},q)},count:function(M){var W=0;return Y(M,function(){W++}),W},toArray:function(M){return Y(M,function(W){return W})||[]},only:function(M){if(!se(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return _e.Activity=x,_e.Children=le,_e.Component=C,_e.Fragment=n,_e.Profiler=o,_e.PureComponent=T,_e.StrictMode=i,_e.Suspense=f,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,_e.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},_e.cache=function(M){return function(){return M.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(M,W,q){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ie=_({},M.props),H=M.key;if(W!=null)for(he in W.key!==void 0&&(H=""+W.key),W)!I.call(W,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&W.ref===void 0||(ie[he]=W[he]);var he=arguments.length-2;if(he===1)ie.children=q;else if(1<he){for(var pe=Array(he),me=0;me<he;me++)pe[me]=arguments[me+2];ie.children=pe}return P(M.type,H,ie)},_e.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},_e.createElement=function(M,W,q){var ie,H={},he=null;if(W!=null)for(ie in W.key!==void 0&&(he=""+W.key),W)I.call(W,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(H[ie]=W[ie]);var pe=arguments.length-2;if(pe===1)H.children=q;else if(1<pe){for(var me=Array(pe),Se=0;Se<pe;Se++)me[Se]=arguments[Se+2];H.children=me}if(M&&M.defaultProps)for(ie in pe=M.defaultProps,pe)H[ie]===void 0&&(H[ie]=pe[ie]);return P(M,he,H)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(M){return{$$typeof:h,render:M}},_e.isValidElement=se,_e.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ne}},_e.memo=function(M,W){return{$$typeof:p,type:M,compare:W===void 0?null:W}},_e.startTransition=function(M){var W=R.T,q={};R.T=q;try{var ie=M(),H=R.S;H!==null&&H(q,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(O,J)}catch(he){J(he)}finally{W!==null&&q.types!==null&&(W.types=q.types),R.T=W}},_e.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},_e.use=function(M){return R.H.use(M)},_e.useActionState=function(M,W,q){return R.H.useActionState(M,W,q)},_e.useCallback=function(M,W){return R.H.useCallback(M,W)},_e.useContext=function(M){return R.H.useContext(M)},_e.useDebugValue=function(){},_e.useDeferredValue=function(M,W){return R.H.useDeferredValue(M,W)},_e.useEffect=function(M,W){return R.H.useEffect(M,W)},_e.useEffectEvent=function(M){return R.H.useEffectEvent(M)},_e.useId=function(){return R.H.useId()},_e.useImperativeHandle=function(M,W,q){return R.H.useImperativeHandle(M,W,q)},_e.useInsertionEffect=function(M,W){return R.H.useInsertionEffect(M,W)},_e.useLayoutEffect=function(M,W){return R.H.useLayoutEffect(M,W)},_e.useMemo=function(M,W){return R.H.useMemo(M,W)},_e.useOptimistic=function(M,W){return R.H.useOptimistic(M,W)},_e.useReducer=function(M,W,q){return R.H.useReducer(M,W,q)},_e.useRef=function(M){return R.H.useRef(M)},_e.useState=function(M){return R.H.useState(M)},_e.useSyncExternalStore=function(M,W,q){return R.H.useSyncExternalStore(M,W,q)},_e.useTransition=function(){return R.H.useTransition()},_e.version="19.2.4",_e}var ox;function Hu(){return ox||(ox=1,Ef.exports=MC()),Ef.exports}var g=Hu();const xe=AC(g),lx=OC({__proto__:null,default:xe},[g]);var _f={exports:{}},Ao={},Cf={exports:{}},Tf={};var cx;function DC(){return cx||(cx=1,(function(t){function e(z,Y){var ne=z.length;z.push(Y);e:for(;0<ne;){var J=ne-1>>>1,le=z[J];if(0<o(le,Y))z[J]=Y,z[ne]=le,ne=J;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var Y=z[0],ne=z.pop();if(ne!==Y){z[0]=ne;e:for(var J=0,le=z.length,M=le>>>1;J<M;){var W=2*(J+1)-1,q=z[W],ie=W+1,H=z[ie];if(0>o(q,ne))ie<le&&0>o(H,q)?(z[J]=H,z[ie]=ne,J=ie):(z[J]=q,z[W]=ne,J=W);else if(ie<le&&0>o(H,ne))z[J]=H,z[ie]=ne,J=ie;else break e}}return Y}function o(z,Y){var ne=z.sortIndex-Y.sortIndex;return ne!==0?ne:z.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],v=1,x=null,b=3,w=!1,j=!1,_=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function k(z){for(var Y=n(p);Y!==null;){if(Y.callback===null)i(p);else if(Y.startTime<=z)i(p),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=n(p)}}function A(z){if(_=!1,k(z),!j)if(n(f)!==null)j=!0,O||(O=!0,re());else{var Y=n(p);Y!==null&&oe(A,Y.startTime-z)}}var O=!1,R=-1,I=5,P=-1;function G(){return E?!0:!(t.unstable_now()-P<I)}function se(){if(E=!1,O){var z=t.unstable_now();P=z;var Y=!0;try{e:{j=!1,_&&(_=!1,N(R),R=-1),w=!0;var ne=b;try{t:{for(k(z),x=n(f);x!==null&&!(x.expirationTime>z&&G());){var J=x.callback;if(typeof J=="function"){x.callback=null,b=x.priorityLevel;var le=J(x.expirationTime<=z);if(z=t.unstable_now(),typeof le=="function"){x.callback=le,k(z),Y=!0;break t}x===n(f)&&i(f),k(z)}else i(f);x=n(f)}if(x!==null)Y=!0;else{var M=n(p);M!==null&&oe(A,M.startTime-z),Y=!1}}break e}finally{x=null,b=ne,w=!1}Y=void 0}}finally{Y?re():O=!1}}}var re;if(typeof T=="function")re=function(){T(se)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ae=ee.port2;ee.port1.onmessage=se,re=function(){ae.postMessage(null)}}else re=function(){C(se,0)};function oe(z,Y){R=C(function(){z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(z){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var ne=b;b=Y;try{return z()}finally{b=ne}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ne=b;b=z;try{return Y()}finally{b=ne}},t.unstable_scheduleCallback=function(z,Y,ne){var J=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?J+ne:J):ne=J,z){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ne+le,z={id:v++,callback:Y,priorityLevel:z,startTime:ne,expirationTime:le,sortIndex:-1},ne>J?(z.sortIndex=ne,e(p,z),n(f)===null&&z===n(p)&&(_?(N(R),R=-1):_=!0,oe(A,ne-J))):(z.sortIndex=le,e(f,z),j||w||(j=!0,O||(O=!0,re()))),z},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(z){var Y=b;return function(){var ne=b;b=Y;try{return z.apply(this,arguments)}finally{b=ne}}}})(Tf)),Tf}var ux;function PC(){return ux||(ux=1,Cf.exports=DC()),Cf.exports}var Nf={exports:{}},zt={};var dx;function zC(){if(dx)return zt;dx=1;var t=Hu();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(f,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:f,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,zt.createPortal=function(f,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(f,p,null,v)},zt.flushSync=function(f){var p=u.T,v=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=p,i.p=v,i.d.f()}},zt.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},zt.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},zt.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:w}):v==="script"&&i.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},zt.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},zt.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin);i.d.L(f,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},zt.preloadModule=function(f,p){if(typeof f=="string")if(p){var v=h(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},zt.requestFormReset=function(f){i.d.r(f)},zt.unstable_batchedUpdates=function(f,p){return f(p)},zt.useFormState=function(f,p,v){return u.H.useFormState(f,p,v)},zt.useFormStatus=function(){return u.H.useHostTransitionStatus()},zt.version="19.2.4",zt}var hx;function Qw(){if(hx)return Nf.exports;hx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nf.exports=zC(),Nf.exports}var fx;function UC(){if(fx)return Ao;fx=1;var t=PC(),e=Hu(),n=Qw();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var r=s,a=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(a=r.return),s=r.return;while(s)}return r.tag===3?a:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(c(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=c(s),r===null)throw Error(i(188));return r!==s?null:s}for(var a=s,d=r;;){var m=a.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){a=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===a)return f(m),s;if(y===d)return f(m),r;y=y.sibling}throw Error(i(188))}if(a.return!==d.return)a=m,d=y;else{for(var S=!1,L=m.child;L;){if(L===a){S=!0,a=m,d=y;break}if(L===d){S=!0,d=m,a=y;break}L=L.sibling}if(!S){for(L=y.child;L;){if(L===a){S=!0,a=y,d=m;break}if(L===d){S=!0,d=y,a=m;break}L=L.sibling}if(!S)throw Error(i(189))}}if(a.alternate!==d)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?s:r}function v(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=v(s),r!==null)return r;s=s.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),T=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function re(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var ee=Symbol.for("react.client.reference");function ae(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ee?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case T:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case k:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return r=s.displayName||null,r!==null?r:ae(s.type)||"Memo";case I:r=s._payload,s=s._init;try{return ae(s(r))}catch{}}return null}var oe=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},J=[],le=-1;function M(s){return{current:s}}function W(s){0>le||(s.current=J[le],J[le]=null,le--)}function q(s,r){le++,J[le]=s.current,s.current=r}var ie=M(null),H=M(null),he=M(null),pe=M(null);function me(s,r){switch(q(he,r),q(H,s),q(ie,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Ty(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Ty(r),s=Ny(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}W(ie),q(ie,s)}function Se(){W(ie),W(H),W(he)}function ye(s){s.memoizedState!==null&&q(pe,s);var r=ie.current,a=Ny(r,s.type);r!==a&&(q(H,s),q(ie,a))}function Oe(s){H.current===s&&(W(ie),W(H)),pe.current===s&&(W(pe),Co._currentValue=ne)}var Bt,fn;function Jt(s){if(Bt===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Bt=r&&r[1]||"",fn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bt+s+fn}var ze=!1;function dr(s,r){if(!s||ze)return"";ze=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var F=K}Reflect.construct(s,[],te)}else{try{te.call()}catch(K){F=K}s.call(te.prototype)}}else{try{throw Error()}catch(K){F=K}(te=s())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),S=y[0],L=y[1];if(S&&L){var D=S.split(`
`),V=L.split(`
`);for(m=d=0;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;for(;m<V.length&&!V[m].includes("DetermineComponentFrameRoot");)m++;if(d===D.length||m===V.length)for(d=D.length-1,m=V.length-1;1<=d&&0<=m&&D[d]!==V[m];)m--;for(;1<=d&&0<=m;d--,m--)if(D[d]!==V[m]){if(d!==1||m!==1)do if(d--,m--,0>m||D[d]!==V[m]){var X=`
`+D[d].replace(" at new "," at ");return s.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",s.displayName)),X}while(1<=d&&0<=m);break}}}finally{ze=!1,Error.prepareStackTrace=a}return(a=s?s.displayName||s.name:"")?Jt(a):""}function hr(s,r){switch(s.tag){case 26:case 27:case 5:return Jt(s.type);case 16:return Jt("Lazy");case 13:return s.child!==r&&r!==null?Jt("Suspense Fallback"):Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 15:return dr(s.type,!1);case 11:return dr(s.type.render,!1);case 1:return dr(s.type,!0);case 31:return Jt("Activity");default:return""}}function za(s){try{var r="",a=null;do r+=hr(s,a),a=s,s=s.return;while(s);return r}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Os=Object.prototype.hasOwnProperty,fr=t.unstable_scheduleCallback,As=t.unstable_cancelCallback,Cl=t.unstable_shouldYield,pr=t.unstable_requestPaint,Mt=t.unstable_now,Tl=t.unstable_getCurrentPriorityLevel,Ua=t.unstable_ImmediatePriority,yi=t.unstable_UserBlockingPriority,xi=t.unstable_NormalPriority,mr=t.unstable_LowPriority,Ba=t.unstable_IdlePriority,gr=t.log,Nl=t.unstable_setDisableYieldValue,qn=null,Dt=null;function Qt(s){if(typeof gr=="function"&&Nl(s),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(qn,s)}catch{}}var Pt=Math.clz32?Math.clz32:yr,vr=Math.log,Ll=Math.LN2;function yr(s){return s>>>=0,s===0?32:31-(vr(s)/Ll|0)|0}var bi=256,wi=262144,ji=4194304;function pn(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Si(s,r,a){var d=s.pendingLanes;if(d===0)return 0;var m=0,y=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var L=d&134217727;return L!==0?(d=L&~y,d!==0?m=pn(d):(S&=L,S!==0?m=pn(S):a||(a=L&~s,a!==0&&(m=pn(a))))):(L=d&~y,L!==0?m=pn(L):S!==0?m=pn(S):a||(a=d&~s,a!==0&&(m=pn(a)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,a=r&-r,y>=a||y===32&&(a&4194048)!==0)?r:m}function Fn(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Ol(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ei(){var s=ji;return ji<<=1,(ji&62914560)===0&&(ji=4194304),s}function xr(s){for(var r=[],a=0;31>a;a++)r.push(s);return r}function _i(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ci(s,r,a,d,m,y){var S=s.pendingLanes;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=a,s.entangledLanes&=a,s.errorRecoveryDisabledLanes&=a,s.shellSuspendCounter=0;var L=s.entanglements,D=s.expirationTimes,V=s.hiddenUpdates;for(a=S&~a;0<a;){var X=31-Pt(a),te=1<<X;L[X]=0,D[X]=-1;var F=V[X];if(F!==null)for(V[X]=null,X=0;X<F.length;X++){var K=F[X];K!==null&&(K.lane&=-536870913)}a&=~te}d!==0&&Ee(s,d,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(S&~r))}function Ee(s,r,a){s.pendingLanes|=r,s.suspendedLanes&=~r;var d=31-Pt(r);s.entangledLanes|=r,s.entanglements[d]=s.entanglements[d]|1073741824|a&261930}function ug(s,r){var a=s.entangledLanes|=r;for(s=s.entanglements;a;){var d=31-Pt(a),m=1<<d;m&r|s[d]&r&&(s[d]|=r),a&=~m}}function dg(s,r){var a=r&-r;return a=(a&42)!==0?1:dd(a),(a&(s.suspendedLanes|r))!==0?0:a}function dd(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function hd(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function hg(){var s=Y.p;return s!==0?s:(s=window.event,s===void 0?32:Xy(s.type))}function fg(s,r){var a=Y.p;try{return Y.p=s,r()}finally{Y.p=a}}var Rs=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Rs,Ht="__reactProps$"+Rs,br="__reactContainer$"+Rs,fd="__reactEvents$"+Rs,xE="__reactListeners$"+Rs,bE="__reactHandles$"+Rs,pg="__reactResources$"+Rs,Ia="__reactMarker$"+Rs;function pd(s){delete s[Ct],delete s[Ht],delete s[fd],delete s[xE],delete s[bE]}function wr(s){var r=s[Ct];if(r)return r;for(var a=s.parentNode;a;){if(r=a[br]||a[Ct]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(s=Dy(s);s!==null;){if(a=s[Ct])return a;s=Dy(s)}return r}s=a,a=s.parentNode}return null}function jr(s){if(s=s[Ct]||s[br]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function $a(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Sr(s){var r=s[pg];return r||(r=s[pg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Et(s){s[Ia]=!0}var mg=new Set,gg={};function Ti(s,r){Er(s,r),Er(s+"Capture",r)}function Er(s,r){for(gg[s]=r,s=0;s<r.length;s++)mg.add(r[s])}var wE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vg={},yg={};function jE(s){return Os.call(yg,s)?!0:Os.call(vg,s)?!1:wE.test(s)?yg[s]=!0:(vg[s]=!0,!1)}function Al(s,r,a){if(jE(r))if(a===null)s.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+a)}}function Rl(s,r,a){if(a===null)s.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+a)}}function ss(s,r,a,d){if(d===null)s.removeAttribute(a);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttributeNS(r,a,""+d)}}function mn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function xg(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function SE(s,r,a){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var m=d.get,y=d.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(S){a=""+S,y.call(this,S)}}),Object.defineProperty(s,r,{enumerable:d.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function md(s){if(!s._valueTracker){var r=xg(s)?"checked":"value";s._valueTracker=SE(s,r,""+s[r])}}function bg(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var a=r.getValue(),d="";return s&&(d=xg(s)?s.checked?"true":"false":s.value),s=d,s!==a?(r.setValue(s),!0):!1}function kl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var EE=/[\n"\\]/g;function gn(s){return s.replace(EE,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function gd(s,r,a,d,m,y,S,L){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),r!=null?S==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+mn(r)):s.value!==""+mn(r)&&(s.value=""+mn(r)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),r!=null?vd(s,S,mn(r)):a!=null?vd(s,S,mn(a)):d!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.name=""+mn(L):s.removeAttribute("name")}function wg(s,r,a,d,m,y,S,L){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){md(s);return}a=a!=null?""+mn(a):"",r=r!=null?""+mn(r):a,L||r===s.value||(s.value=r),s.defaultValue=r}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=L?s.checked:!!d,s.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S),md(s)}function vd(s,r,a){r==="number"&&kl(s.ownerDocument)===s||s.defaultValue===""+a||(s.defaultValue=""+a)}function _r(s,r,a,d){if(s=s.options,r){r={};for(var m=0;m<a.length;m++)r["$"+a[m]]=!0;for(a=0;a<s.length;a++)m=r.hasOwnProperty("$"+s[a].value),s[a].selected!==m&&(s[a].selected=m),m&&d&&(s[a].defaultSelected=!0)}else{for(a=""+mn(a),r=null,m=0;m<s.length;m++){if(s[m].value===a){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function jg(s,r,a){if(r!=null&&(r=""+mn(r),r!==s.value&&(s.value=r),a==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=a!=null?""+mn(a):""}function Sg(s,r,a,d){if(r==null){if(d!=null){if(a!=null)throw Error(i(92));if(oe(d)){if(1<d.length)throw Error(i(93));d=d[0]}a=d}a==null&&(a=""),r=a}a=mn(r),s.defaultValue=a,d=s.textContent,d===a&&d!==""&&d!==null&&(s.value=d),md(s)}function Cr(s,r){if(r){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=r;return}}s.textContent=r}var _E=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eg(s,r,a){var d=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?d?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":d?s.setProperty(r,a):typeof a!="number"||a===0||_E.has(r)?r==="float"?s.cssFloat=a:s[r]=(""+a).trim():s[r]=a+"px"}function _g(s,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,a!=null){for(var d in a)!a.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var m in r)d=r[m],r.hasOwnProperty(m)&&a[m]!==d&&Eg(s,m,d)}else for(var y in r)r.hasOwnProperty(y)&&Eg(s,y,r[y])}function yd(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ml(s){return TE.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function is(){}var xd=null;function bd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Tr=null,Nr=null;function Cg(s){var r=jr(s);if(r&&(s=r.stateNode)){var a=s[Ht]||null;e:switch(s=r.stateNode,r.type){case"input":if(gd(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var d=a[r];if(d!==s&&d.form===s.form){var m=d[Ht]||null;if(!m)throw Error(i(90));gd(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<a.length;r++)d=a[r],d.form===s.form&&bg(d)}break e;case"textarea":jg(s,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&_r(s,!!a.multiple,r,!1)}}}var wd=!1;function Tg(s,r,a){if(wd)return s(r,a);wd=!0;try{var d=s(r);return d}finally{if(wd=!1,(Tr!==null||Nr!==null)&&(wc(),Tr&&(r=Tr,s=Nr,Nr=Tr=null,Cg(r),s)))for(r=0;r<s.length;r++)Cg(s[r])}}function Va(s,r){var a=s.stateNode;if(a===null)return null;var d=a[Ht]||null;if(d===null)return null;a=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jd=!1;if(rs)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){jd=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{jd=!1}var ks=null,Sd=null,Dl=null;function Ng(){if(Dl)return Dl;var s,r=Sd,a=r.length,d,m="value"in ks?ks.value:ks.textContent,y=m.length;for(s=0;s<a&&r[s]===m[s];s++);var S=a-s;for(d=1;d<=S&&r[a-d]===m[y-d];d++);return Dl=m.slice(s,1<d?1-d:void 0)}function Pl(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function zl(){return!0}function Lg(){return!1}function qt(s){function r(a,d,m,y,S){this._reactName=a,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(a=s[L],this[L]=a?a(y):y[L]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?zl:Lg,this.isPropagationStopped=Lg,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zl)},persist:function(){},isPersistent:zl}),r}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=qt(Ni),qa=x({},Ni,{view:0,detail:0}),NE=qt(qa),Ed,_d,Fa,Bl=x({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Td,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fa&&(Fa&&s.type==="mousemove"?(Ed=s.screenX-Fa.screenX,_d=s.screenY-Fa.screenY):_d=Ed=0,Fa=s),Ed)},movementY:function(s){return"movementY"in s?s.movementY:_d}}),Og=qt(Bl),LE=x({},Bl,{dataTransfer:0}),OE=qt(LE),AE=x({},qa,{relatedTarget:0}),Cd=qt(AE),RE=x({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),kE=qt(RE),ME=x({},Ni,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),DE=qt(ME),PE=x({},Ni,{data:0}),Ag=qt(PE),zE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IE(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=BE[s])?!!r[s]:!1}function Td(){return IE}var $E=x({},qa,{key:function(s){if(s.key){var r=zE[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Pl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?UE[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Td,charCode:function(s){return s.type==="keypress"?Pl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Pl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),VE=qt($E),HE=x({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rg=qt(HE),qE=x({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Td}),FE=qt(qE),GE=x({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),WE=qt(GE),KE=x({},Bl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),YE=qt(KE),ZE=x({},Ni,{newState:0,oldState:0}),XE=qt(ZE),JE=[9,13,27,32],Nd=rs&&"CompositionEvent"in window,Ga=null;rs&&"documentMode"in document&&(Ga=document.documentMode);var QE=rs&&"TextEvent"in window&&!Ga,kg=rs&&(!Nd||Ga&&8<Ga&&11>=Ga),Mg=" ",Dg=!1;function Pg(s,r){switch(s){case"keyup":return JE.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Lr=!1;function e_(s,r){switch(s){case"compositionend":return zg(r);case"keypress":return r.which!==32?null:(Dg=!0,Mg);case"textInput":return s=r.data,s===Mg&&Dg?null:s;default:return null}}function t_(s,r){if(Lr)return s==="compositionend"||!Nd&&Pg(s,r)?(s=Ng(),Dl=Sd=ks=null,Lr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return kg&&r.locale!=="ko"?null:r.data;default:return null}}var n_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ug(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!n_[s.type]:r==="textarea"}function Bg(s,r,a,d){Tr?Nr?Nr.push(d):Nr=[d]:Tr=d,r=Nc(r,"onChange"),0<r.length&&(a=new Ul("onChange","change",null,a,d),s.push({event:a,listeners:r}))}var Wa=null,Ka=null;function s_(s){wy(s,0)}function Il(s){var r=$a(s);if(bg(r))return s}function Ig(s,r){if(s==="change")return r}var $g=!1;if(rs){var Ld;if(rs){var Od="oninput"in document;if(!Od){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),Od=typeof Vg.oninput=="function"}Ld=Od}else Ld=!1;$g=Ld&&(!document.documentMode||9<document.documentMode)}function Hg(){Wa&&(Wa.detachEvent("onpropertychange",qg),Ka=Wa=null)}function qg(s){if(s.propertyName==="value"&&Il(Ka)){var r=[];Bg(r,Ka,s,bd(s)),Tg(s_,r)}}function i_(s,r,a){s==="focusin"?(Hg(),Wa=r,Ka=a,Wa.attachEvent("onpropertychange",qg)):s==="focusout"&&Hg()}function r_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Il(Ka)}function a_(s,r){if(s==="click")return Il(r)}function o_(s,r){if(s==="input"||s==="change")return Il(r)}function l_(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var en=typeof Object.is=="function"?Object.is:l_;function Ya(s,r){if(en(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var a=Object.keys(s),d=Object.keys(r);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var m=a[d];if(!Os.call(r,m)||!en(s[m],r[m]))return!1}return!0}function Fg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Gg(s,r){var a=Fg(s);s=0;for(var d;a;){if(a.nodeType===3){if(d=s+a.textContent.length,s<=r&&d>=r)return{node:a,offset:r-s};s=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fg(a)}}function Wg(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Wg(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Kg(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=kl(s.document);r instanceof s.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)s=r.contentWindow;else break;r=kl(s.document)}return r}function Ad(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var c_=rs&&"documentMode"in document&&11>=document.documentMode,Or=null,Rd=null,Za=null,kd=!1;function Yg(s,r,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kd||Or==null||Or!==kl(d)||(d=Or,"selectionStart"in d&&Ad(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Za&&Ya(Za,d)||(Za=d,d=Nc(Rd,"onSelect"),0<d.length&&(r=new Ul("onSelect","select",null,r,a),s.push({event:r,listeners:d}),r.target=Or)))}function Li(s,r){var a={};return a[s.toLowerCase()]=r.toLowerCase(),a["Webkit"+s]="webkit"+r,a["Moz"+s]="moz"+r,a}var Ar={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},Md={},Zg={};rs&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function Oi(s){if(Md[s])return Md[s];if(!Ar[s])return s;var r=Ar[s],a;for(a in r)if(r.hasOwnProperty(a)&&a in Zg)return Md[s]=r[a];return s}var Xg=Oi("animationend"),Jg=Oi("animationiteration"),Qg=Oi("animationstart"),u_=Oi("transitionrun"),d_=Oi("transitionstart"),h_=Oi("transitioncancel"),ev=Oi("transitionend"),tv=new Map,Dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dd.push("scrollEnd");function On(s,r){tv.set(s,r),Ti(r,[s])}var $l=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},vn=[],Rr=0,Pd=0;function Vl(){for(var s=Rr,r=Pd=Rr=0;r<s;){var a=vn[r];vn[r++]=null;var d=vn[r];vn[r++]=null;var m=vn[r];vn[r++]=null;var y=vn[r];if(vn[r++]=null,d!==null&&m!==null){var S=d.pending;S===null?m.next=m:(m.next=S.next,S.next=m),d.pending=m}y!==0&&nv(a,m,y)}}function Hl(s,r,a,d){vn[Rr++]=s,vn[Rr++]=r,vn[Rr++]=a,vn[Rr++]=d,Pd|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function zd(s,r,a,d){return Hl(s,r,a,d),ql(s)}function Ai(s,r){return Hl(s,null,null,r),ql(s)}function nv(s,r,a){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a);for(var m=!1,y=s.return;y!==null;)y.childLanes|=a,d=y.alternate,d!==null&&(d.childLanes|=a),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&r!==null&&(m=31-Pt(a),s=y.hiddenUpdates,d=s[m],d===null?s[m]=[r]:d.push(r),r.lane=a|536870912),y):null}function ql(s){if(50<xo)throw xo=0,Gh=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var kr={};function f_(s,r,a,d){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(s,r,a,d){return new f_(s,r,a,d)}function Ud(s){return s=s.prototype,!(!s||!s.isReactComponent)}function as(s,r){var a=s.alternate;return a===null?(a=tn(s.tag,r,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=r,a.type=s.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=s.flags&65011712,a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,r=s.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a.refCleanup=s.refCleanup,a}function sv(s,r){s.flags&=65011714;var a=s.alternate;return a===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,r=a.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Fl(s,r,a,d,m,y){var S=0;if(d=s,typeof s=="function")Ud(s)&&(S=1);else if(typeof s=="string")S=yC(s,a,ie.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case P:return s=tn(31,a,r,m),s.elementType=P,s.lanes=y,s;case _:return Ri(a.children,m,y,r);case E:S=8,m|=24;break;case C:return s=tn(12,a,r,m|2),s.elementType=C,s.lanes=y,s;case A:return s=tn(13,a,r,m),s.elementType=A,s.lanes=y,s;case O:return s=tn(19,a,r,m),s.elementType=O,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case T:S=10;break e;case N:S=9;break e;case k:S=11;break e;case R:S=14;break e;case I:S=16,d=null;break e}S=29,a=Error(i(130,s===null?"null":typeof s,"")),d=null}return r=tn(S,a,r,m),r.elementType=s,r.type=d,r.lanes=y,r}function Ri(s,r,a,d){return s=tn(7,s,d,r),s.lanes=a,s}function Bd(s,r,a){return s=tn(6,s,null,r),s.lanes=a,s}function iv(s){var r=tn(18,null,null,0);return r.stateNode=s,r}function Id(s,r,a){return r=tn(4,s.children!==null?s.children:[],s.key,r),r.lanes=a,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var rv=new WeakMap;function yn(s,r){if(typeof s=="object"&&s!==null){var a=rv.get(s);return a!==void 0?a:(r={value:s,source:r,stack:za(r)},rv.set(s,r),r)}return{value:s,source:r,stack:za(r)}}var Mr=[],Dr=0,Gl=null,Xa=0,xn=[],bn=0,Ms=null,Gn=1,Wn="";function os(s,r){Mr[Dr++]=Xa,Mr[Dr++]=Gl,Gl=s,Xa=r}function av(s,r,a){xn[bn++]=Gn,xn[bn++]=Wn,xn[bn++]=Ms,Ms=s;var d=Gn;s=Wn;var m=32-Pt(d)-1;d&=~(1<<m),a+=1;var y=32-Pt(r)+m;if(30<y){var S=m-m%5;y=(d&(1<<S)-1).toString(32),d>>=S,m-=S,Gn=1<<32-Pt(r)+m|a<<m|d,Wn=y+s}else Gn=1<<y|a<<m|d,Wn=s}function $d(s){s.return!==null&&(os(s,1),av(s,1,0))}function Vd(s){for(;s===Gl;)Gl=Mr[--Dr],Mr[Dr]=null,Xa=Mr[--Dr],Mr[Dr]=null;for(;s===Ms;)Ms=xn[--bn],xn[bn]=null,Wn=xn[--bn],xn[bn]=null,Gn=xn[--bn],xn[bn]=null}function ov(s,r){xn[bn++]=Gn,xn[bn++]=Wn,xn[bn++]=Ms,Gn=r.id,Wn=r.overflow,Ms=s}var Tt=null,tt=null,Pe=!1,Ds=null,wn=!1,Hd=Error(i(519));function Ps(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ja(yn(r,s)),Hd}function lv(s){var r=s.stateNode,a=s.type,d=s.memoizedProps;switch(r[Ct]=s,r[Ht]=d,a){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(a=0;a<wo.length;a++)Re(wo[a],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Re("invalid",r),wg(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Re("invalid",r);break;case"textarea":Re("invalid",r),Sg(r,d.value,d.defaultValue,d.children)}a=d.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||d.suppressHydrationWarning===!0||_y(r.textContent,a)?(d.popover!=null&&(Re("beforetoggle",r),Re("toggle",r)),d.onScroll!=null&&Re("scroll",r),d.onScrollEnd!=null&&Re("scrollend",r),d.onClick!=null&&(r.onclick=is),r=!0):r=!1,r||Ps(s,!0)}function cv(s){for(Tt=s.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Tt=Tt.return}}function Pr(s){if(s!==Tt)return!1;if(!Pe)return cv(s),Pe=!0,!1;var r=s.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=s.type,a=!(a!=="form"&&a!=="button")||lf(s.type,s.memoizedProps)),a=!a),a&&tt&&Ps(s),cv(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));tt=My(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));tt=My(s)}else r===27?(r=tt,Zs(s.type)?(s=ff,ff=null,tt=s):tt=r):tt=Tt?Sn(s.stateNode.nextSibling):null;return!0}function ki(){tt=Tt=null,Pe=!1}function qd(){var s=Ds;return s!==null&&(Kt===null?Kt=s:Kt.push.apply(Kt,s),Ds=null),s}function Ja(s){Ds===null?Ds=[s]:Ds.push(s)}var Fd=M(null),Mi=null,ls=null;function zs(s,r,a){q(Fd,r._currentValue),r._currentValue=a}function cs(s){s._currentValue=Fd.current,W(Fd)}function Gd(s,r,a){for(;s!==null;){var d=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),s===a)break;s=s.return}}function Wd(s,r,a,d){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;e:for(;y!==null;){var L=y;y=m;for(var D=0;D<r.length;D++)if(L.context===r[D]){y.lanes|=a,L=y.alternate,L!==null&&(L.lanes|=a),Gd(y.return,a,s),d||(S=null);break e}y=L.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=a,y=S.alternate,y!==null&&(y.lanes|=a),Gd(S,a,s),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===s){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function zr(s,r,a,d){s=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var L=m.type;en(m.pendingProps.value,S.value)||(s!==null?s.push(L):s=[L])}}else if(m===pe.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Co):s=[Co])}m=m.return}s!==null&&Wd(r,s,a,d),r.flags|=262144}function Wl(s){for(s=s.firstContext;s!==null;){if(!en(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Di(s){Mi=s,ls=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Nt(s){return uv(Mi,s)}function Kl(s,r){return Mi===null&&Di(s),uv(s,r)}function uv(s,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ls===null){if(s===null)throw Error(i(308));ls=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ls=ls.next=r;return a}var p_=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(a,d){s.push(d)}};this.abort=function(){r.aborted=!0,s.forEach(function(a){return a()})}},m_=t.unstable_scheduleCallback,g_=t.unstable_NormalPriority,pt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new p_,data:new Map,refCount:0}}function Qa(s){s.refCount--,s.refCount===0&&m_(g_,function(){s.controller.abort()})}var eo=null,Yd=0,Ur=0,Br=null;function v_(s,r){if(eo===null){var a=eo=[];Yd=0,Ur=Jh(),Br={status:"pending",value:void 0,then:function(d){a.push(d)}}}return Yd++,r.then(dv,dv),r}function dv(){if(--Yd===0&&eo!==null){Br!==null&&(Br.status="fulfilled");var s=eo;eo=null,Ur=0,Br=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function y_(s,r){var a=[],d={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return s.then(function(){d.status="fulfilled",d.value=r;for(var m=0;m<a.length;m++)(0,a[m])(r)},function(m){for(d.status="rejected",d.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),d}var hv=z.S;z.S=function(s,r){Y0=Mt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&v_(s,r),hv!==null&&hv(s,r)};var Pi=M(null);function Zd(){var s=Pi.current;return s!==null?s:Ke.pooledCache}function Yl(s,r){r===null?q(Pi,Pi.current):q(Pi,r.pool)}function fv(){var s=Zd();return s===null?null:{parent:pt._currentValue,pool:s}}var Ir=Error(i(460)),Xd=Error(i(474)),Zl=Error(i(542)),Xl={then:function(){}};function pv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function mv(s,r,a){switch(a=s[a],a===void 0?s.push(r):a!==r&&(r.then(is,is),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,vv(s),s;default:if(typeof r.status=="string")r.then(is,is);else{if(s=Ke,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(d){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=d}},function(d){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,vv(s),s}throw Ui=r,Ir}}function zi(s){try{var r=s._init;return r(s._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ui=a,Ir):a}}var Ui=null;function gv(){if(Ui===null)throw Error(i(459));var s=Ui;return Ui=null,s}function vv(s){if(s===Ir||s===Zl)throw Error(i(483))}var $r=null,to=0;function Jl(s){var r=to;return to+=1,$r===null&&($r=[]),mv($r,s,r)}function no(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Ql(s,r){throw r.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function yv(s){function r(B,U){if(s){var $=B.deletions;$===null?(B.deletions=[U],B.flags|=16):$.push(U)}}function a(B,U){if(!s)return null;for(;U!==null;)r(B,U),U=U.sibling;return null}function d(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function m(B,U){return B=as(B,U),B.index=0,B.sibling=null,B}function y(B,U,$){return B.index=$,s?($=B.alternate,$!==null?($=$.index,$<U?(B.flags|=67108866,U):$):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function S(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function L(B,U,$,Q){return U===null||U.tag!==6?(U=Bd($,B.mode,Q),U.return=B,U):(U=m(U,$),U.return=B,U)}function D(B,U,$,Q){var ve=$.type;return ve===_?X(B,U,$.props.children,Q,$.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===I&&zi(ve)===U.type)?(U=m(U,$.props),no(U,$),U.return=B,U):(U=Fl($.type,$.key,$.props,null,B.mode,Q),no(U,$),U.return=B,U)}function V(B,U,$,Q){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=Id($,B.mode,Q),U.return=B,U):(U=m(U,$.children||[]),U.return=B,U)}function X(B,U,$,Q,ve){return U===null||U.tag!==7?(U=Ri($,B.mode,Q,ve),U.return=B,U):(U=m(U,$),U.return=B,U)}function te(B,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Bd(""+U,B.mode,$),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return $=Fl(U.type,U.key,U.props,null,B.mode,$),no($,U),$.return=B,$;case j:return U=Id(U,B.mode,$),U.return=B,U;case I:return U=zi(U),te(B,U,$)}if(oe(U)||re(U))return U=Ri(U,B.mode,$,null),U.return=B,U;if(typeof U.then=="function")return te(B,Jl(U),$);if(U.$$typeof===T)return te(B,Kl(B,U),$);Ql(B,U)}return null}function F(B,U,$,Q){var ve=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ve!==null?null:L(B,U,""+$,Q);if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return $.key===ve?D(B,U,$,Q):null;case j:return $.key===ve?V(B,U,$,Q):null;case I:return $=zi($),F(B,U,$,Q)}if(oe($)||re($))return ve!==null?null:X(B,U,$,Q,null);if(typeof $.then=="function")return F(B,U,Jl($),Q);if($.$$typeof===T)return F(B,U,Kl(B,$),Q);Ql(B,$)}return null}function K(B,U,$,Q,ve){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return B=B.get($)||null,L(U,B,""+Q,ve);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return B=B.get(Q.key===null?$:Q.key)||null,D(U,B,Q,ve);case j:return B=B.get(Q.key===null?$:Q.key)||null,V(U,B,Q,ve);case I:return Q=zi(Q),K(B,U,$,Q,ve)}if(oe(Q)||re(Q))return B=B.get($)||null,X(U,B,Q,ve,null);if(typeof Q.then=="function")return K(B,U,$,Jl(Q),ve);if(Q.$$typeof===T)return K(B,U,$,Kl(U,Q),ve);Ql(U,Q)}return null}function ue(B,U,$,Q){for(var ve=null,Ue=null,fe=U,Te=U=0,De=null;fe!==null&&Te<$.length;Te++){fe.index>Te?(De=fe,fe=null):De=fe.sibling;var Be=F(B,fe,$[Te],Q);if(Be===null){fe===null&&(fe=De);break}s&&fe&&Be.alternate===null&&r(B,fe),U=y(Be,U,Te),Ue===null?ve=Be:Ue.sibling=Be,Ue=Be,fe=De}if(Te===$.length)return a(B,fe),Pe&&os(B,Te),ve;if(fe===null){for(;Te<$.length;Te++)fe=te(B,$[Te],Q),fe!==null&&(U=y(fe,U,Te),Ue===null?ve=fe:Ue.sibling=fe,Ue=fe);return Pe&&os(B,Te),ve}for(fe=d(fe);Te<$.length;Te++)De=K(fe,B,Te,$[Te],Q),De!==null&&(s&&De.alternate!==null&&fe.delete(De.key===null?Te:De.key),U=y(De,U,Te),Ue===null?ve=De:Ue.sibling=De,Ue=De);return s&&fe.forEach(function(ti){return r(B,ti)}),Pe&&os(B,Te),ve}function be(B,U,$,Q){if($==null)throw Error(i(151));for(var ve=null,Ue=null,fe=U,Te=U=0,De=null,Be=$.next();fe!==null&&!Be.done;Te++,Be=$.next()){fe.index>Te?(De=fe,fe=null):De=fe.sibling;var ti=F(B,fe,Be.value,Q);if(ti===null){fe===null&&(fe=De);break}s&&fe&&ti.alternate===null&&r(B,fe),U=y(ti,U,Te),Ue===null?ve=ti:Ue.sibling=ti,Ue=ti,fe=De}if(Be.done)return a(B,fe),Pe&&os(B,Te),ve;if(fe===null){for(;!Be.done;Te++,Be=$.next())Be=te(B,Be.value,Q),Be!==null&&(U=y(Be,U,Te),Ue===null?ve=Be:Ue.sibling=Be,Ue=Be);return Pe&&os(B,Te),ve}for(fe=d(fe);!Be.done;Te++,Be=$.next())Be=K(fe,B,Te,Be.value,Q),Be!==null&&(s&&Be.alternate!==null&&fe.delete(Be.key===null?Te:Be.key),U=y(Be,U,Te),Ue===null?ve=Be:Ue.sibling=Be,Ue=Be);return s&&fe.forEach(function(LC){return r(B,LC)}),Pe&&os(B,Te),ve}function We(B,U,$,Q){if(typeof $=="object"&&$!==null&&$.type===_&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case w:e:{for(var ve=$.key;U!==null;){if(U.key===ve){if(ve=$.type,ve===_){if(U.tag===7){a(B,U.sibling),Q=m(U,$.props.children),Q.return=B,B=Q;break e}}else if(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===I&&zi(ve)===U.type){a(B,U.sibling),Q=m(U,$.props),no(Q,$),Q.return=B,B=Q;break e}a(B,U);break}else r(B,U);U=U.sibling}$.type===_?(Q=Ri($.props.children,B.mode,Q,$.key),Q.return=B,B=Q):(Q=Fl($.type,$.key,$.props,null,B.mode,Q),no(Q,$),Q.return=B,B=Q)}return S(B);case j:e:{for(ve=$.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){a(B,U.sibling),Q=m(U,$.children||[]),Q.return=B,B=Q;break e}else{a(B,U);break}else r(B,U);U=U.sibling}Q=Id($,B.mode,Q),Q.return=B,B=Q}return S(B);case I:return $=zi($),We(B,U,$,Q)}if(oe($))return ue(B,U,$,Q);if(re($)){if(ve=re($),typeof ve!="function")throw Error(i(150));return $=ve.call($),be(B,U,$,Q)}if(typeof $.then=="function")return We(B,U,Jl($),Q);if($.$$typeof===T)return We(B,U,Kl(B,$),Q);Ql(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(a(B,U.sibling),Q=m(U,$),Q.return=B,B=Q):(a(B,U),Q=Bd($,B.mode,Q),Q.return=B,B=Q),S(B)):a(B,U)}return function(B,U,$,Q){try{to=0;var ve=We(B,U,$,Q);return $r=null,ve}catch(fe){if(fe===Ir||fe===Zl)throw fe;var Ue=tn(29,fe,null,B.mode);return Ue.lanes=Q,Ue.return=B,Ue}}}var Bi=yv(!0),xv=yv(!1),Us=!1;function Jd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qd(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Bs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Is(s,r,a){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Ve&2)!==0){var m=d.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),d.pending=r,r=ql(s),nv(s,null,a),r}return Hl(s,d,r,a),ql(s)}function so(s,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var d=r.lanes;d&=s.pendingLanes,a|=d,r.lanes=a,ug(s,a)}}function eh(s,r){var a=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var m=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,a=a.next}while(a!==null);y===null?m=y=r:y=y.next=r}else m=y=r;a={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=r:s.next=r,a.lastBaseUpdate=r}var th=!1;function io(){if(th){var s=Br;if(s!==null)throw s}}function ro(s,r,a,d){th=!1;var m=s.updateQueue;Us=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,L=m.shared.pending;if(L!==null){m.shared.pending=null;var D=L,V=D.next;D.next=null,S===null?y=V:S.next=V,S=D;var X=s.alternate;X!==null&&(X=X.updateQueue,L=X.lastBaseUpdate,L!==S&&(L===null?X.firstBaseUpdate=V:L.next=V,X.lastBaseUpdate=D))}if(y!==null){var te=m.baseState;S=0,X=V=D=null,L=y;do{var F=L.lane&-536870913,K=F!==L.lane;if(K?(Me&F)===F:(d&F)===F){F!==0&&F===Ur&&(th=!0),X!==null&&(X=X.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var ue=s,be=L;F=r;var We=a;switch(be.tag){case 1:if(ue=be.payload,typeof ue=="function"){te=ue.call(We,te,F);break e}te=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=be.payload,F=typeof ue=="function"?ue.call(We,te,F):ue,F==null)break e;te=x({},te,F);break e;case 2:Us=!0}}F=L.callback,F!==null&&(s.flags|=64,K&&(s.flags|=8192),K=m.callbacks,K===null?m.callbacks=[F]:K.push(F))}else K={lane:F,tag:L.tag,payload:L.payload,callback:L.callback,next:null},X===null?(V=X=K,D=te):X=X.next=K,S|=F;if(L=L.next,L===null){if(L=m.shared.pending,L===null)break;K=L,L=K.next,K.next=null,m.lastBaseUpdate=K,m.shared.pending=null}}while(!0);X===null&&(D=te),m.baseState=D,m.firstBaseUpdate=V,m.lastBaseUpdate=X,y===null&&(m.shared.lanes=0),Fs|=S,s.lanes=S,s.memoizedState=te}}function bv(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function wv(s,r){var a=s.callbacks;if(a!==null)for(s.callbacks=null,s=0;s<a.length;s++)bv(a[s],r)}var Vr=M(null),ec=M(0);function jv(s,r){s=ys,q(ec,s),q(Vr,r),ys=s|r.baseLanes}function nh(){q(ec,ys),q(Vr,Vr.current)}function sh(){ys=ec.current,W(Vr),W(ec)}var nn=M(null),jn=null;function $s(s){var r=s.alternate;q(ht,ht.current&1),q(nn,s),jn===null&&(r===null||Vr.current!==null||r.memoizedState!==null)&&(jn=s)}function ih(s){q(ht,ht.current),q(nn,s),jn===null&&(jn=s)}function Sv(s){s.tag===22?(q(ht,ht.current),q(nn,s),jn===null&&(jn=s)):Vs()}function Vs(){q(ht,ht.current),q(nn,nn.current)}function sn(s){W(nn),jn===s&&(jn=null),W(ht)}var ht=M(0);function tc(s){for(var r=s;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||df(a)||hf(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var us=0,Ce=null,Fe=null,mt=null,nc=!1,Hr=!1,Ii=!1,sc=0,ao=0,qr=null,x_=0;function lt(){throw Error(i(321))}function rh(s,r){if(r===null)return!1;for(var a=0;a<r.length&&a<s.length;a++)if(!en(s[a],r[a]))return!1;return!0}function ah(s,r,a,d,m,y){return us=y,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,z.H=s===null||s.memoizedState===null?a0:wh,Ii=!1,y=a(d,m),Ii=!1,Hr&&(y=_v(r,a,d,m)),Ev(s),y}function Ev(s){z.H=co;var r=Fe!==null&&Fe.next!==null;if(us=0,mt=Fe=Ce=null,nc=!1,ao=0,qr=null,r)throw Error(i(300));s===null||gt||(s=s.dependencies,s!==null&&Wl(s)&&(gt=!0))}function _v(s,r,a,d){Ce=s;var m=0;do{if(Hr&&(qr=null),ao=0,Hr=!1,25<=m)throw Error(i(301));if(m+=1,mt=Fe=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}z.H=o0,y=r(a,d)}while(Hr);return y}function b_(){var s=z.H,r=s.useState()[0];return r=typeof r.then=="function"?oo(r):r,s=s.useState()[0],(Fe!==null?Fe.memoizedState:null)!==s&&(Ce.flags|=1024),r}function oh(){var s=sc!==0;return sc=0,s}function lh(s,r,a){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~a}function ch(s){if(nc){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}nc=!1}us=0,mt=Fe=Ce=null,Hr=!1,ao=sc=0,qr=null}function It(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ce.memoizedState=mt=s:mt=mt.next=s,mt}function ft(){if(Fe===null){var s=Ce.alternate;s=s!==null?s.memoizedState:null}else s=Fe.next;var r=mt===null?Ce.memoizedState:mt.next;if(r!==null)mt=r,Fe=s;else{if(s===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));Fe=s,s={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},mt===null?Ce.memoizedState=mt=s:mt=mt.next=s}return mt}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oo(s){var r=ao;return ao+=1,qr===null&&(qr=[]),s=mv(qr,s,r),r=Ce,(mt===null?r.memoizedState:mt.next)===null&&(r=r.alternate,z.H=r===null||r.memoizedState===null?a0:wh),s}function rc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return oo(s);if(s.$$typeof===T)return Nt(s)}throw Error(i(438,String(s)))}function uh(s){var r=null,a=Ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var d=Ce.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ic(),Ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(s),d=0;d<s;d++)a[d]=G;return r.index++,a}function ds(s,r){return typeof r=="function"?r(s):r}function ac(s){var r=ft();return dh(r,Fe,s)}function dh(s,r,a){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var m=s.baseQueue,y=d.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}r.baseQueue=m=y,d.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{r=m.next;var L=S=null,D=null,V=r,X=!1;do{var te=V.lane&-536870913;if(te!==V.lane?(Me&te)===te:(us&te)===te){var F=V.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),te===Ur&&(X=!0);else if((us&F)===F){V=V.next,F===Ur&&(X=!0);continue}else te={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},D===null?(L=D=te,S=y):D=D.next=te,Ce.lanes|=F,Fs|=F;te=V.action,Ii&&a(y,te),y=V.hasEagerState?V.eagerState:a(y,te)}else F={lane:te,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},D===null?(L=D=F,S=y):D=D.next=F,Ce.lanes|=te,Fs|=te;V=V.next}while(V!==null&&V!==r);if(D===null?S=y:D.next=L,!en(y,s.memoizedState)&&(gt=!0,X&&(a=Br,a!==null)))throw a;s.memoizedState=y,s.baseState=S,s.baseQueue=D,d.lastRenderedState=y}return m===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function hh(s){var r=ft(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=s;var d=a.dispatch,m=a.pending,y=r.memoizedState;if(m!==null){a.pending=null;var S=m=m.next;do y=s(y,S.action),S=S.next;while(S!==m);en(y,r.memoizedState)||(gt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),a.lastRenderedState=y}return[y,d]}function Cv(s,r,a){var d=Ce,m=ft(),y=Pe;if(y){if(a===void 0)throw Error(i(407));a=a()}else a=r();var S=!en((Fe||m).memoizedState,a);if(S&&(m.memoizedState=a,gt=!0),m=m.queue,mh(Lv.bind(null,d,m,s),[s]),m.getSnapshot!==r||S||mt!==null&&mt.memoizedState.tag&1){if(d.flags|=2048,Fr(9,{destroy:void 0},Nv.bind(null,d,m,a,r),null),Ke===null)throw Error(i(349));y||(us&127)!==0||Tv(d,r,a)}return a}function Tv(s,r,a){s.flags|=16384,s={getSnapshot:r,value:a},r=Ce.updateQueue,r===null?(r=ic(),Ce.updateQueue=r,r.stores=[s]):(a=r.stores,a===null?r.stores=[s]:a.push(s))}function Nv(s,r,a,d){r.value=a,r.getSnapshot=d,Ov(r)&&Av(s)}function Lv(s,r,a){return a(function(){Ov(r)&&Av(s)})}function Ov(s){var r=s.getSnapshot;s=s.value;try{var a=r();return!en(s,a)}catch{return!0}}function Av(s){var r=Ai(s,2);r!==null&&Yt(r,s,2)}function fh(s){var r=It();if(typeof s=="function"){var a=s;if(s=a(),Ii){Qt(!0);try{a()}finally{Qt(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:s},r}function Rv(s,r,a,d){return s.baseState=a,dh(s,Fe,typeof d=="function"?d:ds)}function w_(s,r,a,d,m){if(cc(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};z.T!==null?a(!0):y.isTransition=!1,d(y),a=r.pending,a===null?(y.next=r.pending=y,kv(r,y)):(y.next=a.next,r.pending=a.next=y)}}function kv(s,r){var a=r.action,d=r.payload,m=s.state;if(r.isTransition){var y=z.T,S={};z.T=S;try{var L=a(m,d),D=z.S;D!==null&&D(S,L),Mv(s,r,L)}catch(V){ph(s,r,V)}finally{y!==null&&S.types!==null&&(y.types=S.types),z.T=y}}else try{y=a(m,d),Mv(s,r,y)}catch(V){ph(s,r,V)}}function Mv(s,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(d){Dv(s,r,d)},function(d){return ph(s,r,d)}):Dv(s,r,a)}function Dv(s,r,a){r.status="fulfilled",r.value=a,Pv(r),s.state=a,r=s.pending,r!==null&&(a=r.next,a===r?s.pending=null:(a=a.next,r.next=a,kv(s,a)))}function ph(s,r,a){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=a,Pv(r),r=r.next;while(r!==d)}s.action=null}function Pv(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function zv(s,r){return r}function Uv(s,r){if(Pe){var a=Ke.formState;if(a!==null){e:{var d=Ce;if(Pe){if(tt){t:{for(var m=tt,y=wn;m.nodeType!==8;){if(!y){m=null;break t}if(m=Sn(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){tt=Sn(m.nextSibling),d=m.data==="F!";break e}}Ps(d)}d=!1}d&&(r=a[0])}}return a=It(),a.memoizedState=a.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zv,lastRenderedState:r},a.queue=d,a=s0.bind(null,Ce,d),d.dispatch=a,d=fh(!1),y=bh.bind(null,Ce,!1,d.queue),d=It(),m={state:r,dispatch:null,action:s,pending:null},d.queue=m,a=w_.bind(null,Ce,m,y,a),m.dispatch=a,d.memoizedState=s,[r,a,!1]}function Bv(s){var r=ft();return Iv(r,Fe,s)}function Iv(s,r,a){if(r=dh(s,r,zv)[0],s=ac(ds)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=oo(r)}catch(S){throw S===Ir?Zl:S}else d=r;r=ft();var m=r.queue,y=m.dispatch;return a!==r.memoizedState&&(Ce.flags|=2048,Fr(9,{destroy:void 0},j_.bind(null,m,a),null)),[d,y,s]}function j_(s,r){s.action=r}function $v(s){var r=ft(),a=Fe;if(a!==null)return Iv(r,a,s);ft(),r=r.memoizedState,a=ft();var d=a.queue.dispatch;return a.memoizedState=s,[r,d,!1]}function Fr(s,r,a,d){return s={tag:s,create:a,deps:d,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=ic(),Ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=s.next=s:(d=a.next,a.next=s,s.next=d,r.lastEffect=s),s}function Vv(){return ft().memoizedState}function oc(s,r,a,d){var m=It();Ce.flags|=s,m.memoizedState=Fr(1|r,{destroy:void 0},a,d===void 0?null:d)}function lc(s,r,a,d){var m=ft();d=d===void 0?null:d;var y=m.memoizedState.inst;Fe!==null&&d!==null&&rh(d,Fe.memoizedState.deps)?m.memoizedState=Fr(r,y,a,d):(Ce.flags|=s,m.memoizedState=Fr(1|r,y,a,d))}function Hv(s,r){oc(8390656,8,s,r)}function mh(s,r){lc(2048,8,s,r)}function S_(s){Ce.flags|=4;var r=Ce.updateQueue;if(r===null)r=ic(),Ce.updateQueue=r,r.events=[s];else{var a=r.events;a===null?r.events=[s]:a.push(s)}}function qv(s){var r=ft().memoizedState;return S_({ref:r,nextImpl:s}),function(){if((Ve&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function Fv(s,r){return lc(4,2,s,r)}function Gv(s,r){return lc(4,4,s,r)}function Wv(s,r){if(typeof r=="function"){s=s();var a=r(s);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Kv(s,r,a){a=a!=null?a.concat([s]):null,lc(4,4,Wv.bind(null,r,s),a)}function gh(){}function Yv(s,r){var a=ft();r=r===void 0?null:r;var d=a.memoizedState;return r!==null&&rh(r,d[1])?d[0]:(a.memoizedState=[s,r],s)}function Zv(s,r){var a=ft();r=r===void 0?null:r;var d=a.memoizedState;if(r!==null&&rh(r,d[1]))return d[0];if(d=s(),Ii){Qt(!0);try{s()}finally{Qt(!1)}}return a.memoizedState=[d,r],d}function vh(s,r,a){return a===void 0||(us&1073741824)!==0&&(Me&261930)===0?s.memoizedState=r:(s.memoizedState=a,s=X0(),Ce.lanes|=s,Fs|=s,a)}function Xv(s,r,a,d){return en(a,r)?a:Vr.current!==null?(s=vh(s,a,d),en(s,r)||(gt=!0),s):(us&42)===0||(us&1073741824)!==0&&(Me&261930)===0?(gt=!0,s.memoizedState=a):(s=X0(),Ce.lanes|=s,Fs|=s,r)}function Jv(s,r,a,d,m){var y=Y.p;Y.p=y!==0&&8>y?y:8;var S=z.T,L={};z.T=L,bh(s,!1,r,a);try{var D=m(),V=z.S;if(V!==null&&V(L,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=y_(D,d);lo(s,r,X,on(s))}else lo(s,r,d,on(s))}catch(te){lo(s,r,{then:function(){},status:"rejected",reason:te},on())}finally{Y.p=y,S!==null&&L.types!==null&&(S.types=L.types),z.T=S}}function E_(){}function yh(s,r,a,d){if(s.tag!==5)throw Error(i(476));var m=Qv(s).queue;Jv(s,m,r,ne,a===null?E_:function(){return e0(s),a(d)})}function Qv(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:ne},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:a},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function e0(s){var r=Qv(s);r.next===null&&(r=s.alternate.memoizedState),lo(s,r.next.queue,{},on())}function xh(){return Nt(Co)}function t0(){return ft().memoizedState}function n0(){return ft().memoizedState}function __(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var a=on();s=Bs(a);var d=Is(r,s,a);d!==null&&(Yt(d,r,a),so(d,r,a)),r={cache:Kd()},s.payload=r;return}r=r.return}}function C_(s,r,a){var d=on();a={lane:d,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},cc(s)?i0(r,a):(a=zd(s,r,a,d),a!==null&&(Yt(a,s,d),r0(a,r,d)))}function s0(s,r,a){var d=on();lo(s,r,a,d)}function lo(s,r,a,d){var m={lane:d,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(cc(s))i0(r,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var S=r.lastRenderedState,L=y(S,a);if(m.hasEagerState=!0,m.eagerState=L,en(L,S))return Hl(s,r,m,0),Ke===null&&Vl(),!1}catch{}if(a=zd(s,r,m,d),a!==null)return Yt(a,s,d),r0(a,r,d),!0}return!1}function bh(s,r,a,d){if(d={lane:2,revertLane:Jh(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},cc(s)){if(r)throw Error(i(479))}else r=zd(s,a,d,2),r!==null&&Yt(r,s,2)}function cc(s){var r=s.alternate;return s===Ce||r!==null&&r===Ce}function i0(s,r){Hr=nc=!0;var a=s.pending;a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r}function r0(s,r,a){if((a&4194048)!==0){var d=r.lanes;d&=s.pendingLanes,a|=d,r.lanes=a,ug(s,a)}}var co={readContext:Nt,use:rc,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};co.useEffectEvent=lt;var a0={readContext:Nt,use:rc,useCallback:function(s,r){return It().memoizedState=[s,r===void 0?null:r],s},useContext:Nt,useEffect:Hv,useImperativeHandle:function(s,r,a){a=a!=null?a.concat([s]):null,oc(4194308,4,Wv.bind(null,r,s),a)},useLayoutEffect:function(s,r){return oc(4194308,4,s,r)},useInsertionEffect:function(s,r){oc(4,2,s,r)},useMemo:function(s,r){var a=It();r=r===void 0?null:r;var d=s();if(Ii){Qt(!0);try{s()}finally{Qt(!1)}}return a.memoizedState=[d,r],d},useReducer:function(s,r,a){var d=It();if(a!==void 0){var m=a(r);if(Ii){Qt(!0);try{a(r)}finally{Qt(!1)}}}else m=r;return d.memoizedState=d.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},d.queue=s,s=s.dispatch=C_.bind(null,Ce,s),[d.memoizedState,s]},useRef:function(s){var r=It();return s={current:s},r.memoizedState=s},useState:function(s){s=fh(s);var r=s.queue,a=s0.bind(null,Ce,r);return r.dispatch=a,[s.memoizedState,a]},useDebugValue:gh,useDeferredValue:function(s,r){var a=It();return vh(a,s,r)},useTransition:function(){var s=fh(!1);return s=Jv.bind(null,Ce,s.queue,!0,!1),It().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,a){var d=Ce,m=It();if(Pe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),Ke===null)throw Error(i(349));(Me&127)!==0||Tv(d,r,a)}m.memoizedState=a;var y={value:a,getSnapshot:r};return m.queue=y,Hv(Lv.bind(null,d,y,s),[s]),d.flags|=2048,Fr(9,{destroy:void 0},Nv.bind(null,d,y,a,r),null),a},useId:function(){var s=It(),r=Ke.identifierPrefix;if(Pe){var a=Wn,d=Gn;a=(d&~(1<<32-Pt(d)-1)).toString(32)+a,r="_"+r+"R_"+a,a=sc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=x_++,r="_"+r+"r_"+a.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:xh,useFormState:Uv,useActionState:Uv,useOptimistic:function(s){var r=It();r.memoizedState=r.baseState=s;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=bh.bind(null,Ce,!0,a),a.dispatch=r,[s,r]},useMemoCache:uh,useCacheRefresh:function(){return It().memoizedState=__.bind(null,Ce)},useEffectEvent:function(s){var r=It(),a={impl:s};return r.memoizedState=a,function(){if((Ve&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},wh={readContext:Nt,use:rc,useCallback:Yv,useContext:Nt,useEffect:mh,useImperativeHandle:Kv,useInsertionEffect:Fv,useLayoutEffect:Gv,useMemo:Zv,useReducer:ac,useRef:Vv,useState:function(){return ac(ds)},useDebugValue:gh,useDeferredValue:function(s,r){var a=ft();return Xv(a,Fe.memoizedState,s,r)},useTransition:function(){var s=ac(ds)[0],r=ft().memoizedState;return[typeof s=="boolean"?s:oo(s),r]},useSyncExternalStore:Cv,useId:t0,useHostTransitionStatus:xh,useFormState:Bv,useActionState:Bv,useOptimistic:function(s,r){var a=ft();return Rv(a,Fe,s,r)},useMemoCache:uh,useCacheRefresh:n0};wh.useEffectEvent=qv;var o0={readContext:Nt,use:rc,useCallback:Yv,useContext:Nt,useEffect:mh,useImperativeHandle:Kv,useInsertionEffect:Fv,useLayoutEffect:Gv,useMemo:Zv,useReducer:hh,useRef:Vv,useState:function(){return hh(ds)},useDebugValue:gh,useDeferredValue:function(s,r){var a=ft();return Fe===null?vh(a,s,r):Xv(a,Fe.memoizedState,s,r)},useTransition:function(){var s=hh(ds)[0],r=ft().memoizedState;return[typeof s=="boolean"?s:oo(s),r]},useSyncExternalStore:Cv,useId:t0,useHostTransitionStatus:xh,useFormState:$v,useActionState:$v,useOptimistic:function(s,r){var a=ft();return Fe!==null?Rv(a,Fe,s,r):(a.baseState=s,[s,a.queue.dispatch])},useMemoCache:uh,useCacheRefresh:n0};o0.useEffectEvent=qv;function jh(s,r,a,d){r=s.memoizedState,a=a(d,r),a=a==null?r:x({},r,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var Sh={enqueueSetState:function(s,r,a){s=s._reactInternals;var d=on(),m=Bs(d);m.payload=r,a!=null&&(m.callback=a),r=Is(s,m,d),r!==null&&(Yt(r,s,d),so(r,s,d))},enqueueReplaceState:function(s,r,a){s=s._reactInternals;var d=on(),m=Bs(d);m.tag=1,m.payload=r,a!=null&&(m.callback=a),r=Is(s,m,d),r!==null&&(Yt(r,s,d),so(r,s,d))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var a=on(),d=Bs(a);d.tag=2,r!=null&&(d.callback=r),r=Is(s,d,a),r!==null&&(Yt(r,s,a),so(r,s,a))}};function l0(s,r,a,d,m,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,S):r.prototype&&r.prototype.isPureReactComponent?!Ya(a,d)||!Ya(m,y):!0}function c0(s,r,a,d){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,d),r.state!==s&&Sh.enqueueReplaceState(r,r.state,null)}function $i(s,r){var a=r;if("ref"in r){a={};for(var d in r)d!=="ref"&&(a[d]=r[d])}if(s=s.defaultProps){a===r&&(a=x({},a));for(var m in s)a[m]===void 0&&(a[m]=s[m])}return a}function u0(s){$l(s)}function d0(s){console.error(s)}function h0(s){$l(s)}function uc(s,r){try{var a=s.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function f0(s,r,a){try{var d=s.onCaughtError;d(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Eh(s,r,a){return a=Bs(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(s,r)},a}function p0(s){return s=Bs(s),s.tag=3,s}function m0(s,r,a,d){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var y=d.value;s.payload=function(){return m(y)},s.callback=function(){f0(r,a,d)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){f0(r,a,d),typeof m!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var L=d.stack;this.componentDidCatch(d.value,{componentStack:L!==null?L:""})})}function T_(s,r,a,d,m){if(a.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=a.alternate,r!==null&&zr(r,a,m,!0),a=nn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?jc():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=m,d===Xl?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([d]):r.add(d),Yh(s,d,m)),!1;case 22:return a.flags|=65536,d===Xl?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([d]):a.add(d)),Yh(s,d,m)),!1}throw Error(i(435,a.tag))}return Yh(s,d,m),jc(),!1}if(Pe)return r=nn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,d!==Hd&&(s=Error(i(422),{cause:d}),Ja(yn(s,a)))):(d!==Hd&&(r=Error(i(423),{cause:d}),Ja(yn(r,a))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,d=yn(d,a),m=Eh(s.stateNode,d,m),eh(s,m),ct!==4&&(ct=2)),!1;var y=Error(i(520),{cause:d});if(y=yn(y,a),yo===null?yo=[y]:yo.push(y),ct!==4&&(ct=2),r===null)return!0;d=yn(d,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,s=m&-m,a.lanes|=s,s=Eh(a.stateNode,d,s),eh(a,s),!1;case 1:if(r=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Gs===null||!Gs.has(y))))return a.flags|=65536,m&=-m,a.lanes|=m,m=p0(m),m0(m,s,a,d),eh(a,m),!1}a=a.return}while(a!==null);return!1}var _h=Error(i(461)),gt=!1;function Lt(s,r,a,d){r.child=s===null?xv(r,null,a,d):Bi(r,s.child,a,d)}function g0(s,r,a,d,m){a=a.render;var y=r.ref;if("ref"in d){var S={};for(var L in d)L!=="ref"&&(S[L]=d[L])}else S=d;return Di(r),d=ah(s,r,a,S,y,m),L=oh(),s!==null&&!gt?(lh(s,r,m),hs(s,r,m)):(Pe&&L&&$d(r),r.flags|=1,Lt(s,r,d,m),r.child)}function v0(s,r,a,d,m){if(s===null){var y=a.type;return typeof y=="function"&&!Ud(y)&&y.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=y,y0(s,r,y,d,m)):(s=Fl(a.type,null,d,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!kh(s,m)){var S=y.memoizedProps;if(a=a.compare,a=a!==null?a:Ya,a(S,d)&&s.ref===r.ref)return hs(s,r,m)}return r.flags|=1,s=as(y,d),s.ref=r.ref,s.return=r,r.child=s}function y0(s,r,a,d,m){if(s!==null){var y=s.memoizedProps;if(Ya(y,d)&&s.ref===r.ref)if(gt=!1,r.pendingProps=d=y,kh(s,m))(s.flags&131072)!==0&&(gt=!0);else return r.lanes=s.lanes,hs(s,r,m)}return Ch(s,r,a,d,m)}function x0(s,r,a,d){var m=d.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,s!==null){for(d=r.child=s.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;d=m&~y}else d=0,r.child=null;return b0(s,r,y,a,d)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Yl(r,y!==null?y.cachePool:null),y!==null?jv(r,y):nh(),Sv(r);else return d=r.lanes=536870912,b0(s,r,y!==null?y.baseLanes|a:a,a,d)}else y!==null?(Yl(r,y.cachePool),jv(r,y),Vs(),r.memoizedState=null):(s!==null&&Yl(r,null),nh(),Vs());return Lt(s,r,m,a),r.child}function uo(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function b0(s,r,a,d,m){var y=Zd();return y=y===null?null:{parent:pt._currentValue,pool:y},r.memoizedState={baseLanes:a,cachePool:y},s!==null&&Yl(r,null),nh(),Sv(r),s!==null&&zr(s,r,d,!0),r.childLanes=m,null}function dc(s,r){return r=fc({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function w0(s,r,a){return Bi(r,s.child,null,a),s=dc(r,r.pendingProps),s.flags|=2,sn(r),r.memoizedState=null,s}function N_(s,r,a){var d=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Pe){if(d.mode==="hidden")return s=dc(r,d),r.lanes=536870912,uo(null,s);if(ih(r),(s=tt)?(s=ky(s,wn),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Ms!==null?{id:Gn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},a=iv(s),a.return=r,r.child=a,Tt=r,tt=null)):s=null,s===null)throw Ps(r);return r.lanes=536870912,null}return dc(r,d)}var y=s.memoizedState;if(y!==null){var S=y.dehydrated;if(ih(r),m)if(r.flags&256)r.flags&=-257,r=w0(s,r,a);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(gt||zr(s,r,a,!1),m=(a&s.childLanes)!==0,gt||m){if(d=Ke,d!==null&&(S=dg(d,a),S!==0&&S!==y.retryLane))throw y.retryLane=S,Ai(s,S),Yt(d,s,S),_h;jc(),r=w0(s,r,a)}else s=y.treeContext,tt=Sn(S.nextSibling),Tt=r,Pe=!0,Ds=null,wn=!1,s!==null&&ov(r,s),r=dc(r,d),r.flags|=4096;return r}return s=as(s.child,{mode:d.mode,children:d.children}),s.ref=r.ref,r.child=s,s.return=r,s}function hc(s,r){var a=r.ref;if(a===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(s===null||s.ref!==a)&&(r.flags|=4194816)}}function Ch(s,r,a,d,m){return Di(r),a=ah(s,r,a,d,void 0,m),d=oh(),s!==null&&!gt?(lh(s,r,m),hs(s,r,m)):(Pe&&d&&$d(r),r.flags|=1,Lt(s,r,a,m),r.child)}function j0(s,r,a,d,m,y){return Di(r),r.updateQueue=null,a=_v(r,d,a,m),Ev(s),d=oh(),s!==null&&!gt?(lh(s,r,y),hs(s,r,y)):(Pe&&d&&$d(r),r.flags|=1,Lt(s,r,a,y),r.child)}function S0(s,r,a,d,m){if(Di(r),r.stateNode===null){var y=kr,S=a.contextType;typeof S=="object"&&S!==null&&(y=Nt(S)),y=new a(d,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Sh,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=d,y.state=r.memoizedState,y.refs={},Jd(r),S=a.contextType,y.context=typeof S=="object"&&S!==null?Nt(S):kr,y.state=r.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(jh(r,a,S,d),y.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Sh.enqueueReplaceState(y,y.state,null),ro(r,d,y,m),io(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(s===null){y=r.stateNode;var L=r.memoizedProps,D=$i(a,L);y.props=D;var V=y.context,X=a.contextType;S=kr,typeof X=="object"&&X!==null&&(S=Nt(X));var te=a.getDerivedStateFromProps;X=typeof te=="function"||typeof y.getSnapshotBeforeUpdate=="function",L=r.pendingProps!==L,X||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(L||V!==S)&&c0(r,y,d,S),Us=!1;var F=r.memoizedState;y.state=F,ro(r,d,y,m),io(),V=r.memoizedState,L||F!==V||Us?(typeof te=="function"&&(jh(r,a,te,d),V=r.memoizedState),(D=Us||l0(r,a,D,d,F,V,S))?(X||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=V),y.props=d,y.state=V,y.context=S,d=D):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{y=r.stateNode,Qd(s,r),S=r.memoizedProps,X=$i(a,S),y.props=X,te=r.pendingProps,F=y.context,V=a.contextType,D=kr,typeof V=="object"&&V!==null&&(D=Nt(V)),L=a.getDerivedStateFromProps,(V=typeof L=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==te||F!==D)&&c0(r,y,d,D),Us=!1,F=r.memoizedState,y.state=F,ro(r,d,y,m),io();var K=r.memoizedState;S!==te||F!==K||Us||s!==null&&s.dependencies!==null&&Wl(s.dependencies)?(typeof L=="function"&&(jh(r,a,L,d),K=r.memoizedState),(X=Us||l0(r,a,X,d,F,K,D)||s!==null&&s.dependencies!==null&&Wl(s.dependencies))?(V||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,K,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,K,D)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&F===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&F===s.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=K),y.props=d,y.state=K,y.context=D,d=X):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&F===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&F===s.memoizedState||(r.flags|=1024),d=!1)}return y=d,hc(s,r),d=(r.flags&128)!==0,y||d?(y=r.stateNode,a=d&&typeof a.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&d?(r.child=Bi(r,s.child,null,m),r.child=Bi(r,null,a,m)):Lt(s,r,a,m),r.memoizedState=y.state,s=r.child):s=hs(s,r,m),s}function E0(s,r,a,d){return ki(),r.flags|=256,Lt(s,r,a,d),r.child}var Th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nh(s){return{baseLanes:s,cachePool:fv()}}function Lh(s,r,a){return s=s!==null?s.childLanes&~a:0,r&&(s|=an),s}function _0(s,r,a){var d=r.pendingProps,m=!1,y=(r.flags&128)!==0,S;if((S=y)||(S=s!==null&&s.memoizedState===null?!1:(ht.current&2)!==0),S&&(m=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,s===null){if(Pe){if(m?$s(r):Vs(),(s=tt)?(s=ky(s,wn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Ms!==null?{id:Gn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},a=iv(s),a.return=r,r.child=a,Tt=r,tt=null)):s=null,s===null)throw Ps(r);return hf(s)?r.lanes=32:r.lanes=536870912,null}var L=d.children;return d=d.fallback,m?(Vs(),m=r.mode,L=fc({mode:"hidden",children:L},m),d=Ri(d,m,a,null),L.return=r,d.return=r,L.sibling=d,r.child=L,d=r.child,d.memoizedState=Nh(a),d.childLanes=Lh(s,S,a),r.memoizedState=Th,uo(null,d)):($s(r),Oh(r,L))}var D=s.memoizedState;if(D!==null&&(L=D.dehydrated,L!==null)){if(y)r.flags&256?($s(r),r.flags&=-257,r=Ah(s,r,a)):r.memoizedState!==null?(Vs(),r.child=s.child,r.flags|=128,r=null):(Vs(),L=d.fallback,m=r.mode,d=fc({mode:"visible",children:d.children},m),L=Ri(L,m,a,null),L.flags|=2,d.return=r,L.return=r,d.sibling=L,r.child=d,Bi(r,s.child,null,a),d=r.child,d.memoizedState=Nh(a),d.childLanes=Lh(s,S,a),r.memoizedState=Th,r=uo(null,d));else if($s(r),hf(L)){if(S=L.nextSibling&&L.nextSibling.dataset,S)var V=S.dgst;S=V,d=Error(i(419)),d.stack="",d.digest=S,Ja({value:d,source:null,stack:null}),r=Ah(s,r,a)}else if(gt||zr(s,r,a,!1),S=(a&s.childLanes)!==0,gt||S){if(S=Ke,S!==null&&(d=dg(S,a),d!==0&&d!==D.retryLane))throw D.retryLane=d,Ai(s,d),Yt(S,s,d),_h;df(L)||jc(),r=Ah(s,r,a)}else df(L)?(r.flags|=192,r.child=s.child,r=null):(s=D.treeContext,tt=Sn(L.nextSibling),Tt=r,Pe=!0,Ds=null,wn=!1,s!==null&&ov(r,s),r=Oh(r,d.children),r.flags|=4096);return r}return m?(Vs(),L=d.fallback,m=r.mode,D=s.child,V=D.sibling,d=as(D,{mode:"hidden",children:d.children}),d.subtreeFlags=D.subtreeFlags&65011712,V!==null?L=as(V,L):(L=Ri(L,m,a,null),L.flags|=2),L.return=r,d.return=r,d.sibling=L,r.child=d,uo(null,d),d=r.child,L=s.child.memoizedState,L===null?L=Nh(a):(m=L.cachePool,m!==null?(D=pt._currentValue,m=m.parent!==D?{parent:D,pool:D}:m):m=fv(),L={baseLanes:L.baseLanes|a,cachePool:m}),d.memoizedState=L,d.childLanes=Lh(s,S,a),r.memoizedState=Th,uo(s.child,d)):($s(r),a=s.child,s=a.sibling,a=as(a,{mode:"visible",children:d.children}),a.return=r,a.sibling=null,s!==null&&(S=r.deletions,S===null?(r.deletions=[s],r.flags|=16):S.push(s)),r.child=a,r.memoizedState=null,a)}function Oh(s,r){return r=fc({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function fc(s,r){return s=tn(22,s,null,r),s.lanes=0,s}function Ah(s,r,a){return Bi(r,s.child,null,a),s=Oh(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function C0(s,r,a){s.lanes|=r;var d=s.alternate;d!==null&&(d.lanes|=r),Gd(s.return,r,a)}function Rh(s,r,a,d,m,y){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:m,treeForkCount:y}:(S.isBackwards=r,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=a,S.tailMode=m,S.treeForkCount=y)}function T0(s,r,a){var d=r.pendingProps,m=d.revealOrder,y=d.tail;d=d.children;var S=ht.current,L=(S&2)!==0;if(L?(S=S&1|2,r.flags|=128):S&=1,q(ht,S),Lt(s,r,d,a),d=Pe?Xa:0,!L&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&C0(s,a,r);else if(s.tag===19)C0(s,a,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(a=r.child,m=null;a!==null;)s=a.alternate,s!==null&&tc(s)===null&&(m=a),a=a.sibling;a=m,a===null?(m=r.child,r.child=null):(m=a.sibling,a.sibling=null),Rh(r,!1,m,a,y,d);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&tc(s)===null){r.child=m;break}s=m.sibling,m.sibling=a,a=m,m=s}Rh(r,!0,a,null,y,d);break;case"together":Rh(r,!1,null,null,void 0,d);break;default:r.memoizedState=null}return r.child}function hs(s,r,a){if(s!==null&&(r.dependencies=s.dependencies),Fs|=r.lanes,(a&r.childLanes)===0)if(s!==null){if(zr(s,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,a=as(s,s.pendingProps),r.child=a,a.return=r;s.sibling!==null;)s=s.sibling,a=a.sibling=as(s,s.pendingProps),a.return=r;a.sibling=null}return r.child}function kh(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Wl(s)))}function L_(s,r,a){switch(r.tag){case 3:me(r,r.stateNode.containerInfo),zs(r,pt,s.memoizedState.cache),ki();break;case 27:case 5:ye(r);break;case 4:me(r,r.stateNode.containerInfo);break;case 10:zs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ih(r),null;break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?($s(r),r.flags|=128,null):(a&r.child.childLanes)!==0?_0(s,r,a):($s(r),s=hs(s,r,a),s!==null?s.sibling:null);$s(r);break;case 19:var m=(s.flags&128)!==0;if(d=(a&r.childLanes)!==0,d||(zr(s,r,a,!1),d=(a&r.childLanes)!==0),m){if(d)return T0(s,r,a);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),q(ht,ht.current),d)break;return null;case 22:return r.lanes=0,x0(s,r,a,r.pendingProps);case 24:zs(r,pt,s.memoizedState.cache)}return hs(s,r,a)}function N0(s,r,a){if(s!==null)if(s.memoizedProps!==r.pendingProps)gt=!0;else{if(!kh(s,a)&&(r.flags&128)===0)return gt=!1,L_(s,r,a);gt=(s.flags&131072)!==0}else gt=!1,Pe&&(r.flags&1048576)!==0&&av(r,Xa,r.index);switch(r.lanes=0,r.tag){case 16:e:{var d=r.pendingProps;if(s=zi(r.elementType),r.type=s,typeof s=="function")Ud(s)?(d=$i(s,d),r.tag=1,r=S0(null,r,s,d,a)):(r.tag=0,r=Ch(null,r,s,d,a));else{if(s!=null){var m=s.$$typeof;if(m===k){r.tag=11,r=g0(null,r,s,d,a);break e}else if(m===R){r.tag=14,r=v0(null,r,s,d,a);break e}}throw r=ae(s)||s,Error(i(306,r,""))}}return r;case 0:return Ch(s,r,r.type,r.pendingProps,a);case 1:return d=r.type,m=$i(d,r.pendingProps),S0(s,r,d,m,a);case 3:e:{if(me(r,r.stateNode.containerInfo),s===null)throw Error(i(387));d=r.pendingProps;var y=r.memoizedState;m=y.element,Qd(s,r),ro(r,d,null,a);var S=r.memoizedState;if(d=S.cache,zs(r,pt,d),d!==y.cache&&Wd(r,[pt],a,!0),io(),d=S.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=E0(s,r,d,a);break e}else if(d!==m){m=yn(Error(i(424)),r),Ja(m),r=E0(s,r,d,a);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,tt=Sn(s.firstChild),Tt=r,Pe=!0,Ds=null,wn=!0,a=xv(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ki(),d===m){r=hs(s,r,a);break e}Lt(s,r,d,a)}r=r.child}return r;case 26:return hc(s,r),s===null?(a=By(r.type,null,r.pendingProps,null))?r.memoizedState=a:Pe||(a=r.type,s=r.pendingProps,d=Lc(he.current).createElement(a),d[Ct]=r,d[Ht]=s,Ot(d,a,s),Et(d),r.stateNode=d):r.memoizedState=By(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return ye(r),s===null&&Pe&&(d=r.stateNode=Py(r.type,r.pendingProps,he.current),Tt=r,wn=!0,m=tt,Zs(r.type)?(ff=m,tt=Sn(d.firstChild)):tt=m),Lt(s,r,r.pendingProps.children,a),hc(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Pe&&((m=d=tt)&&(d=rC(d,r.type,r.pendingProps,wn),d!==null?(r.stateNode=d,Tt=r,tt=Sn(d.firstChild),wn=!1,m=!0):m=!1),m||Ps(r)),ye(r),m=r.type,y=r.pendingProps,S=s!==null?s.memoizedProps:null,d=y.children,lf(m,y)?d=null:S!==null&&lf(m,S)&&(r.flags|=32),r.memoizedState!==null&&(m=ah(s,r,b_,null,null,a),Co._currentValue=m),hc(s,r),Lt(s,r,d,a),r.child;case 6:return s===null&&Pe&&((s=a=tt)&&(a=aC(a,r.pendingProps,wn),a!==null?(r.stateNode=a,Tt=r,tt=null,s=!0):s=!1),s||Ps(r)),null;case 13:return _0(s,r,a);case 4:return me(r,r.stateNode.containerInfo),d=r.pendingProps,s===null?r.child=Bi(r,null,d,a):Lt(s,r,d,a),r.child;case 11:return g0(s,r,r.type,r.pendingProps,a);case 7:return Lt(s,r,r.pendingProps,a),r.child;case 8:return Lt(s,r,r.pendingProps.children,a),r.child;case 12:return Lt(s,r,r.pendingProps.children,a),r.child;case 10:return d=r.pendingProps,zs(r,r.type,d.value),Lt(s,r,d.children,a),r.child;case 9:return m=r.type._context,d=r.pendingProps.children,Di(r),m=Nt(m),d=d(m),r.flags|=1,Lt(s,r,d,a),r.child;case 14:return v0(s,r,r.type,r.pendingProps,a);case 15:return y0(s,r,r.type,r.pendingProps,a);case 19:return T0(s,r,a);case 31:return N_(s,r,a);case 22:return x0(s,r,a,r.pendingProps);case 24:return Di(r),d=Nt(pt),s===null?(m=Zd(),m===null&&(m=Ke,y=Kd(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=a),m=y),r.memoizedState={parent:d,cache:m},Jd(r),zs(r,pt,m)):((s.lanes&a)!==0&&(Qd(s,r),ro(r,null,null,a),io()),m=s.memoizedState,y=r.memoizedState,m.parent!==d?(m={parent:d,cache:d},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),zs(r,pt,d)):(d=y.cache,zs(r,pt,d),d!==m.cache&&Wd(r,[pt],a,!0))),Lt(s,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function fs(s){s.flags|=4}function Mh(s,r,a,d,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(ty())s.flags|=8192;else throw Ui=Xl,Xd}else s.flags&=-16777217}function L0(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!qy(r))if(ty())s.flags|=8192;else throw Ui=Xl,Xd}function pc(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Ei():536870912,s.lanes|=r,Yr|=r)}function ho(s,r){if(!Pe)switch(s.tailMode){case"hidden":r=s.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function nt(s){var r=s.alternate!==null&&s.alternate.child===s.child,a=0,d=0;if(r)for(var m=s.child;m!==null;)a|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)a|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=a,r}function O_(s,r,a){var d=r.pendingProps;switch(Vd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(r),null;case 1:return nt(r),null;case 3:return a=r.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),cs(pt),Se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(Pr(r)?fs(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,qd())),nt(r),null;case 26:var m=r.type,y=r.memoizedState;return s===null?(fs(r),y!==null?(nt(r),L0(r,y)):(nt(r),Mh(r,m,null,d,a))):y?y!==s.memoizedState?(fs(r),nt(r),L0(r,y)):(nt(r),r.flags&=-16777217):(s=s.memoizedProps,s!==d&&fs(r),nt(r),Mh(r,m,s,d,a)),null;case 27:if(Oe(r),a=he.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==d&&fs(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return nt(r),null}s=ie.current,Pr(r)?lv(r):(s=Py(m,d,a),r.stateNode=s,fs(r))}return nt(r),null;case 5:if(Oe(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==d&&fs(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return nt(r),null}if(y=ie.current,Pr(r))lv(r);else{var S=Lc(he.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?S.createElement("select",{is:d.is}):S.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?S.createElement(m,{is:d.is}):S.createElement(m)}}y[Ct]=r,y[Ht]=d;e:for(S=r.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===r)break e;for(;S.sibling===null;){if(S.return===null||S.return===r)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}r.stateNode=y;e:switch(Ot(y,m,d),m){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&fs(r)}}return nt(r),Mh(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,a),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==d&&fs(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(i(166));if(s=he.current,Pr(r)){if(s=r.stateNode,a=r.memoizedProps,d=null,m=Tt,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}s[Ct]=r,s=!!(s.nodeValue===a||d!==null&&d.suppressHydrationWarning===!0||_y(s.nodeValue,a)),s||Ps(r,!0)}else s=Lc(s).createTextNode(d),s[Ct]=r,r.stateNode=s}return nt(r),null;case 31:if(a=r.memoizedState,s===null||s.memoizedState!==null){if(d=Pr(r),a!==null){if(s===null){if(!d)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ct]=r}else ki(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),s=!1}else a=qd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=a),s=!0;if(!s)return r.flags&256?(sn(r),r):(sn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return nt(r),null;case 13:if(d=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Pr(r),d!==null&&d.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Ct]=r}else ki(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),m=!1}else m=qd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(sn(r),r):(sn(r),null)}return sn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=d!==null,s=s!==null&&s.memoizedState!==null,a&&(d=r.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048)),a!==s&&a&&(r.child.flags|=8192),pc(r,r.updateQueue),nt(r),null);case 4:return Se(),s===null&&nf(r.stateNode.containerInfo),nt(r),null;case 10:return cs(r.type),nt(r),null;case 19:if(W(ht),d=r.memoizedState,d===null)return nt(r),null;if(m=(r.flags&128)!==0,y=d.rendering,y===null)if(m)ho(d,!1);else{if(ct!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=tc(s),y!==null){for(r.flags|=128,ho(d,!1),s=y.updateQueue,r.updateQueue=s,pc(r,s),r.subtreeFlags=0,s=a,a=r.child;a!==null;)sv(a,s),a=a.sibling;return q(ht,ht.current&1|2),Pe&&os(r,d.treeForkCount),r.child}s=s.sibling}d.tail!==null&&Mt()>xc&&(r.flags|=128,m=!0,ho(d,!1),r.lanes=4194304)}else{if(!m)if(s=tc(y),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,pc(r,s),ho(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Pe)return nt(r),null}else 2*Mt()-d.renderingStartTime>xc&&a!==536870912&&(r.flags|=128,m=!0,ho(d,!1),r.lanes=4194304);d.isBackwards?(y.sibling=r.child,r.child=y):(s=d.last,s!==null?s.sibling=y:r.child=y,d.last=y)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Mt(),s.sibling=null,a=ht.current,q(ht,m?a&1|2:a&1),Pe&&os(r,d.treeForkCount),s):(nt(r),null);case 22:case 23:return sn(r),sh(),d=r.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(a&536870912)!==0&&(r.flags&128)===0&&(nt(r),r.subtreeFlags&6&&(r.flags|=8192)):nt(r),a=r.updateQueue,a!==null&&pc(r,a.retryQueue),a=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==a&&(r.flags|=2048),s!==null&&W(Pi),null;case 24:return a=null,s!==null&&(a=s.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),cs(pt),nt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function A_(s,r){switch(Vd(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return cs(pt),Se(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Oe(r),null;case 31:if(r.memoizedState!==null){if(sn(r),r.alternate===null)throw Error(i(340));ki()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(sn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ki()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return W(ht),null;case 4:return Se(),null;case 10:return cs(r.type),null;case 22:case 23:return sn(r),sh(),s!==null&&W(Pi),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return cs(pt),null;case 25:return null;default:return null}}function O0(s,r){switch(Vd(r),r.tag){case 3:cs(pt),Se();break;case 26:case 27:case 5:Oe(r);break;case 4:Se();break;case 31:r.memoizedState!==null&&sn(r);break;case 13:sn(r);break;case 19:W(ht);break;case 10:cs(r.type);break;case 22:case 23:sn(r),sh(),s!==null&&W(Pi);break;case 24:cs(pt)}}function fo(s,r){try{var a=r.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var m=d.next;a=m;do{if((a.tag&s)===s){d=void 0;var y=a.create,S=a.inst;d=y(),S.destroy=d}a=a.next}while(a!==m)}}catch(L){qe(r,r.return,L)}}function Hs(s,r,a){try{var d=r.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&s)===s){var S=d.inst,L=S.destroy;if(L!==void 0){S.destroy=void 0,m=r;var D=a,V=L;try{V()}catch(X){qe(m,D,X)}}}d=d.next}while(d!==y)}}catch(X){qe(r,r.return,X)}}function A0(s){var r=s.updateQueue;if(r!==null){var a=s.stateNode;try{wv(r,a)}catch(d){qe(s,s.return,d)}}}function R0(s,r,a){a.props=$i(s.type,s.memoizedProps),a.state=s.memoizedState;try{a.componentWillUnmount()}catch(d){qe(s,r,d)}}function po(s,r){try{var a=s.ref;if(a!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof a=="function"?s.refCleanup=a(d):a.current=d}}catch(m){qe(s,r,m)}}function Kn(s,r){var a=s.ref,d=s.refCleanup;if(a!==null)if(typeof d=="function")try{d()}catch(m){qe(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){qe(s,r,m)}else a.current=null}function k0(s){var r=s.type,a=s.memoizedProps,d=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&d.focus();break e;case"img":a.src?d.src=a.src:a.srcSet&&(d.srcset=a.srcSet)}}catch(m){qe(s,s.return,m)}}function Dh(s,r,a){try{var d=s.stateNode;Q_(d,s.type,a,r),d[Ht]=r}catch(m){qe(s,s.return,m)}}function M0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Zs(s.type)||s.tag===4}function Ph(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||M0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Zs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function zh(s,r,a){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(s,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(s),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=is));else if(d!==4&&(d===27&&Zs(s.type)&&(a=s.stateNode,r=null),s=s.child,s!==null))for(zh(s,r,a),s=s.sibling;s!==null;)zh(s,r,a),s=s.sibling}function mc(s,r,a){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?a.insertBefore(s,r):a.appendChild(s);else if(d!==4&&(d===27&&Zs(s.type)&&(a=s.stateNode),s=s.child,s!==null))for(mc(s,r,a),s=s.sibling;s!==null;)mc(s,r,a),s=s.sibling}function D0(s){var r=s.stateNode,a=s.memoizedProps;try{for(var d=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);Ot(r,d,a),r[Ct]=s,r[Ht]=a}catch(y){qe(s,s.return,y)}}var ps=!1,vt=!1,Uh=!1,P0=typeof WeakSet=="function"?WeakSet:Set,_t=null;function R_(s,r){if(s=s.containerInfo,af=Pc,s=Kg(s),Ad(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var S=0,L=-1,D=-1,V=0,X=0,te=s,F=null;t:for(;;){for(var K;te!==a||m!==0&&te.nodeType!==3||(L=S+m),te!==y||d!==0&&te.nodeType!==3||(D=S+d),te.nodeType===3&&(S+=te.nodeValue.length),(K=te.firstChild)!==null;)F=te,te=K;for(;;){if(te===s)break t;if(F===a&&++V===m&&(L=S),F===y&&++X===d&&(D=S),(K=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=K}a=L===-1||D===-1?null:{start:L,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(of={focusedElem:s,selectionRange:a},Pc=!1,_t=r;_t!==null;)if(r=_t,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,_t=s;else for(;_t!==null;){switch(r=_t,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(a=0;a<s.length;a++)m=s[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,a=r,m=y.memoizedProps,y=y.memoizedState,d=a.stateNode;try{var ue=$i(a.type,m);s=d.getSnapshotBeforeUpdate(ue,y),d.__reactInternalSnapshotBeforeUpdate=s}catch(be){qe(a,a.return,be)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,a=s.nodeType,a===9)uf(s);else if(a===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":uf(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,_t=s;break}_t=r.return}}function z0(s,r,a){var d=a.flags;switch(a.tag){case 0:case 11:case 15:gs(s,a),d&4&&fo(5,a);break;case 1:if(gs(s,a),d&4)if(s=a.stateNode,r===null)try{s.componentDidMount()}catch(S){qe(a,a.return,S)}else{var m=$i(a.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(S){qe(a,a.return,S)}}d&64&&A0(a),d&512&&po(a,a.return);break;case 3:if(gs(s,a),d&64&&(s=a.updateQueue,s!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{wv(s,r)}catch(S){qe(a,a.return,S)}}break;case 27:r===null&&d&4&&D0(a);case 26:case 5:gs(s,a),r===null&&d&4&&k0(a),d&512&&po(a,a.return);break;case 12:gs(s,a);break;case 31:gs(s,a),d&4&&I0(s,a);break;case 13:gs(s,a),d&4&&$0(s,a),d&64&&(s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(a=$_.bind(null,a),oC(s,a))));break;case 22:if(d=a.memoizedState!==null||ps,!d){r=r!==null&&r.memoizedState!==null||vt,m=ps;var y=vt;ps=d,(vt=r)&&!y?vs(s,a,(a.subtreeFlags&8772)!==0):gs(s,a),ps=m,vt=y}break;case 30:break;default:gs(s,a)}}function U0(s){var r=s.alternate;r!==null&&(s.alternate=null,U0(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&pd(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var it=null,Ft=!1;function ms(s,r,a){for(a=a.child;a!==null;)B0(s,r,a),a=a.sibling}function B0(s,r,a){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:vt||Kn(a,r),ms(s,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:vt||Kn(a,r);var d=it,m=Ft;Zs(a.type)&&(it=a.stateNode,Ft=!1),ms(s,r,a),So(a.stateNode),it=d,Ft=m;break;case 5:vt||Kn(a,r);case 6:if(d=it,m=Ft,it=null,ms(s,r,a),it=d,Ft=m,it!==null)if(Ft)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(y){qe(a,r,y)}else try{it.removeChild(a.stateNode)}catch(y){qe(a,r,y)}break;case 18:it!==null&&(Ft?(s=it,Ay(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.stateNode),sa(s)):Ay(it,a.stateNode));break;case 4:d=it,m=Ft,it=a.stateNode.containerInfo,Ft=!0,ms(s,r,a),it=d,Ft=m;break;case 0:case 11:case 14:case 15:Hs(2,a,r),vt||Hs(4,a,r),ms(s,r,a);break;case 1:vt||(Kn(a,r),d=a.stateNode,typeof d.componentWillUnmount=="function"&&R0(a,r,d)),ms(s,r,a);break;case 21:ms(s,r,a);break;case 22:vt=(d=vt)||a.memoizedState!==null,ms(s,r,a),vt=d;break;default:ms(s,r,a)}}function I0(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{sa(s)}catch(a){qe(r,r.return,a)}}}function $0(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{sa(s)}catch(a){qe(r,r.return,a)}}function k_(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new P0),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new P0),r;default:throw Error(i(435,s.tag))}}function gc(s,r){var a=k_(s);r.forEach(function(d){if(!a.has(d)){a.add(d);var m=V_.bind(null,s,d);d.then(m,m)}})}function Gt(s,r){var a=r.deletions;if(a!==null)for(var d=0;d<a.length;d++){var m=a[d],y=s,S=r,L=S;e:for(;L!==null;){switch(L.tag){case 27:if(Zs(L.type)){it=L.stateNode,Ft=!1;break e}break;case 5:it=L.stateNode,Ft=!1;break e;case 3:case 4:it=L.stateNode.containerInfo,Ft=!0;break e}L=L.return}if(it===null)throw Error(i(160));B0(y,S,m),it=null,Ft=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)V0(r,s),r=r.sibling}var An=null;function V0(s,r){var a=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Gt(r,s),Wt(s),d&4&&(Hs(3,s,s.return),fo(3,s),Hs(5,s,s.return));break;case 1:Gt(r,s),Wt(s),d&512&&(vt||a===null||Kn(a,a.return)),d&64&&ps&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(a=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=a===null?d:a.concat(d))));break;case 26:var m=An;if(Gt(r,s),Wt(s),d&512&&(vt||a===null||Kn(a,a.return)),d&4){var y=a!==null?a.memoizedState:null;if(d=s.memoizedState,a===null)if(d===null)if(s.stateNode===null){e:{d=s.type,a=s.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Ia]||y[Ct]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(d),m.head.insertBefore(y,m.querySelector("head > title"))),Ot(y,d,a),y[Ct]=s,Et(y),d=y;break e;case"link":var S=Vy("link","href",m).get(d+(a.href||""));if(S){for(var L=0;L<S.length;L++)if(y=S[L],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(L,1);break t}}y=m.createElement(d),Ot(y,d,a),m.head.appendChild(y);break;case"meta":if(S=Vy("meta","content",m).get(d+(a.content||""))){for(L=0;L<S.length;L++)if(y=S[L],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(L,1);break t}}y=m.createElement(d),Ot(y,d,a),m.head.appendChild(y);break;default:throw Error(i(468,d))}y[Ct]=s,Et(y),d=y}s.stateNode=d}else Hy(m,s.type,s.stateNode);else s.stateNode=$y(m,d,s.memoizedProps);else y!==d?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,d===null?Hy(m,s.type,s.stateNode):$y(m,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Dh(s,s.memoizedProps,a.memoizedProps)}break;case 27:Gt(r,s),Wt(s),d&512&&(vt||a===null||Kn(a,a.return)),a!==null&&d&4&&Dh(s,s.memoizedProps,a.memoizedProps);break;case 5:if(Gt(r,s),Wt(s),d&512&&(vt||a===null||Kn(a,a.return)),s.flags&32){m=s.stateNode;try{Cr(m,"")}catch(ue){qe(s,s.return,ue)}}d&4&&s.stateNode!=null&&(m=s.memoizedProps,Dh(s,m,a!==null?a.memoizedProps:m)),d&1024&&(Uh=!0);break;case 6:if(Gt(r,s),Wt(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,a=s.stateNode;try{a.nodeValue=d}catch(ue){qe(s,s.return,ue)}}break;case 3:if(Rc=null,m=An,An=Oc(r.containerInfo),Gt(r,s),An=m,Wt(s),d&4&&a!==null&&a.memoizedState.isDehydrated)try{sa(r.containerInfo)}catch(ue){qe(s,s.return,ue)}Uh&&(Uh=!1,H0(s));break;case 4:d=An,An=Oc(s.stateNode.containerInfo),Gt(r,s),Wt(s),An=d;break;case 12:Gt(r,s),Wt(s);break;case 31:Gt(r,s),Wt(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,gc(s,d)));break;case 13:Gt(r,s),Wt(s),s.child.flags&8192&&s.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=Mt()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,gc(s,d)));break;case 22:m=s.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,V=ps,X=vt;if(ps=V||m,vt=X||D,Gt(r,s),vt=X,ps=V,Wt(s),d&8192)e:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(a===null||D||ps||vt||Vi(s)),a=null,r=s;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(y=D.stateNode,m)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{L=D.stateNode;var te=D.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;L.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ue){qe(D,D.return,ue)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=m?"":D.memoizedProps}catch(ue){qe(D,D.return,ue)}}}else if(r.tag===18){if(a===null){D=r;try{var K=D.stateNode;m?Ry(K,!0):Ry(D.stateNode,!1)}catch(ue){qe(D,D.return,ue)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=s.updateQueue,d!==null&&(a=d.retryQueue,a!==null&&(d.retryQueue=null,gc(s,a))));break;case 19:Gt(r,s),Wt(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,gc(s,d)));break;case 30:break;case 21:break;default:Gt(r,s),Wt(s)}}function Wt(s){var r=s.flags;if(r&2){try{for(var a,d=s.return;d!==null;){if(M0(d)){a=d;break}d=d.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var m=a.stateNode,y=Ph(s);mc(s,y,m);break;case 5:var S=a.stateNode;a.flags&32&&(Cr(S,""),a.flags&=-33);var L=Ph(s);mc(s,L,S);break;case 3:case 4:var D=a.stateNode.containerInfo,V=Ph(s);zh(s,V,D);break;default:throw Error(i(161))}}catch(X){qe(s,s.return,X)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function H0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;H0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function gs(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)z0(s,r.alternate,r),r=r.sibling}function Vi(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Hs(4,r,r.return),Vi(r);break;case 1:Kn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&R0(r,r.return,a),Vi(r);break;case 27:So(r.stateNode);case 26:case 5:Kn(r,r.return),Vi(r);break;case 22:r.memoizedState===null&&Vi(r);break;case 30:Vi(r);break;default:Vi(r)}s=s.sibling}}function vs(s,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,m=s,y=r,S=y.flags;switch(y.tag){case 0:case 11:case 15:vs(m,y,a),fo(4,y);break;case 1:if(vs(m,y,a),d=y,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(V){qe(d,d.return,V)}if(d=y,m=d.updateQueue,m!==null){var L=d.stateNode;try{var D=m.shared.hiddenCallbacks;if(D!==null)for(m.shared.hiddenCallbacks=null,m=0;m<D.length;m++)bv(D[m],L)}catch(V){qe(d,d.return,V)}}a&&S&64&&A0(y),po(y,y.return);break;case 27:D0(y);case 26:case 5:vs(m,y,a),a&&d===null&&S&4&&k0(y),po(y,y.return);break;case 12:vs(m,y,a);break;case 31:vs(m,y,a),a&&S&4&&I0(m,y);break;case 13:vs(m,y,a),a&&S&4&&$0(m,y);break;case 22:y.memoizedState===null&&vs(m,y,a),po(y,y.return);break;case 30:break;default:vs(m,y,a)}r=r.sibling}}function Bh(s,r){var a=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==a&&(s!=null&&s.refCount++,a!=null&&Qa(a))}function Ih(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Qa(s))}function Rn(s,r,a,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)q0(s,r,a,d),r=r.sibling}function q0(s,r,a,d){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Rn(s,r,a,d),m&2048&&fo(9,r);break;case 1:Rn(s,r,a,d);break;case 3:Rn(s,r,a,d),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Qa(s)));break;case 12:if(m&2048){Rn(s,r,a,d),s=r.stateNode;try{var y=r.memoizedProps,S=y.id,L=y.onPostCommit;typeof L=="function"&&L(S,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(D){qe(r,r.return,D)}}else Rn(s,r,a,d);break;case 31:Rn(s,r,a,d);break;case 13:Rn(s,r,a,d);break;case 23:break;case 22:y=r.stateNode,S=r.alternate,r.memoizedState!==null?y._visibility&2?Rn(s,r,a,d):mo(s,r):y._visibility&2?Rn(s,r,a,d):(y._visibility|=2,Gr(s,r,a,d,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Bh(S,r);break;case 24:Rn(s,r,a,d),m&2048&&Ih(r.alternate,r);break;default:Rn(s,r,a,d)}}function Gr(s,r,a,d,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,S=r,L=a,D=d,V=S.flags;switch(S.tag){case 0:case 11:case 15:Gr(y,S,L,D,m),fo(8,S);break;case 23:break;case 22:var X=S.stateNode;S.memoizedState!==null?X._visibility&2?Gr(y,S,L,D,m):mo(y,S):(X._visibility|=2,Gr(y,S,L,D,m)),m&&V&2048&&Bh(S.alternate,S);break;case 24:Gr(y,S,L,D,m),m&&V&2048&&Ih(S.alternate,S);break;default:Gr(y,S,L,D,m)}r=r.sibling}}function mo(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=s,d=r,m=d.flags;switch(d.tag){case 22:mo(a,d),m&2048&&Bh(d.alternate,d);break;case 24:mo(a,d),m&2048&&Ih(d.alternate,d);break;default:mo(a,d)}r=r.sibling}}var go=8192;function Wr(s,r,a){if(s.subtreeFlags&go)for(s=s.child;s!==null;)F0(s,r,a),s=s.sibling}function F0(s,r,a){switch(s.tag){case 26:Wr(s,r,a),s.flags&go&&s.memoizedState!==null&&xC(a,An,s.memoizedState,s.memoizedProps);break;case 5:Wr(s,r,a);break;case 3:case 4:var d=An;An=Oc(s.stateNode.containerInfo),Wr(s,r,a),An=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=go,go=16777216,Wr(s,r,a),go=d):Wr(s,r,a));break;default:Wr(s,r,a)}}function G0(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function vo(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var d=r[a];_t=d,K0(d,s)}G0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)W0(s),s=s.sibling}function W0(s){switch(s.tag){case 0:case 11:case 15:vo(s),s.flags&2048&&Hs(9,s,s.return);break;case 3:vo(s);break;case 12:vo(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,vc(s)):vo(s);break;default:vo(s)}}function vc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var d=r[a];_t=d,K0(d,s)}G0(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Hs(8,r,r.return),vc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,vc(r));break;default:vc(r)}s=s.sibling}}function K0(s,r){for(;_t!==null;){var a=_t;switch(a.tag){case 0:case 11:case 15:Hs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var d=a.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Qa(a.memoizedState.cache)}if(d=a.child,d!==null)d.return=a,_t=d;else e:for(a=s;_t!==null;){d=_t;var m=d.sibling,y=d.return;if(U0(d),d===a){_t=null;break e}if(m!==null){m.return=y,_t=m;break e}_t=y}}}var M_={getCacheForType:function(s){var r=Nt(pt),a=r.data.get(s);return a===void 0&&(a=s(),r.data.set(s,a)),a},cacheSignal:function(){return Nt(pt).controller.signal}},D_=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Ke=null,Ae=null,Me=0,He=0,rn=null,qs=!1,Kr=!1,$h=!1,ys=0,ct=0,Fs=0,Hi=0,Vh=0,an=0,Yr=0,yo=null,Kt=null,Hh=!1,yc=0,Y0=0,xc=1/0,bc=null,Gs=null,bt=0,Ws=null,Zr=null,xs=0,qh=0,Fh=null,Z0=null,xo=0,Gh=null;function on(){return(Ve&2)!==0&&Me!==0?Me&-Me:z.T!==null?Jh():hg()}function X0(){if(an===0)if((Me&536870912)===0||Pe){var s=wi;wi<<=1,(wi&3932160)===0&&(wi=262144),an=s}else an=536870912;return s=nn.current,s!==null&&(s.flags|=32),an}function Yt(s,r,a){(s===Ke&&(He===2||He===9)||s.cancelPendingCommit!==null)&&(Xr(s,0),Ks(s,Me,an,!1)),_i(s,a),((Ve&2)===0||s!==Ke)&&(s===Ke&&((Ve&2)===0&&(Hi|=a),ct===4&&Ks(s,Me,an,!1)),Yn(s))}function J0(s,r,a){if((Ve&6)!==0)throw Error(i(327));var d=!a&&(r&127)===0&&(r&s.expiredLanes)===0||Fn(s,r),m=d?U_(s,r):Kh(s,r,!0),y=d;do{if(m===0){Kr&&!d&&Ks(s,r,0,!1);break}else{if(a=s.current.alternate,y&&!P_(a)){m=Kh(s,r,!1),y=!1;continue}if(m===2){if(y=r,s.errorRecoveryDisabledLanes&y)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;e:{var L=s;m=yo;var D=L.current.memoizedState.isDehydrated;if(D&&(Xr(L,S).flags|=256),S=Kh(L,S,!1),S!==2){if($h&&!D){L.errorRecoveryDisabledLanes|=y,Hi|=y,m=4;break e}y=Kt,Kt=m,y!==null&&(Kt===null?Kt=y:Kt.push.apply(Kt,y))}m=S}if(y=!1,m!==2)continue}}if(m===1){Xr(s,0),Ks(s,r,0,!0);break}e:{switch(d=s,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Ks(d,r,an,!qs);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=yc+300-Mt(),10<m)){if(Ks(d,r,an,!qs),Si(d,0,!0)!==0)break e;xs=r,d.timeoutHandle=Ly(Q0.bind(null,d,a,Kt,bc,Hh,r,an,Hi,Yr,qs,y,"Throttled",-0,0),m);break e}Q0(d,a,Kt,bc,Hh,r,an,Hi,Yr,qs,y,null,-0,0)}}break}while(!0);Yn(s)}function Q0(s,r,a,d,m,y,S,L,D,V,X,te,F,K){if(s.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:is},F0(r,y,te);var ue=(y&62914560)===y?yc-Mt():(y&4194048)===y?Y0-Mt():0;if(ue=bC(te,ue),ue!==null){xs=y,s.cancelPendingCommit=ue(oy.bind(null,s,r,y,a,d,m,S,L,D,X,te,null,F,K)),Ks(s,y,S,!V);return}}oy(s,r,y,a,d,m,S,L,D)}function P_(s){for(var r=s;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var d=0;d<a.length;d++){var m=a[d],y=m.getSnapshot;m=m.value;try{if(!en(y(),m))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ks(s,r,a,d){r&=~Vh,r&=~Hi,s.suspendedLanes|=r,s.pingedLanes&=~r,d&&(s.warmLanes|=r),d=s.expirationTimes;for(var m=r;0<m;){var y=31-Pt(m),S=1<<y;d[y]=-1,m&=~S}a!==0&&Ee(s,a,r)}function wc(){return(Ve&6)===0?(bo(0),!1):!0}function Wh(){if(Ae!==null){if(He===0)var s=Ae.return;else s=Ae,ls=Mi=null,ch(s),$r=null,to=0,s=Ae;for(;s!==null;)O0(s.alternate,s),s=s.return;Ae=null}}function Xr(s,r){var a=s.timeoutHandle;a!==-1&&(s.timeoutHandle=-1,nC(a)),a=s.cancelPendingCommit,a!==null&&(s.cancelPendingCommit=null,a()),xs=0,Wh(),Ke=s,Ae=a=as(s.current,null),Me=r,He=0,rn=null,qs=!1,Kr=Fn(s,r),$h=!1,Yr=an=Vh=Hi=Fs=ct=0,Kt=yo=null,Hh=!1,(r&8)!==0&&(r|=r&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=r;0<d;){var m=31-Pt(d),y=1<<m;r|=s[m],d&=~y}return ys=r,Vl(),a}function ey(s,r){Ce=null,z.H=co,r===Ir||r===Zl?(r=gv(),He=3):r===Xd?(r=gv(),He=4):He=r===_h?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,rn=r,Ae===null&&(ct=1,uc(s,yn(r,s.current)))}function ty(){var s=nn.current;return s===null?!0:(Me&4194048)===Me?jn===null:(Me&62914560)===Me||(Me&536870912)!==0?s===jn:!1}function ny(){var s=z.H;return z.H=co,s===null?co:s}function sy(){var s=z.A;return z.A=M_,s}function jc(){ct=4,qs||(Me&4194048)!==Me&&nn.current!==null||(Kr=!0),(Fs&134217727)===0&&(Hi&134217727)===0||Ke===null||Ks(Ke,Me,an,!1)}function Kh(s,r,a){var d=Ve;Ve|=2;var m=ny(),y=sy();(Ke!==s||Me!==r)&&(bc=null,Xr(s,r)),r=!1;var S=ct;e:do try{if(He!==0&&Ae!==null){var L=Ae,D=rn;switch(He){case 8:Wh(),S=6;break e;case 3:case 2:case 9:case 6:nn.current===null&&(r=!0);var V=He;if(He=0,rn=null,Jr(s,L,D,V),a&&Kr){S=0;break e}break;default:V=He,He=0,rn=null,Jr(s,L,D,V)}}z_(),S=ct;break}catch(X){ey(s,X)}while(!0);return r&&s.shellSuspendCounter++,ls=Mi=null,Ve=d,z.H=m,z.A=y,Ae===null&&(Ke=null,Me=0,Vl()),S}function z_(){for(;Ae!==null;)iy(Ae)}function U_(s,r){var a=Ve;Ve|=2;var d=ny(),m=sy();Ke!==s||Me!==r?(bc=null,xc=Mt()+500,Xr(s,r)):Kr=Fn(s,r);e:do try{if(He!==0&&Ae!==null){r=Ae;var y=rn;t:switch(He){case 1:He=0,rn=null,Jr(s,r,y,1);break;case 2:case 9:if(pv(y)){He=0,rn=null,ry(r);break}r=function(){He!==2&&He!==9||Ke!==s||(He=7),Yn(s)},y.then(r,r);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:pv(y)?(He=0,rn=null,ry(r)):(He=0,rn=null,Jr(s,r,y,7));break;case 5:var S=null;switch(Ae.tag){case 26:S=Ae.memoizedState;case 5:case 27:var L=Ae;if(S?qy(S):L.stateNode.complete){He=0,rn=null;var D=L.sibling;if(D!==null)Ae=D;else{var V=L.return;V!==null?(Ae=V,Sc(V)):Ae=null}break t}}He=0,rn=null,Jr(s,r,y,5);break;case 6:He=0,rn=null,Jr(s,r,y,6);break;case 8:Wh(),ct=6;break e;default:throw Error(i(462))}}B_();break}catch(X){ey(s,X)}while(!0);return ls=Mi=null,z.H=d,z.A=m,Ve=a,Ae!==null?0:(Ke=null,Me=0,Vl(),ct)}function B_(){for(;Ae!==null&&!Cl();)iy(Ae)}function iy(s){var r=N0(s.alternate,s,ys);s.memoizedProps=s.pendingProps,r===null?Sc(s):Ae=r}function ry(s){var r=s,a=r.alternate;switch(r.tag){case 15:case 0:r=j0(a,r,r.pendingProps,r.type,void 0,Me);break;case 11:r=j0(a,r,r.pendingProps,r.type.render,r.ref,Me);break;case 5:ch(r);default:O0(a,r),r=Ae=sv(r,ys),r=N0(a,r,ys)}s.memoizedProps=s.pendingProps,r===null?Sc(s):Ae=r}function Jr(s,r,a,d){ls=Mi=null,ch(r),$r=null,to=0;var m=r.return;try{if(T_(s,m,r,a,Me)){ct=1,uc(s,yn(a,s.current)),Ae=null;return}}catch(y){if(m!==null)throw Ae=m,y;ct=1,uc(s,yn(a,s.current)),Ae=null;return}r.flags&32768?(Pe||d===1?s=!0:Kr||(Me&536870912)!==0?s=!1:(qs=s=!0,(d===2||d===9||d===3||d===6)&&(d=nn.current,d!==null&&d.tag===13&&(d.flags|=16384))),ay(r,s)):Sc(r)}function Sc(s){var r=s;do{if((r.flags&32768)!==0){ay(r,qs);return}s=r.return;var a=O_(r.alternate,r,ys);if(a!==null){Ae=a;return}if(r=r.sibling,r!==null){Ae=r;return}Ae=r=s}while(r!==null);ct===0&&(ct=5)}function ay(s,r){do{var a=A_(s.alternate,s);if(a!==null){a.flags&=32767,Ae=a;return}if(a=s.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(s=s.sibling,s!==null)){Ae=s;return}Ae=s=a}while(s!==null);ct=6,Ae=null}function oy(s,r,a,d,m,y,S,L,D){s.cancelPendingCommit=null;do Ec();while(bt!==0);if((Ve&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=Pd,Ci(s,a,y,S,L,D),s===Ke&&(Ae=Ke=null,Me=0),Zr=r,Ws=s,xs=a,qh=y,Fh=m,Z0=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,H_(xi,function(){return hy(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=z.T,z.T=null,m=Y.p,Y.p=2,S=Ve,Ve|=4;try{R_(s,r,a)}finally{Ve=S,Y.p=m,z.T=d}}bt=1,ly(),cy(),uy()}}function ly(){if(bt===1){bt=0;var s=Ws,r=Zr,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var d=Y.p;Y.p=2;var m=Ve;Ve|=4;try{V0(r,s);var y=of,S=Kg(s.containerInfo),L=y.focusedElem,D=y.selectionRange;if(S!==L&&L&&L.ownerDocument&&Wg(L.ownerDocument.documentElement,L)){if(D!==null&&Ad(L)){var V=D.start,X=D.end;if(X===void 0&&(X=V),"selectionStart"in L)L.selectionStart=V,L.selectionEnd=Math.min(X,L.value.length);else{var te=L.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var K=F.getSelection(),ue=L.textContent.length,be=Math.min(D.start,ue),We=D.end===void 0?be:Math.min(D.end,ue);!K.extend&&be>We&&(S=We,We=be,be=S);var B=Gg(L,be),U=Gg(L,We);if(B&&U&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==U.node||K.focusOffset!==U.offset)){var $=te.createRange();$.setStart(B.node,B.offset),K.removeAllRanges(),be>We?(K.addRange($),K.extend(U.node,U.offset)):($.setEnd(U.node,U.offset),K.addRange($))}}}}for(te=[],K=L;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<te.length;L++){var Q=te[L];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Pc=!!af,of=af=null}finally{Ve=m,Y.p=d,z.T=a}}s.current=r,bt=2}}function cy(){if(bt===2){bt=0;var s=Ws,r=Zr,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var d=Y.p;Y.p=2;var m=Ve;Ve|=4;try{z0(s,r.alternate,r)}finally{Ve=m,Y.p=d,z.T=a}}bt=3}}function uy(){if(bt===4||bt===3){bt=0,pr();var s=Ws,r=Zr,a=xs,d=Z0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?bt=5:(bt=0,Zr=Ws=null,dy(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Gs=null),hd(a),r=r.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(qn,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=z.T,m=Y.p,Y.p=2,z.T=null;try{for(var y=s.onRecoverableError,S=0;S<d.length;S++){var L=d[S];y(L.value,{componentStack:L.stack})}}finally{z.T=r,Y.p=m}}(xs&3)!==0&&Ec(),Yn(s),m=s.pendingLanes,(a&261930)!==0&&(m&42)!==0?s===Gh?xo++:(xo=0,Gh=s):xo=0,bo(0)}}function dy(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Qa(r)))}function Ec(){return ly(),cy(),uy(),hy()}function hy(){if(bt!==5)return!1;var s=Ws,r=qh;qh=0;var a=hd(xs),d=z.T,m=Y.p;try{Y.p=32>a?32:a,z.T=null,a=Fh,Fh=null;var y=Ws,S=xs;if(bt=0,Zr=Ws=null,xs=0,(Ve&6)!==0)throw Error(i(331));var L=Ve;if(Ve|=4,W0(y.current),q0(y,y.current,S,a),Ve=L,bo(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(qn,y)}catch{}return!0}finally{Y.p=m,z.T=d,dy(s,r)}}function fy(s,r,a){r=yn(a,r),r=Eh(s.stateNode,r,2),s=Is(s,r,2),s!==null&&(_i(s,2),Yn(s))}function qe(s,r,a){if(s.tag===3)fy(s,s,a);else for(;r!==null;){if(r.tag===3){fy(r,s,a);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Gs===null||!Gs.has(d))){s=yn(a,s),a=p0(2),d=Is(r,a,2),d!==null&&(m0(a,d,r,s),_i(d,2),Yn(d));break}}r=r.return}}function Yh(s,r,a){var d=s.pingCache;if(d===null){d=s.pingCache=new D_;var m=new Set;d.set(r,m)}else m=d.get(r),m===void 0&&(m=new Set,d.set(r,m));m.has(a)||($h=!0,m.add(a),s=I_.bind(null,s,r,a),r.then(s,s))}function I_(s,r,a){var d=s.pingCache;d!==null&&d.delete(r),s.pingedLanes|=s.suspendedLanes&a,s.warmLanes&=~a,Ke===s&&(Me&a)===a&&(ct===4||ct===3&&(Me&62914560)===Me&&300>Mt()-yc?(Ve&2)===0&&Xr(s,0):Vh|=a,Yr===Me&&(Yr=0)),Yn(s)}function py(s,r){r===0&&(r=Ei()),s=Ai(s,r),s!==null&&(_i(s,r),Yn(s))}function $_(s){var r=s.memoizedState,a=0;r!==null&&(a=r.retryLane),py(s,a)}function V_(s,r){var a=0;switch(s.tag){case 31:case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(a=m.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(r),py(s,a)}function H_(s,r){return fr(s,r)}var _c=null,Qr=null,Zh=!1,Cc=!1,Xh=!1,Ys=0;function Yn(s){s!==Qr&&s.next===null&&(Qr===null?_c=Qr=s:Qr=Qr.next=s),Cc=!0,Zh||(Zh=!0,F_())}function bo(s,r){if(!Xh&&Cc){Xh=!0;do for(var a=!1,d=_c;d!==null;){if(s!==0){var m=d.pendingLanes;if(m===0)var y=0;else{var S=d.suspendedLanes,L=d.pingedLanes;y=(1<<31-Pt(42|s)+1)-1,y&=m&~(S&~L),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,yy(d,y))}else y=Me,y=Si(d,d===Ke?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Fn(d,y)||(a=!0,yy(d,y));d=d.next}while(a);Xh=!1}}function q_(){my()}function my(){Cc=Zh=!1;var s=0;Ys!==0&&tC()&&(s=Ys);for(var r=Mt(),a=null,d=_c;d!==null;){var m=d.next,y=gy(d,r);y===0?(d.next=null,a===null?_c=m:a.next=m,m===null&&(Qr=a)):(a=d,(s!==0||(y&3)!==0)&&(Cc=!0)),d=m}bt!==0&&bt!==5||bo(s),Ys!==0&&(Ys=0)}function gy(s,r){for(var a=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var S=31-Pt(y),L=1<<S,D=m[S];D===-1?((L&a)===0||(L&d)!==0)&&(m[S]=Ol(L,r)):D<=r&&(s.expiredLanes|=L),y&=~L}if(r=Ke,a=Me,a=Si(s,s===r?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,a===0||s===r&&(He===2||He===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&As(d),s.callbackNode=null,s.callbackPriority=0;if((a&3)===0||Fn(s,a)){if(r=a&-a,r===s.callbackPriority)return r;switch(d!==null&&As(d),hd(a)){case 2:case 8:a=yi;break;case 32:a=xi;break;case 268435456:a=Ba;break;default:a=xi}return d=vy.bind(null,s),a=fr(a,d),s.callbackPriority=r,s.callbackNode=a,r}return d!==null&&d!==null&&As(d),s.callbackPriority=2,s.callbackNode=null,2}function vy(s,r){if(bt!==0&&bt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var a=s.callbackNode;if(Ec()&&s.callbackNode!==a)return null;var d=Me;return d=Si(s,s===Ke?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(J0(s,d,r),gy(s,Mt()),s.callbackNode!=null&&s.callbackNode===a?vy.bind(null,s):null)}function yy(s,r){if(Ec())return null;J0(s,r,!0)}function F_(){sC(function(){(Ve&6)!==0?fr(Ua,q_):my()})}function Jh(){if(Ys===0){var s=Ur;s===0&&(s=bi,bi<<=1,(bi&261888)===0&&(bi=256)),Ys=s}return Ys}function xy(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ml(""+s)}function by(s,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,s.id&&a.setAttribute("form",s.id),r.parentNode.insertBefore(a,r),s=new FormData(s),a.parentNode.removeChild(a),s}function G_(s,r,a,d,m){if(r==="submit"&&a&&a.stateNode===m){var y=xy((m[Ht]||null).action),S=d.submitter;S&&(r=(r=S[Ht]||null)?xy(r.formAction):S.getAttribute("formAction"),r!==null&&(y=r,S=null));var L=new Ul("action","action",null,d,m);s.push({event:L,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ys!==0){var D=S?by(m,S):new FormData(m);yh(a,{pending:!0,data:D,method:m.method,action:y},null,D)}}else typeof y=="function"&&(L.preventDefault(),D=S?by(m,S):new FormData(m),yh(a,{pending:!0,data:D,method:m.method,action:y},y,D))},currentTarget:m}]})}}for(var Qh=0;Qh<Dd.length;Qh++){var ef=Dd[Qh],W_=ef.toLowerCase(),K_=ef[0].toUpperCase()+ef.slice(1);On(W_,"on"+K_)}On(Xg,"onAnimationEnd"),On(Jg,"onAnimationIteration"),On(Qg,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(u_,"onTransitionRun"),On(d_,"onTransitionStart"),On(h_,"onTransitionCancel"),On(ev,"onTransitionEnd"),Er("onMouseEnter",["mouseout","mouseover"]),Er("onMouseLeave",["mouseout","mouseover"]),Er("onPointerEnter",["pointerout","pointerover"]),Er("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wo));function wy(s,r){r=(r&4)!==0;for(var a=0;a<s.length;a++){var d=s[a],m=d.event;d=d.listeners;e:{var y=void 0;if(r)for(var S=d.length-1;0<=S;S--){var L=d[S],D=L.instance,V=L.currentTarget;if(L=L.listener,D!==y&&m.isPropagationStopped())break e;y=L,m.currentTarget=V;try{y(m)}catch(X){$l(X)}m.currentTarget=null,y=D}else for(S=0;S<d.length;S++){if(L=d[S],D=L.instance,V=L.currentTarget,L=L.listener,D!==y&&m.isPropagationStopped())break e;y=L,m.currentTarget=V;try{y(m)}catch(X){$l(X)}m.currentTarget=null,y=D}}}}function Re(s,r){var a=r[fd];a===void 0&&(a=r[fd]=new Set);var d=s+"__bubble";a.has(d)||(jy(r,s,2,!1),a.add(d))}function tf(s,r,a){var d=0;r&&(d|=4),jy(a,s,d,r)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function nf(s){if(!s[Tc]){s[Tc]=!0,mg.forEach(function(a){a!=="selectionchange"&&(Y_.has(a)||tf(a,!1,s),tf(a,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Tc]||(r[Tc]=!0,tf("selectionchange",!1,r))}}function jy(s,r,a,d){switch(Xy(r)){case 2:var m=SC;break;case 8:m=EC;break;default:m=yf}a=m.bind(null,r,a,s),m=void 0,!jd||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(r,a,{capture:!0,passive:m}):s.addEventListener(r,a,!0):m!==void 0?s.addEventListener(r,a,{passive:m}):s.addEventListener(r,a,!1)}function sf(s,r,a,d,m){var y=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var L=d.stateNode.containerInfo;if(L===m)break;if(S===4)for(S=d.return;S!==null;){var D=S.tag;if((D===3||D===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;L!==null;){if(S=wr(L),S===null)return;if(D=S.tag,D===5||D===6||D===26||D===27){d=y=S;continue e}L=L.parentNode}}d=d.return}Tg(function(){var V=y,X=bd(a),te=[];e:{var F=tv.get(s);if(F!==void 0){var K=Ul,ue=s;switch(s){case"keypress":if(Pl(a)===0)break e;case"keydown":case"keyup":K=VE;break;case"focusin":ue="focus",K=Cd;break;case"focusout":ue="blur",K=Cd;break;case"beforeblur":case"afterblur":K=Cd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=OE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=FE;break;case Xg:case Jg:case Qg:K=kE;break;case ev:K=WE;break;case"scroll":case"scrollend":K=NE;break;case"wheel":K=YE;break;case"copy":case"cut":case"paste":K=DE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Rg;break;case"toggle":case"beforetoggle":K=XE}var be=(r&4)!==0,We=!be&&(s==="scroll"||s==="scrollend"),B=be?F!==null?F+"Capture":null:F;be=[];for(var U=V,$;U!==null;){var Q=U;if($=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||$===null||B===null||(Q=Va(U,B),Q!=null&&be.push(jo(U,Q,$))),We)break;U=U.return}0<be.length&&(F=new K(F,ue,null,a,X),te.push({event:F,listeners:be}))}}if((r&7)===0){e:{if(F=s==="mouseover"||s==="pointerover",K=s==="mouseout"||s==="pointerout",F&&a!==xd&&(ue=a.relatedTarget||a.fromElement)&&(wr(ue)||ue[br]))break e;if((K||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,K?(ue=a.relatedTarget||a.toElement,K=V,ue=ue?wr(ue):null,ue!==null&&(We=c(ue),be=ue.tag,ue!==We||be!==5&&be!==27&&be!==6)&&(ue=null)):(K=null,ue=V),K!==ue)){if(be=Og,Q="onMouseLeave",B="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(be=Rg,Q="onPointerLeave",B="onPointerEnter",U="pointer"),We=K==null?F:$a(K),$=ue==null?F:$a(ue),F=new be(Q,U+"leave",K,a,X),F.target=We,F.relatedTarget=$,Q=null,wr(X)===V&&(be=new be(B,U+"enter",ue,a,X),be.target=$,be.relatedTarget=We,Q=be),We=Q,K&&ue)t:{for(be=Z_,B=K,U=ue,$=0,Q=B;Q;Q=be(Q))$++;Q=0;for(var ve=U;ve;ve=be(ve))Q++;for(;0<$-Q;)B=be(B),$--;for(;0<Q-$;)U=be(U),Q--;for(;$--;){if(B===U||U!==null&&B===U.alternate){be=B;break t}B=be(B),U=be(U)}be=null}else be=null;K!==null&&Sy(te,F,K,be,!1),ue!==null&&We!==null&&Sy(te,We,ue,be,!0)}}e:{if(F=V?$a(V):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Ue=Ig;else if(Ug(F))if($g)Ue=o_;else{Ue=r_;var fe=i_}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?V&&yd(V.elementType)&&(Ue=Ig):Ue=a_;if(Ue&&(Ue=Ue(s,V))){Bg(te,Ue,a,X);break e}fe&&fe(s,F,V),s==="focusout"&&V&&F.type==="number"&&V.memoizedProps.value!=null&&vd(F,"number",F.value)}switch(fe=V?$a(V):window,s){case"focusin":(Ug(fe)||fe.contentEditable==="true")&&(Or=fe,Rd=V,Za=null);break;case"focusout":Za=Rd=Or=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,Yg(te,a,X);break;case"selectionchange":if(c_)break;case"keydown":case"keyup":Yg(te,a,X)}var Te;if(Nd)e:{switch(s){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Lr?Pg(s,a)&&(De="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(kg&&a.locale!=="ko"&&(Lr||De!=="onCompositionStart"?De==="onCompositionEnd"&&Lr&&(Te=Ng()):(ks=X,Sd="value"in ks?ks.value:ks.textContent,Lr=!0)),fe=Nc(V,De),0<fe.length&&(De=new Ag(De,s,null,a,X),te.push({event:De,listeners:fe}),Te?De.data=Te:(Te=zg(a),Te!==null&&(De.data=Te)))),(Te=QE?e_(s,a):t_(s,a))&&(De=Nc(V,"onBeforeInput"),0<De.length&&(fe=new Ag("onBeforeInput","beforeinput",null,a,X),te.push({event:fe,listeners:De}),fe.data=Te)),G_(te,s,V,a,X)}wy(te,r)})}function jo(s,r,a){return{instance:s,listener:r,currentTarget:a}}function Nc(s,r){for(var a=r+"Capture",d=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Va(s,a),m!=null&&d.unshift(jo(s,m,y)),m=Va(s,r),m!=null&&d.push(jo(s,m,y))),s.tag===3)return d;s=s.return}return[]}function Z_(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Sy(s,r,a,d,m){for(var y=r._reactName,S=[];a!==null&&a!==d;){var L=a,D=L.alternate,V=L.stateNode;if(L=L.tag,D!==null&&D===d)break;L!==5&&L!==26&&L!==27||V===null||(D=V,m?(V=Va(a,y),V!=null&&S.unshift(jo(a,V,D))):m||(V=Va(a,y),V!=null&&S.push(jo(a,V,D)))),a=a.return}S.length!==0&&s.push({event:r,listeners:S})}var X_=/\r\n?/g,J_=/\u0000|\uFFFD/g;function Ey(s){return(typeof s=="string"?s:""+s).replace(X_,`
`).replace(J_,"")}function _y(s,r){return r=Ey(r),Ey(s)===r}function Ge(s,r,a,d,m,y){switch(a){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||Cr(s,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&Cr(s,""+d);break;case"className":Rl(s,"class",d);break;case"tabIndex":Rl(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Rl(s,a,d);break;case"style":_g(s,d,y);break;case"data":if(r!=="object"){Rl(s,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||a!=="href")){s.removeAttribute(a);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(a);break}d=Ml(""+d),s.setAttribute(a,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(r!=="input"&&Ge(s,r,"name",m.name,m,null),Ge(s,r,"formEncType",m.formEncType,m,null),Ge(s,r,"formMethod",m.formMethod,m,null),Ge(s,r,"formTarget",m.formTarget,m,null)):(Ge(s,r,"encType",m.encType,m,null),Ge(s,r,"method",m.method,m,null),Ge(s,r,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(a);break}d=Ml(""+d),s.setAttribute(a,d);break;case"onClick":d!=null&&(s.onclick=is);break;case"onScroll":d!=null&&Re("scroll",s);break;case"onScrollEnd":d!=null&&Re("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(a=d.__html,a!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}a=Ml(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(a,""+d):s.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(a,""):s.removeAttribute(a);break;case"capture":case"download":d===!0?s.setAttribute(a,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(a,d):s.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(a,d):s.removeAttribute(a);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(a):s.setAttribute(a,d);break;case"popover":Re("beforetoggle",s),Re("toggle",s),Al(s,"popover",d);break;case"xlinkActuate":ss(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ss(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ss(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ss(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ss(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ss(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ss(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ss(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ss(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Al(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=CE.get(a)||a,Al(s,a,d))}}function rf(s,r,a,d,m,y){switch(a){case"style":_g(s,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(a=d.__html,a!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"children":typeof d=="string"?Cr(s,d):(typeof d=="number"||typeof d=="bigint")&&Cr(s,""+d);break;case"onScroll":d!=null&&Re("scroll",s);break;case"onScrollEnd":d!=null&&Re("scrollend",s);break;case"onClick":d!=null&&(s.onclick=is);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),r=a.slice(2,m?a.length-7:void 0),y=s[Ht]||null,y=y!=null?y[a]:null,typeof y=="function"&&s.removeEventListener(r,y,m),typeof d=="function")){typeof y!="function"&&y!==null&&(a in s?s[a]=null:s.hasAttribute(a)&&s.removeAttribute(a)),s.addEventListener(r,d,m);break e}a in s?s[a]=d:d===!0?s.setAttribute(a,""):Al(s,a,d)}}}function Ot(s,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",s),Re("load",s);var d=!1,m=!1,y;for(y in a)if(a.hasOwnProperty(y)){var S=a[y];if(S!=null)switch(y){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ge(s,r,y,S,a,null)}}m&&Ge(s,r,"srcSet",a.srcSet,a,null),d&&Ge(s,r,"src",a.src,a,null);return;case"input":Re("invalid",s);var L=y=S=m=null,D=null,V=null;for(d in a)if(a.hasOwnProperty(d)){var X=a[d];if(X!=null)switch(d){case"name":m=X;break;case"type":S=X;break;case"checked":D=X;break;case"defaultChecked":V=X;break;case"value":y=X;break;case"defaultValue":L=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:Ge(s,r,d,X,a,null)}}wg(s,y,L,D,V,S,m,!1);return;case"select":Re("invalid",s),d=S=y=null;for(m in a)if(a.hasOwnProperty(m)&&(L=a[m],L!=null))switch(m){case"value":y=L;break;case"defaultValue":S=L;break;case"multiple":d=L;default:Ge(s,r,m,L,a,null)}r=y,a=S,s.multiple=!!d,r!=null?_r(s,!!d,r,!1):a!=null&&_r(s,!!d,a,!0);return;case"textarea":Re("invalid",s),y=m=d=null;for(S in a)if(a.hasOwnProperty(S)&&(L=a[S],L!=null))switch(S){case"value":d=L;break;case"defaultValue":m=L;break;case"children":y=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(91));break;default:Ge(s,r,S,L,a,null)}Sg(s,d,m,y);return;case"option":for(D in a)a.hasOwnProperty(D)&&(d=a[D],d!=null)&&(D==="selected"?s.selected=d&&typeof d!="function"&&typeof d!="symbol":Ge(s,r,D,d,a,null));return;case"dialog":Re("beforetoggle",s),Re("toggle",s),Re("cancel",s),Re("close",s);break;case"iframe":case"object":Re("load",s);break;case"video":case"audio":for(d=0;d<wo.length;d++)Re(wo[d],s);break;case"image":Re("error",s),Re("load",s);break;case"details":Re("toggle",s);break;case"embed":case"source":case"link":Re("error",s),Re("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(d=a[V],d!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ge(s,r,V,d,a,null)}return;default:if(yd(r)){for(X in a)a.hasOwnProperty(X)&&(d=a[X],d!==void 0&&rf(s,r,X,d,a,void 0));return}}for(L in a)a.hasOwnProperty(L)&&(d=a[L],d!=null&&Ge(s,r,L,d,a,null))}function Q_(s,r,a,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,L=null,D=null,V=null,X=null;for(K in a){var te=a[K];if(a.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=te;default:d.hasOwnProperty(K)||Ge(s,r,K,null,d,te)}}for(var F in d){var K=d[F];if(te=a[F],d.hasOwnProperty(F)&&(K!=null||te!=null))switch(F){case"type":y=K;break;case"name":m=K;break;case"checked":V=K;break;case"defaultChecked":X=K;break;case"value":S=K;break;case"defaultValue":L=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:K!==te&&Ge(s,r,F,K,d,te)}}gd(s,S,L,D,V,X,y,m);return;case"select":K=S=L=F=null;for(y in a)if(D=a[y],a.hasOwnProperty(y)&&D!=null)switch(y){case"value":break;case"multiple":K=D;default:d.hasOwnProperty(y)||Ge(s,r,y,null,d,D)}for(m in d)if(y=d[m],D=a[m],d.hasOwnProperty(m)&&(y!=null||D!=null))switch(m){case"value":F=y;break;case"defaultValue":L=y;break;case"multiple":S=y;default:y!==D&&Ge(s,r,m,y,d,D)}r=L,a=S,d=K,F!=null?_r(s,!!a,F,!1):!!d!=!!a&&(r!=null?_r(s,!!a,r,!0):_r(s,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(L in a)if(m=a[L],a.hasOwnProperty(L)&&m!=null&&!d.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Ge(s,r,L,null,d,m)}for(S in d)if(m=d[S],y=a[S],d.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":F=m;break;case"defaultValue":K=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&Ge(s,r,S,m,d,y)}jg(s,F,K);return;case"option":for(var ue in a)F=a[ue],a.hasOwnProperty(ue)&&F!=null&&!d.hasOwnProperty(ue)&&(ue==="selected"?s.selected=!1:Ge(s,r,ue,null,d,F));for(D in d)F=d[D],K=a[D],d.hasOwnProperty(D)&&F!==K&&(F!=null||K!=null)&&(D==="selected"?s.selected=F&&typeof F!="function"&&typeof F!="symbol":Ge(s,r,D,F,d,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)F=a[be],a.hasOwnProperty(be)&&F!=null&&!d.hasOwnProperty(be)&&Ge(s,r,be,null,d,F);for(V in d)if(F=d[V],K=a[V],d.hasOwnProperty(V)&&F!==K&&(F!=null||K!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,r));break;default:Ge(s,r,V,F,d,K)}return;default:if(yd(r)){for(var We in a)F=a[We],a.hasOwnProperty(We)&&F!==void 0&&!d.hasOwnProperty(We)&&rf(s,r,We,void 0,d,F);for(X in d)F=d[X],K=a[X],!d.hasOwnProperty(X)||F===K||F===void 0&&K===void 0||rf(s,r,X,F,d,K);return}}for(var B in a)F=a[B],a.hasOwnProperty(B)&&F!=null&&!d.hasOwnProperty(B)&&Ge(s,r,B,null,d,F);for(te in d)F=d[te],K=a[te],!d.hasOwnProperty(te)||F===K||F==null&&K==null||Ge(s,r,te,F,d,K)}function Cy(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eC(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,a=performance.getEntriesByType("resource"),d=0;d<a.length;d++){var m=a[d],y=m.transferSize,S=m.initiatorType,L=m.duration;if(y&&L&&Cy(S)){for(S=0,L=m.responseEnd,d+=1;d<a.length;d++){var D=a[d],V=D.startTime;if(V>L)break;var X=D.transferSize,te=D.initiatorType;X&&Cy(te)&&(D=D.responseEnd,S+=X*(D<L?1:(L-V)/(D-V)))}if(--d,r+=8*(y+S)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var af=null,of=null;function Lc(s){return s.nodeType===9?s:s.ownerDocument}function Ty(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ny(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function lf(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cf=null;function tC(){var s=window.event;return s&&s.type==="popstate"?s===cf?!1:(cf=s,!0):(cf=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,nC=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,sC=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(s){return Oy.resolve(null).then(s).catch(iC)}:Ly;function iC(s){setTimeout(function(){throw s})}function Zs(s){return s==="head"}function Ay(s,r){var a=r,d=0;do{var m=a.nextSibling;if(s.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(d===0){s.removeChild(m),sa(r);return}d--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")d++;else if(a==="html")So(s.ownerDocument.documentElement);else if(a==="head"){a=s.ownerDocument.head,So(a);for(var y=a.firstChild;y;){var S=y.nextSibling,L=y.nodeName;y[Ia]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=S}}else a==="body"&&So(s.ownerDocument.body);a=m}while(a);sa(r)}function Ry(s,r){var a=s;s=0;do{var d=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(s===0)break;s--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||s++;a=d}while(a)}function uf(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":uf(a),pd(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}s.removeChild(a)}}function rC(s,r,a,d){for(;s.nodeType===1;){var m=a;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Ia])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Sn(s.nextSibling),s===null)break}return null}function aC(s,r,a){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Sn(s.nextSibling),s===null))return null;return s}function ky(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Sn(s.nextSibling),s===null))return null;return s}function df(s){return s.data==="$?"||s.data==="$~"}function hf(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function oC(s,r){var a=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||a.readyState!=="loading")r();else{var d=function(){r(),a.removeEventListener("DOMContentLoaded",d)};a.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Sn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var ff=null;function My(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var a=s.data;if(a==="/$"||a==="/&"){if(r===0)return Sn(s.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}s=s.nextSibling}return null}function Dy(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return s;r--}else a!=="/$"&&a!=="/&"||r++}s=s.previousSibling}return null}function Py(s,r,a){switch(r=Lc(a),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function So(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);pd(s)}var En=new Map,zy=new Set;function Oc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var bs=Y.d;Y.d={f:lC,r:cC,D:uC,C:dC,L:hC,m:fC,X:mC,S:pC,M:gC};function lC(){var s=bs.f(),r=wc();return s||r}function cC(s){var r=jr(s);r!==null&&r.tag===5&&r.type==="form"?e0(r):bs.r(s)}var ea=typeof document>"u"?null:document;function Uy(s,r,a){var d=ea;if(d&&typeof r=="string"&&r){var m=gn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),zy.has(m)||(zy.add(m),s={rel:s,crossOrigin:a,href:r},d.querySelector(m)===null&&(r=d.createElement("link"),Ot(r,"link",s),Et(r),d.head.appendChild(r)))}}function uC(s){bs.D(s),Uy("dns-prefetch",s,null)}function dC(s,r){bs.C(s,r),Uy("preconnect",s,r)}function hC(s,r,a){bs.L(s,r,a);var d=ea;if(d&&s&&r){var m='link[rel="preload"][as="'+gn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+gn(a.imageSizes)+'"]')):m+='[href="'+gn(s)+'"]';var y=m;switch(r){case"style":y=ta(s);break;case"script":y=na(s)}En.has(y)||(s=x({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:s,as:r},a),En.set(y,s),d.querySelector(m)!==null||r==="style"&&d.querySelector(Eo(y))||r==="script"&&d.querySelector(_o(y))||(r=d.createElement("link"),Ot(r,"link",s),Et(r),d.head.appendChild(r)))}}function fC(s,r){bs.m(s,r);var a=ea;if(a&&s){var d=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+gn(d)+'"][href="'+gn(s)+'"]',y=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=na(s)}if(!En.has(y)&&(s=x({rel:"modulepreload",href:s},r),En.set(y,s),a.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_o(y)))return}d=a.createElement("link"),Ot(d,"link",s),Et(d),a.head.appendChild(d)}}}function pC(s,r,a){bs.S(s,r,a);var d=ea;if(d&&s){var m=Sr(d).hoistableStyles,y=ta(s);r=r||"default";var S=m.get(y);if(!S){var L={loading:0,preload:null};if(S=d.querySelector(Eo(y)))L.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":r},a),(a=En.get(y))&&pf(s,a);var D=S=d.createElement("link");Et(D),Ot(D,"link",s),D._p=new Promise(function(V,X){D.onload=V,D.onerror=X}),D.addEventListener("load",function(){L.loading|=1}),D.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Ac(S,r,d)}S={type:"stylesheet",instance:S,count:1,state:L},m.set(y,S)}}}function mC(s,r){bs.X(s,r);var a=ea;if(a&&s){var d=Sr(a).hoistableScripts,m=na(s),y=d.get(m);y||(y=a.querySelector(_o(m)),y||(s=x({src:s,async:!0},r),(r=En.get(m))&&mf(s,r),y=a.createElement("script"),Et(y),Ot(y,"link",s),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function gC(s,r){bs.M(s,r);var a=ea;if(a&&s){var d=Sr(a).hoistableScripts,m=na(s),y=d.get(m);y||(y=a.querySelector(_o(m)),y||(s=x({src:s,async:!0,type:"module"},r),(r=En.get(m))&&mf(s,r),y=a.createElement("script"),Et(y),Ot(y,"link",s),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function By(s,r,a,d){var m=(m=he.current)?Oc(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ta(a.href),a=Sr(m).hoistableStyles,d=a.get(r),d||(d={type:"style",instance:null,count:0,state:null},a.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){s=ta(a.href);var y=Sr(m).hoistableStyles,S=y.get(s);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,S),(y=m.querySelector(Eo(s)))&&!y._p&&(S.instance=y,S.state.loading=5),En.has(s)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},En.set(s,a),y||vC(m,s,a,S.state))),r&&d===null)throw Error(i(528,""));return S}if(r&&d!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=na(a),a=Sr(m).hoistableScripts,d=a.get(r),d||(d={type:"script",instance:null,count:0,state:null},a.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ta(s){return'href="'+gn(s)+'"'}function Eo(s){return'link[rel="stylesheet"]['+s+"]"}function Iy(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function vC(s,r,a,d){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=s.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),Ot(r,"link",a),Et(r),s.head.appendChild(r))}function na(s){return'[src="'+gn(s)+'"]'}function _o(s){return"script[async]"+s}function $y(s,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var d=s.querySelector('style[data-href~="'+gn(a.href)+'"]');if(d)return r.instance=d,Et(d),d;var m=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Et(d),Ot(d,"style",m),Ac(d,a.precedence,s),r.instance=d;case"stylesheet":m=ta(a.href);var y=s.querySelector(Eo(m));if(y)return r.state.loading|=4,r.instance=y,Et(y),y;d=Iy(a),(m=En.get(m))&&pf(d,m),y=(s.ownerDocument||s).createElement("link"),Et(y);var S=y;return S._p=new Promise(function(L,D){S.onload=L,S.onerror=D}),Ot(y,"link",d),r.state.loading|=4,Ac(y,a.precedence,s),r.instance=y;case"script":return y=na(a.src),(m=s.querySelector(_o(y)))?(r.instance=m,Et(m),m):(d=a,(m=En.get(y))&&(d=x({},a),mf(d,m)),s=s.ownerDocument||s,m=s.createElement("script"),Et(m),Ot(m,"link",d),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,Ac(d,a.precedence,s));return r.instance}function Ac(s,r,a){for(var d=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,y=m,S=0;S<d.length;S++){var L=d[S];if(L.dataset.precedence===r)y=L;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(s,r.firstChild))}function pf(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function mf(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Rc=null;function Vy(s,r,a){if(Rc===null){var d=new Map,m=Rc=new Map;m.set(a,d)}else m=Rc,d=m.get(a),d||(d=new Map,m.set(a,d));if(d.has(s))return d;for(d.set(s,null),a=a.getElementsByTagName(s),m=0;m<a.length;m++){var y=a[m];if(!(y[Ia]||y[Ct]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(r)||"";S=s+S;var L=d.get(S);L?L.push(y):d.set(S,[y])}}return d}function Hy(s,r,a){s=s.ownerDocument||s,s.head.insertBefore(a,r==="title"?s.querySelector("head > title"):null)}function yC(s,r,a){if(a===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function qy(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function xC(s,r,a,d){if(a.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=ta(d.href),y=r.querySelector(Eo(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=kc.bind(s),r.then(s,s)),a.state.loading|=4,a.instance=y,Et(y);return}y=r.ownerDocument||r,d=Iy(d),(m=En.get(m))&&pf(d,m),y=y.createElement("link"),Et(y);var S=y;S._p=new Promise(function(L,D){S.onload=L,S.onerror=D}),Ot(y,"link",d),a.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(s.count++,a=kc.bind(s),r.addEventListener("load",a),r.addEventListener("error",a))}}var gf=0;function bC(s,r){return s.stylesheets&&s.count===0&&Dc(s,s.stylesheets),0<s.count||0<s.imgCount?function(a){var d=setTimeout(function(){if(s.stylesheets&&Dc(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&gf===0&&(gf=62500*eC());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Dc(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>gf?50:800)+r);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(m)}}:null}function kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Mc=null;function Dc(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Mc=new Map,r.forEach(wC,s),Mc=null,kc.call(s))}function wC(s,r){if(!(r.state.loading&4)){var a=Mc.get(s);if(a)var d=a.get(null);else{a=new Map,Mc.set(s,a);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),d=S)}d&&a.set(null,d)}m=r.instance,S=m.getAttribute("data-precedence"),y=a.get(S)||d,y===d&&a.set(null,m),a.set(S,m),this.count++,d=kc.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var Co={$$typeof:T,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function jC(s,r,a,d,m,y,S,L,D){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Fy(s,r,a,d,m,y,S,L,D,V,X,te){return s=new jC(s,r,a,S,D,V,X,te,L),r=1,y===!0&&(r|=24),y=tn(3,null,null,r),s.current=y,y.stateNode=s,r=Kd(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:d,isDehydrated:a,cache:r},Jd(y),s}function Gy(s){return s?(s=kr,s):kr}function Wy(s,r,a,d,m,y){m=Gy(m),d.context===null?d.context=m:d.pendingContext=m,d=Bs(r),d.payload={element:a},y=y===void 0?null:y,y!==null&&(d.callback=y),a=Is(s,d,r),a!==null&&(Yt(a,s,r),so(a,s,r))}function Ky(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<r?a:r}}function vf(s,r){Ky(s,r),(s=s.alternate)&&Ky(s,r)}function Yy(s){if(s.tag===13||s.tag===31){var r=Ai(s,67108864);r!==null&&Yt(r,s,67108864),vf(s,67108864)}}function Zy(s){if(s.tag===13||s.tag===31){var r=on();r=dd(r);var a=Ai(s,r);a!==null&&Yt(a,s,r),vf(s,r)}}var Pc=!0;function SC(s,r,a,d){var m=z.T;z.T=null;var y=Y.p;try{Y.p=2,yf(s,r,a,d)}finally{Y.p=y,z.T=m}}function EC(s,r,a,d){var m=z.T;z.T=null;var y=Y.p;try{Y.p=8,yf(s,r,a,d)}finally{Y.p=y,z.T=m}}function yf(s,r,a,d){if(Pc){var m=xf(d);if(m===null)sf(s,r,d,zc,a),Jy(s,d);else if(CC(m,s,r,a,d))d.stopPropagation();else if(Jy(s,d),r&4&&-1<_C.indexOf(s)){for(;m!==null;){var y=jr(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=pn(y.pendingLanes);if(S!==0){var L=y;for(L.pendingLanes|=2,L.entangledLanes|=2;S;){var D=1<<31-Pt(S);L.entanglements[1]|=D,S&=~D}Yn(y),(Ve&6)===0&&(xc=Mt()+500,bo(0))}}break;case 31:case 13:L=Ai(y,2),L!==null&&Yt(L,y,2),wc(),vf(y,2)}if(y=xf(d),y===null&&sf(s,r,d,zc,a),y===m)break;m=y}m!==null&&d.stopPropagation()}else sf(s,r,d,null,a)}}function xf(s){return s=bd(s),bf(s)}var zc=null;function bf(s){if(zc=null,s=wr(s),s!==null){var r=c(s);if(r===null)s=null;else{var a=r.tag;if(a===13){if(s=u(r),s!==null)return s;s=null}else if(a===31){if(s=h(r),s!==null)return s;s=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return zc=s,null}function Xy(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tl()){case Ua:return 2;case yi:return 8;case xi:case mr:return 32;case Ba:return 268435456;default:return 32}default:return 32}}var wf=!1,Xs=null,Js=null,Qs=null,To=new Map,No=new Map,ei=[],_C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jy(s,r){switch(s){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":To.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(r.pointerId)}}function Lo(s,r,a,d,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:a,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},r!==null&&(r=jr(r),r!==null&&Yy(r)),s):(s.eventSystemFlags|=d,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function CC(s,r,a,d,m){switch(r){case"focusin":return Xs=Lo(Xs,s,r,a,d,m),!0;case"dragenter":return Js=Lo(Js,s,r,a,d,m),!0;case"mouseover":return Qs=Lo(Qs,s,r,a,d,m),!0;case"pointerover":var y=m.pointerId;return To.set(y,Lo(To.get(y)||null,s,r,a,d,m)),!0;case"gotpointercapture":return y=m.pointerId,No.set(y,Lo(No.get(y)||null,s,r,a,d,m)),!0}return!1}function Qy(s){var r=wr(s.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){s.blockedOn=r,fg(s.priority,function(){Zy(a)});return}}else if(r===31){if(r=h(a),r!==null){s.blockedOn=r,fg(s.priority,function(){Zy(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Uc(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var a=xf(s.nativeEvent);if(a===null){a=s.nativeEvent;var d=new a.constructor(a.type,a);xd=d,a.target.dispatchEvent(d),xd=null}else return r=jr(a),r!==null&&Yy(r),s.blockedOn=a,!1;r.shift()}return!0}function ex(s,r,a){Uc(s)&&a.delete(r)}function TC(){wf=!1,Xs!==null&&Uc(Xs)&&(Xs=null),Js!==null&&Uc(Js)&&(Js=null),Qs!==null&&Uc(Qs)&&(Qs=null),To.forEach(ex),No.forEach(ex)}function Bc(s,r){s.blockedOn===r&&(s.blockedOn=null,wf||(wf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TC)))}var Ic=null;function tx(s){Ic!==s&&(Ic=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ic===s&&(Ic=null);for(var r=0;r<s.length;r+=3){var a=s[r],d=s[r+1],m=s[r+2];if(typeof d!="function"){if(bf(d||a)===null)continue;break}var y=jr(a);y!==null&&(s.splice(r,3),r-=3,yh(y,{pending:!0,data:m,method:a.method,action:d},d,m))}}))}function sa(s){function r(D){return Bc(D,s)}Xs!==null&&Bc(Xs,s),Js!==null&&Bc(Js,s),Qs!==null&&Bc(Qs,s),To.forEach(r),No.forEach(r);for(var a=0;a<ei.length;a++){var d=ei[a];d.blockedOn===s&&(d.blockedOn=null)}for(;0<ei.length&&(a=ei[0],a.blockedOn===null);)Qy(a),a.blockedOn===null&&ei.shift();if(a=(s.ownerDocument||s).$$reactFormReplay,a!=null)for(d=0;d<a.length;d+=3){var m=a[d],y=a[d+1],S=m[Ht]||null;if(typeof y=="function")S||tx(a);else if(S){var L=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[Ht]||null)L=S.formAction;else if(bf(m)!==null)continue}else L=S.action;typeof L=="function"?a[d+1]=L:(a.splice(d,3),d-=3),tx(a)}}}function nx(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return m=S})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),d||setTimeout(a,20)}function a(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function jf(s){this._internalRoot=s}$c.prototype.render=jf.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,d=on();Wy(a,d,s,r,null,null)},$c.prototype.unmount=jf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Wy(s.current,2,null,s,null,null),wc(),r[br]=null}};function $c(s){this._internalRoot=s}$c.prototype.unstable_scheduleHydration=function(s){if(s){var r=hg();s={blockedOn:null,target:s,priority:r};for(var a=0;a<ei.length&&r!==0&&r<ei[a].priority;a++);ei.splice(a,0,s),a===0&&Qy(s)}};var sx=e.version;if(sx!=="19.2.4")throw Error(i(527,sx,"19.2.4"));Y.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var NC={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{qn=Vc.inject(NC),Dt=Vc}catch{}}return Ao.createRoot=function(s,r){if(!o(s))throw Error(i(299));var a=!1,d="",m=u0,y=d0,S=h0;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError)),r=Fy(s,1,!1,null,null,a,d,null,m,y,S,nx),s[br]=r.current,nf(s),new jf(r)},Ao.hydrateRoot=function(s,r,a){if(!o(s))throw Error(i(299));var d=!1,m="",y=u0,S=d0,L=h0,D=null;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),r=Fy(s,1,!0,r,a??null,d,m,D,y,S,L,nx),r.context=Gy(null),a=r.current,d=on(),d=dd(d),m=Bs(d),m.callback=null,Is(a,m,d),a=d,r.current.lanes=a,_i(r,a),Yn(r),s[br]=r.current,nf(s),new $c(r)},Ao.version="19.2.4",Ao}var px;function BC(){if(px)return _f.exports;px=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_f.exports=UC(),_f.exports}var IC=BC();var mx="popstate";function $C(t={}){function e(i,o){let{pathname:c,search:u,hash:h}=i.location;return mp("",{pathname:c,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Qo(o)}return HC(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VC(){return Math.random().toString(36).substring(2,10)}function gx(t,e){return{usr:t.state,key:t.key,idx:e}}function mp(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ca(e):e,state:n,key:e&&e.key||i||VC()}}function Qo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ca(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function HC(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,u=o.history,h="POP",f=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function x(){h="POP";let E=v(),C=E==null?null:E-p;p=E,f&&f({action:h,location:_.location,delta:C})}function b(E,C){h="PUSH";let N=mp(_.location,E,C);p=v()+1;let T=gx(N,p),k=_.createHref(N);try{u.pushState(T,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;o.location.assign(k)}c&&f&&f({action:h,location:_.location,delta:1})}function w(E,C){h="REPLACE";let N=mp(_.location,E,C);p=v();let T=gx(N,p),k=_.createHref(N);u.replaceState(T,"",k),c&&f&&f({action:h,location:_.location,delta:0})}function j(E){return qC(E)}let _={get action(){return h},get location(){return t(o,u)},listen(E){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(mx,x),f=E,()=>{o.removeEventListener(mx,x),f=null}},createHref(E){return e(o,E)},createURL:j,encodeLocation(E){let C=j(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:w,go(E){return u.go(E)}};return _}function qC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Qo(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function ej(t,e,n="/"){return FC(t,e,n,!1)}function FC(t,e,n,i){let o=typeof e=="string"?Ca(e):e,c=_s(o.pathname||"/",n);if(c==null)return null;let u=tj(t);GC(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=s4(c);h=t4(u[f],p,i)}return h}function tj(t,e=[],n=[],i="",o=!1){let c=(u,h,f=o,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&f)return;rt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let x=Ss([i,v.relativePath]),b=n.concat(v);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),tj(u.children,e,b,x,f)),!(u.path==null&&!u.index)&&e.push({path:x,score:QC(x,u.index),routesMeta:b})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))c(u,h);else for(let f of nj(u.path))c(u,h,!0,f)}),e}function nj(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let u=nj(i.join("/")),h=[];return h.push(...u.map(f=>f===""?c:[c,f].join("/"))),o&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function GC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:e4(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var WC=/^:[\w-]+$/,KC=3,YC=2,ZC=1,XC=10,JC=-2,vx=t=>t==="*";function QC(t,e){let n=t.split("/"),i=n.length;return n.some(vx)&&(i+=JC),e&&(i+=YC),n.filter(o=>!vx(o)).reduce((o,c)=>o+(WC.test(c)?KC:c===""?ZC:XC),i)}function e4(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function t4(t,e,n=!1){let{routesMeta:i}=t,o={},c="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],p=h===i.length-1,v=c==="/"?e:e.slice(c.length)||"/",x=gu({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),b=f.route;if(!x&&p&&n&&!i[i.length-1].route.index&&(x=gu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!x)return null;Object.assign(o,x.params),u.push({params:o,pathname:Ss([c,x.pathname]),pathnameBase:o4(Ss([c,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(c=Ss([c,x.pathnameBase]))}return u}function gu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=n4(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:x},b)=>{if(v==="*"){let j=h[b]||"";u=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const w=h[b];return x&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:u,pattern:t}}function n4(t,e=!1,n=!0){Vn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function s4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function _s(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var i4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function r4(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Ca(t):t,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=yx(n.substring(1),"/"):c=yx(n,e)):c=e,{pathname:c,search:l4(i),hash:c4(o)}}function yx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Lf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function a4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function um(t){let e=a4(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function dm(t,e,n,i=!1){let o;typeof t=="string"?o=Ca(t):(o={...t},rt(!o.pathname||!o.pathname.includes("?"),Lf("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),Lf("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),Lf("#","search","hash",o)));let c=t===""||o.pathname==="",u=c?"/":o.pathname,h;if(u==null)h=n;else{let x=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;o.pathname=b.join("/")}h=x>=0?e[x]:"/"}let f=r4(o,h),p=u&&u!=="/"&&u.endsWith("/"),v=(c||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var Ss=t=>t.join("/").replace(/\/\/+/g,"/"),o4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),l4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,c4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,u4=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function d4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function h4(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var sj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ij(t,e){let n=t;if(typeof n!="string"||!i4.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(sj)try{let c=new URL(window.location.href),u=n.startsWith("//")?new URL(c.protocol+n):new URL(n),h=_s(u.pathname,e);u.origin===c.origin&&h!=null?n=h+u.search+u.hash:o=!0}catch{Vn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rj=["POST","PUT","PATCH","DELETE"];new Set(rj);var f4=["GET",...rj];new Set(f4);var Ta=g.createContext(null);Ta.displayName="DataRouter";var qu=g.createContext(null);qu.displayName="DataRouterState";var p4=g.createContext(!1),aj=g.createContext({isTransitioning:!1});aj.displayName="ViewTransition";var m4=g.createContext(new Map);m4.displayName="Fetchers";var g4=g.createContext(null);g4.displayName="Await";var hn=g.createContext(null);hn.displayName="Navigation";var gl=g.createContext(null);gl.displayName="Location";var Hn=g.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var hm=g.createContext(null);hm.displayName="RouteError";var oj="REACT_ROUTER_ERROR",v4="REDIRECT",y4="ROUTE_ERROR_RESPONSE";function x4(t){if(t.startsWith(`${oj}:${v4}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function b4(t){if(t.startsWith(`${oj}:${y4}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new u4(e.status,e.statusText,e.data)}catch{}}function w4(t,{relative:e}={}){rt(Na(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=g.useContext(hn),{hash:o,pathname:c,search:u}=vl(t,{relative:e}),h=c;return n!=="/"&&(h=c==="/"?n:Ss([n,c])),i.createHref({pathname:h,search:u,hash:o})}function Na(){return g.useContext(gl)!=null}function gi(){return rt(Na(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(gl).location}var lj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cj(t){g.useContext(hn).static||g.useLayoutEffect(t)}function Ze(){let{isDataRoute:t}=g.useContext(Hn);return t?M4():j4()}function j4(){rt(Na(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(Ta),{basename:e,navigator:n}=g.useContext(hn),{matches:i}=g.useContext(Hn),{pathname:o}=gi(),c=JSON.stringify(um(i)),u=g.useRef(!1);return cj(()=>{u.current=!0}),g.useCallback((f,p={})=>{if(Vn(u.current,lj),!u.current)return;if(typeof f=="number"){n.go(f);return}let v=dm(f,JSON.parse(c),o,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ss([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,c,o,t])}g.createContext(null);function La(){let{matches:t}=g.useContext(Hn),e=t[t.length-1];return e?e.params:{}}function vl(t,{relative:e}={}){let{matches:n}=g.useContext(Hn),{pathname:i}=gi(),o=JSON.stringify(um(n));return g.useMemo(()=>dm(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function S4(t,e){return uj(t,e)}function uj(t,e,n,i,o){rt(Na(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=g.useContext(hn),{matches:u}=g.useContext(Hn),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",x=h&&h.route;{let N=x&&x.path||"";hj(p,!x||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let b=gi(),w;if(e){let N=typeof e=="string"?Ca(e):e;rt(v==="/"||N.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${N.pathname}" was given in the \`location\` prop.`),w=N}else w=b;let j=w.pathname||"/",_=j;if(v!=="/"){let N=v.replace(/^\//,"").split("/");_="/"+j.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=ej(t,{pathname:_});Vn(x||E!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Vn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=N4(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:Ss([v,c.encodeLocation?c.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?v:Ss([v,c.encodeLocation?c.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),u,n,i,o);return e&&C?g.createElement(gl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},C):C}function E4(){let t=k4(),e=d4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:c},"ErrorBoundary")," or"," ",g.createElement("code",{style:c},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:o},n):null,u)}var _4=g.createElement(E4,null),dj=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=b4(t.digest);n&&(t=n)}let e=t!==void 0?g.createElement(Hn.Provider,{value:this.props.routeContext},g.createElement(hm.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?g.createElement(C4,{error:t},e):e}};dj.contextType=p4;var Of=new WeakMap;function C4({children:t,error:e}){let{basename:n}=g.useContext(hn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=x4(e.digest);if(i){let o=Of.get(e);if(o)throw o;let c=ij(i.location,n);if(sj&&!Of.get(e))if(c.isExternal||i.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:i.replace}));throw Of.set(e,u),u}return g.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return t}function T4({routeContext:t,match:e,children:n}){let i=g.useContext(Ta);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),g.createElement(Hn.Provider,{value:t},n)}function N4(t,e=[],n=null,i=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=n?.errors;if(u!=null){let v=c.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);rt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let h=!1,f=-1;if(n)for(let v=0;v<c.length;v++){let x=c[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=v),x.route.id){let{loaderData:b,errors:w}=n,j=x.route.loader&&!b.hasOwnProperty(x.route.id)&&(!w||w[x.route.id]===void 0);if(x.route.lazy||j){h=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}let p=n&&i?(v,x)=>{i(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:h4(n.matches),errorInfo:x})}:void 0;return c.reduceRight((v,x,b)=>{let w,j=!1,_=null,E=null;n&&(w=u&&x.route.id?u[x.route.id]:void 0,_=x.route.errorElement||_4,h&&(f<0&&b===0?(hj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,E=null):f===b&&(j=!0,E=x.route.hydrateFallbackElement||null)));let C=e.concat(c.slice(0,b+1)),N=()=>{let T;return w?T=_:j?T=E:x.route.Component?T=g.createElement(x.route.Component,null):x.route.element?T=x.route.element:T=v,g.createElement(T4,{match:x,routeContext:{outlet:v,matches:C,isDataRoute:n!=null},children:T})};return n&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?g.createElement(dj,{location:n.location,revalidation:n.revalidation,component:_,error:w,children:N(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:p}):N()},null)}function fm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L4(t){let e=g.useContext(Ta);return rt(e,fm(t)),e}function O4(t){let e=g.useContext(qu);return rt(e,fm(t)),e}function A4(t){let e=g.useContext(Hn);return rt(e,fm(t)),e}function pm(t){let e=A4(t),n=e.matches[e.matches.length-1];return rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function R4(){return pm("useRouteId")}function k4(){let t=g.useContext(hm),e=O4("useRouteError"),n=pm("useRouteError");return t!==void 0?t:e.errors?.[n]}function M4(){let{router:t}=L4("useNavigate"),e=pm("useNavigate"),n=g.useRef(!1);return cj(()=>{n.current=!0}),g.useCallback(async(o,c={})=>{Vn(n.current,lj),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...c}))},[t,e])}var xx={};function hj(t,e,n){!e&&!xx[t]&&(xx[t]=!0,Vn(!1,n))}g.memo(D4);function D4({routes:t,future:e,state:n,onError:i}){return uj(t,void 0,n,i,e)}function cn({to:t,replace:e,state:n,relative:i}){rt(Na(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=g.useContext(hn);Vn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=g.useContext(Hn),{pathname:u}=gi(),h=Ze(),f=dm(t,um(c),u,i==="path"),p=JSON.stringify(f);return g.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:i})},[h,p,i,e,n]),null}function st(t){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P4({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){rt(!Na(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),f=g.useMemo(()=>({basename:h,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[h,o,c,u]);typeof n=="string"&&(n=Ca(n));let{pathname:p="/",search:v="",hash:x="",state:b=null,key:w="default"}=n,j=g.useMemo(()=>{let _=_s(p,h);return _==null?null:{location:{pathname:_,search:v,hash:x,state:b,key:w},navigationType:i}},[h,p,v,x,b,w,i]);return Vn(j!=null,`<Router basename="${h}"> is not able to match the URL "${p}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:g.createElement(hn.Provider,{value:f},g.createElement(gl.Provider,{children:e,value:j}))}function z4({children:t,location:e}){return S4(gp(t),e)}function gp(t,e=[]){let n=[];return g.Children.forEach(t,(i,o)=>{if(!g.isValidElement(i))return;let c=[...e,o];if(i.type===g.Fragment){n.push.apply(n,gp(i.props.children,c));return}rt(i.type===st,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=gp(i.props.children,c)),n.push(u)}),n}var ru="get",au="application/x-www-form-urlencoded";function Fu(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function U4(t){return Fu(t)&&t.tagName.toLowerCase()==="button"}function B4(t){return Fu(t)&&t.tagName.toLowerCase()==="form"}function I4(t){return Fu(t)&&t.tagName.toLowerCase()==="input"}function $4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function V4(t,e){return t.button===0&&(!e||e==="_self")&&!$4(t)}var Hc=null;function H4(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}var q4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Af(t){return t!=null&&!q4.has(t)?(Vn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${au}"`),null):t}function F4(t,e){let n,i,o,c,u;if(B4(t)){let h=t.getAttribute("action");i=h?_s(h,e):null,n=t.getAttribute("method")||ru,o=Af(t.getAttribute("enctype"))||au,c=new FormData(t)}else if(U4(t)||I4(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?_s(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||ru,o=Af(t.getAttribute("formenctype"))||Af(h.getAttribute("enctype"))||au,c=new FormData(h,t),!H4()){let{name:p,type:v,value:x}=t;if(v==="image"){let b=p?`${p}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else p&&c.append(p,x)}}else{if(Fu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ru,i=null,o=au,u=t}return c&&o==="text/plain"&&(u=c,c=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function G4(t,e,n,i){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&_s(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function W4(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Y4(t,e,n){let i=await Promise.all(t.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await W4(c,n);return u.links?u.links():[]}return[]}));return Q4(i.flat(1).filter(K4).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bx(t,e,n,i,o,c){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return c==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):c==="data"?e.filter((f,p)=>{let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Z4(t,e,{includeHydrateFallback:n}={}){return X4(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function X4(t){return[...new Set(t)]}function J4(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Q4(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let c=JSON.stringify(J4(o));return n.has(c)||(n.add(c),i.push({key:c,link:o})),i},[])}function fj(){let t=g.useContext(Ta);return mm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function eT(){let t=g.useContext(qu);return mm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var gm=g.createContext(void 0);gm.displayName="FrameworkContext";function pj(){let t=g.useContext(gm);return mm(t,"You must render this element inside a <HydratedRouter> element"),t}function tT(t,e){let n=g.useContext(gm),[i,o]=g.useState(!1),[c,u]=g.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=e,b=g.useRef(null);g.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let _=C=>{C.forEach(N=>{u(N.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return b.current&&E.observe(b.current),()=>{E.disconnect()}}},[t]),g.useEffect(()=>{if(i){let _=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(_)}}},[i]);let w=()=>{o(!0)},j=()=>{o(!1),u(!1)};return n?t!=="intent"?[c,b,{}]:[c,b,{onFocus:Ro(h,w),onBlur:Ro(f,j),onMouseEnter:Ro(p,w),onMouseLeave:Ro(v,j),onTouchStart:Ro(x,w)}]:[!1,b,{}]}function Ro(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function nT({page:t,...e}){let{router:n}=fj(),i=g.useMemo(()=>ej(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?g.createElement(iT,{page:t,matches:i,...e}):null}function sT(t){let{manifest:e,routeModules:n}=pj(),[i,o]=g.useState([]);return g.useEffect(()=>{let c=!1;return Y4(t,e,n).then(u=>{c||o(u)}),()=>{c=!0}},[t,e,n]),i}function iT({page:t,matches:e,...n}){let i=gi(),{future:o,manifest:c,routeModules:u}=pj(),{basename:h}=fj(),{loaderData:f,matches:p}=eT(),v=g.useMemo(()=>bx(t,e,p,c,i,"data"),[t,e,p,c,i]),x=g.useMemo(()=>bx(t,e,p,c,i,"assets"),[t,e,p,c,i]),b=g.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let _=new Set,E=!1;if(e.forEach(N=>{let T=c.routes[N.route.id];!T||!T.hasLoader||(!v.some(k=>k.route.id===N.route.id)&&N.route.id in f&&u[N.route.id]?.shouldRevalidate||T.hasClientLoader?E=!0:_.add(N.route.id))}),_.size===0)return[];let C=G4(t,h,o.unstable_trailingSlashAwareDataRequests,"data");return E&&_.size>0&&C.searchParams.set("_routes",e.filter(N=>_.has(N.route.id)).map(N=>N.route.id).join(",")),[C.pathname+C.search]},[h,o.unstable_trailingSlashAwareDataRequests,f,i,c,v,e,t,u]),w=g.useMemo(()=>Z4(x,c),[x,c]),j=sT(x);return g.createElement(g.Fragment,null,b.map(_=>g.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),w.map(_=>g.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),j.map(({key:_,link:E})=>g.createElement("link",{key:_,nonce:n.nonce,...E,crossOrigin:E.crossOrigin??n.crossOrigin})))}function rT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aT&&(window.__reactRouterVersion="7.13.0")}catch{}function oT({basename:t,children:e,unstable_useTransitions:n,window:i}){let o=g.useRef();o.current==null&&(o.current=$C({window:i,v5Compat:!0}));let c=o.current,[u,h]=g.useState({action:c.action,location:c.location}),f=g.useCallback(p=>{n===!1?h(p):g.startTransition(()=>h(p))},[n]);return g.useLayoutEffect(()=>c.listen(f),[c,f]),g.createElement(P4,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:n})}var mj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gj=g.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:c,replace:u,state:h,target:f,to:p,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:b,...w},j){let{basename:_,unstable_useTransitions:E}=g.useContext(hn),C=typeof p=="string"&&mj.test(p),N=ij(p,_);p=N.to;let T=w4(p,{relative:o}),[k,A,O]=tT(i,w),R=dT(p,{replace:u,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:x,unstable_defaultShouldRevalidate:b,unstable_useTransitions:E});function I(G){e&&e(G),G.defaultPrevented||R(G)}let P=g.createElement("a",{...w,...O,href:N.absoluteURL||T,onClick:N.isExternal||c?e:I,ref:rT(j,A),target:f,"data-discover":!C&&n==="render"?"true":void 0});return k&&!C?g.createElement(g.Fragment,null,P,g.createElement(nT,{page:T})):P});gj.displayName="Link";var lT=g.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:c,to:u,viewTransition:h,children:f,...p},v){let x=vl(u,{relative:p.relative}),b=gi(),w=g.useContext(qu),{navigator:j,basename:_}=g.useContext(hn),E=w!=null&&gT(x)&&h===!0,C=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,N=b.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(N=N.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&_&&(T=_s(T,_)||T);const k=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let A=N===C||!o&&N.startsWith(C)&&N.charAt(k)==="/",O=T!=null&&(T===C||!o&&T.startsWith(C)&&T.charAt(C.length)==="/"),R={isActive:A,isPending:O,isTransitioning:E},I=A?e:void 0,P;typeof i=="function"?P=i(R):P=[i,A?"active":null,O?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let G=typeof c=="function"?c(R):c;return g.createElement(gj,{...p,"aria-current":I,className:P,ref:v,style:G,to:u,viewTransition:h},typeof f=="function"?f(R):f)});lT.displayName="NavLink";var cT=g.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:c,method:u=ru,action:h,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:b,...w},j)=>{let{unstable_useTransitions:_}=g.useContext(hn),E=pT(),C=mT(h,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",T=typeof h=="string"&&mj.test(h),k=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let O=A.nativeEvent.submitter,R=O?.getAttribute("formmethod")||u,I=()=>E(O||A.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:c,relative:p,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:b});_&&n!==!1?g.startTransition(()=>I()):I()};return g.createElement("form",{ref:j,method:N,action:C,onSubmit:i?f:k,...w,"data-discover":!T&&t==="render"?"true":void 0})});cT.displayName="Form";function uT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vj(t){let e=g.useContext(Ta);return rt(e,uT(t)),e}function dT(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let p=Ze(),v=gi(),x=vl(t,{relative:c});return g.useCallback(b=>{if(V4(b,e)){b.preventDefault();let w=n!==void 0?n:Qo(v)===Qo(x),j=()=>p(t,{replace:w,state:i,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:h});f?g.startTransition(()=>j()):j()}},[v,p,x,n,i,e,t,o,c,u,h,f])}var hT=0,fT=()=>`__${String(++hT)}__`;function pT(){let{router:t}=vj("useSubmit"),{basename:e}=g.useContext(hn),n=R4(),i=t.fetch,o=t.navigate;return g.useCallback(async(c,u={})=>{let{action:h,method:f,encType:p,formData:v,body:x}=F4(c,e);if(u.navigate===!1){let b=u.fetcherKey||fT();await i(b,n,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:x,formMethod:u.method||f,formEncType:u.encType||p,flushSync:u.flushSync})}else await o(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:x,formMethod:u.method||f,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,o,e,n])}function mT(t,{relative:e}={}){let{basename:n}=g.useContext(hn),i=g.useContext(Hn);rt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...vl(t||".",{relative:e})},u=gi();if(t==null){c.search=u.search;let h=new URLSearchParams(c.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(x=>x).forEach(x=>h.append("index",x));let v=h.toString();c.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Ss([n,c.pathname])),Qo(c)}function gT(t,{relative:e}={}){let n=g.useContext(aj);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=vj("useViewTransitionState"),o=vl(t,{relative:e});if(!n.isTransitioning)return!1;let c=_s(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=_s(n.nextLocation.pathname,i)||n.nextLocation.pathname;return gu(o.pathname,u)!=null||gu(o.pathname,c)!=null}var cr=Qw();const yj=g.createContext(void 0),vT=()=>{const t=g.useContext(yj);if(!t)throw new Error("useTheme debe usarse dentro de ThemeProvider");return t},yT=({children:t})=>{const[e,n]=g.useState(()=>{const o=localStorage.getItem("theme");return o?o==="dark":!0});g.useEffect(()=>{localStorage.setItem("theme",e?"dark":"light"),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const i=()=>n(!e);return l.jsx(yj.Provider,{value:{isDark:e,toggleTheme:i},children:t})},xj=g.createContext(void 0),ot=()=>{const t=g.useContext(xj);if(!t)throw new Error("useAuth debe usarse dentro de AuthProvider");return t},xT=({children:t})=>{const[e,n]=g.useState(()=>{const c=localStorage.getItem("usuario");return c?JSON.parse(c):null}),i=()=>{n(null),localStorage.removeItem("usuario")},o=c=>{n(c),c?localStorage.setItem("usuario",JSON.stringify(c)):localStorage.removeItem("usuario")};return l.jsx(xj.Provider,{value:{usuario:e,setUsuario:o,logout:i},children:t})};function kn({children:t,allowedRoles:e}){const{usuario:n}=ot();if(!n)return l.jsx(cn,{to:"/",replace:!0});if(!e.includes(n.tipo_usuario))switch(n.tipo_usuario){case"repartidor":return l.jsx(cn,{to:"/repartidor/dashboard",replace:!0});case"restaurante":return l.jsx(cn,{to:"/restaurante/dashboard",replace:!0});case"operador":return l.jsx(cn,{to:"/operador/dashboard",replace:!0});case"admin":return l.jsx(cn,{to:"/admin/dashboard",replace:!0});default:return l.jsx(cn,{to:"/home",replace:!0})}return l.jsx(l.Fragment,{children:t})}function Gu(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function bT(t,e,n,i){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(v){try{p(i.next(v))}catch(x){u(x)}}function f(v){try{p(i.throw(v))}catch(x){u(x)}}function p(v){v.done?c(v.value):o(v.value).then(h,f)}p((i=i.apply(t,e||[])).next())})}const wT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class vm extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class jT extends vm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class wx extends vm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jx extends vm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(vp||(vp={}));class ST{constructor(e,{headers:n={},customFetch:i,region:o=vp.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=wT(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return bT(this,arguments,void 0,function*(n,i={}){var o;let c,u;try{const{headers:h,method:f,body:p,signal:v,timeout:x}=i;let b={},{region:w}=i;w||(w=this.region);const j=new URL(`${this.url}/${n}`);w&&w!=="any"&&(b["x-region"]=w,j.searchParams.set("forceFunctionRegion",w));let _;p&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",_=p):typeof p=="string"?(b["Content-Type"]="text/plain",_=p):typeof FormData<"u"&&p instanceof FormData?_=p:(b["Content-Type"]="application/json",_=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?_=JSON.stringify(p):_=p;let E=v;x&&(u=new AbortController,c=setTimeout(()=>u.abort(),x),v?(E=u.signal,v.addEventListener("abort",()=>u.abort())):E=u.signal);const C=yield this.fetch(j.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),h),body:_,signal:E}).catch(A=>{throw new jT(A)}),N=C.headers.get("x-relay-error");if(N&&N==="true")throw new wx(C);if(!C.ok)throw new jx(C);let T=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),k;return T==="application/json"?k=yield C.json():T==="application/octet-stream"||T==="application/pdf"?k=yield C.blob():T==="text/event-stream"?k=C:T==="multipart/form-data"?k=yield C.formData():k=yield C.text(),{data:k,error:null,response:C}}catch(h){return{data:null,error:h,response:h instanceof jx||h instanceof wx?h.context:void 0}}finally{c&&clearTimeout(c)}})}}var ET=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},_T=class{constructor(t){var e,n,i;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(i=t.urlLengthLimit)!==null&&i!==void 0?i:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let u=null,h=null,f=null,p=c.status,v=c.statusText;if(c.ok){var x,b;if(n.method!=="HEAD"){var w;const C=await c.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((w=n.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?h=C:h=JSON.parse(C))}const _=(x=n.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),E=(b=c.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");_&&E&&E.length>1&&(f=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,p=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var j;const _=await c.text();try{u=JSON.parse(_),Array.isArray(u)&&c.status===404&&(h=[],u=null,p=200,v="OK")}catch{c.status===404&&_===""?(p=204,v="No Content"):u={message:_}}if(u&&n.isMaybeSingle&&(!(u==null||(j=u.details)===null||j===void 0)&&j.includes("0 rows"))&&(u=null,p=200,v="OK"),u&&n.shouldThrowOnError)throw new ET(u)}return{error:u,data:h,count:f,status:p,statusText:v}});return this.shouldThrowOnError||(o=o.catch(c=>{var u;let h="",f="",p="";const v=c?.cause;if(v){var x,b,w,j;const C=(x=v?.message)!==null&&x!==void 0?x:"",N=(b=v?.code)!==null&&b!==void 0?b:"";h=`${(w=c?.name)!==null&&w!==void 0?w:"FetchError"}: ${c?.message}`,h+=`

Caused by: ${(j=v?.name)!==null&&j!==void 0?j:"Error"}: ${C}`,N&&(h+=` (${N})`),v?.stack&&(h+=`
${v.stack}`)}else{var _;h=(_=c?.stack)!==null&&_!==void 0?_:""}const E=this.url.toString().length;return c?.name==="AbortError"||c?.code==="ABORT_ERR"?(p="",f="Request was aborted (timeout or manual cancellation)",E>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${E} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(v?.name==="HeadersOverflowError"||v?.code==="UND_ERR_HEADERS_OVERFLOW")&&(p="",f="HTTP headers exceeded server limits (typically 16KB)",E>this.urlLengthLimit&&(f+=`. Your request URL is ${E} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:h,hint:f,code:p},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},CT=class extends _T{select(t){let e=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const c=o?`${o}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,c=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(c,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:c="text"}={}){var u;const h=[t?"analyze":null,e?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Sx=new RegExp("[,()]");var ua=class extends CT{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&Sx.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&Sx.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const c=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${c}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},TT=class{constructor(t,{headers:e={},schema:n,fetch:i,urlLengthLimit:o=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=i,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:i}=e??{},o=n?"HEAD":"GET";let c=!1;const u=(t??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join(""),{url:h,headers:f}=this.cloneRequestState();return h.searchParams.set("select",u),i&&f.append("Prefer",`count=${i}`),new ua({method:o,url:h,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var i;const o="POST",{url:c,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);c.searchParams.set("columns",f.join(","))}}return new ua({method:o,url:c,headers:u,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){var c;const u="POST",{url:h,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&h.searchParams.set("on_conflict",e),i&&f.append("Prefer",`count=${i}`),o||f.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(p.length>0){const v=[...new Set(p)].map(x=>`"${x}"`);h.searchParams.set("columns",v.join(","))}}return new ua({method:u,url:h,headers:f,schema:this.schema,body:t,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const i="PATCH",{url:o,headers:c}=this.cloneRequestState();return e&&c.append("Prefer",`count=${e}`),new ua({method:i,url:o,headers:c,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new ua({method:n,url:i,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function NT(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(el(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LT(t){var e=NT(t,"string");return el(e)=="symbol"?e:e+""}function OT(t,e,n){return(e=LT(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ex(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ex(Object(n),!0).forEach(function(i){OT(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ex(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var AT=class bj{constructor(e,{headers:n={},schema:i,fetch:o,timeout:c,urlLengthLimit:u=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=i,this.urlLengthLimit=u;const h=o??globalThis.fetch;c!==void 0&&c>0?this.fetch=(f,p)=>{const v=new AbortController,x=setTimeout(()=>v.abort(),c),b=p?.signal;if(b){if(b.aborted)return clearTimeout(x),h(f,p);const w=()=>{clearTimeout(x),v.abort()};return b.addEventListener("abort",w,{once:!0}),h(f,qc(qc({},p),{},{signal:v.signal})).finally(()=>{clearTimeout(x),b.removeEventListener("abort",w)})}return h(f,qc(qc({},p),{},{signal:v.signal})).finally(()=>clearTimeout(x))}:this.fetch=h}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new TT(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new bj(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:i=!1,get:o=!1,count:c}={}){var u;let h;const f=new URL(`${this.url}/rpc/${e}`);let p;const v=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(v)),x=i&&Object.values(n).some(v);x?(h="POST",p=n):i||o?(h=i?"HEAD":"GET",Object.entries(n).filter(([w,j])=>j!==void 0).map(([w,j])=>[w,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([w,j])=>{f.searchParams.append(w,j)})):(h="POST",p=n);const b=new Headers(this.headers);return x?b.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&b.set("Prefer",`count=${c}`),new ua({method:h,url:f,headers:b,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}};class RT{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const i=n.versions;if(i&&i.node){const o=i.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kT="2.95.3",MT=`realtime-js/${kT}`,DT="1.0.0",wj="2.0.0",_x=wj,yp=1e4,PT=1e3,zT=100;var ii;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ii||(ii={}));var wt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(wt||(wt={}));var Bn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Bn||(Bn={}));var xp;(function(t){t.websocket="websocket"})(xp||(xp={}));var Xi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xi||(Xi={}));class UT{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,i;const o=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,i;const o=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,i){var o,c;const u=e.topic,h=(o=e.ref)!==null&&o!==void 0?o:"",f=(c=e.join_ref)!==null&&c!==void 0?c:"",p=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(v).length===0?"":JSON.stringify(v);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+u.length+p.length+x.length,w=new ArrayBuffer(this.HEADER_LENGTH+b);let j=new DataView(w),_=0;j.setUint8(_++,this.KINDS.userBroadcastPush),j.setUint8(_++,f.length),j.setUint8(_++,h.length),j.setUint8(_++,u.length),j.setUint8(_++,p.length),j.setUint8(_++,x.length),j.setUint8(_++,n),Array.from(f,C=>j.setUint8(_++,C.charCodeAt(0))),Array.from(h,C=>j.setUint8(_++,C.charCodeAt(0))),Array.from(u,C=>j.setUint8(_++,C.charCodeAt(0))),Array.from(p,C=>j.setUint8(_++,C.charCodeAt(0))),Array.from(x,C=>j.setUint8(_++,C.charCodeAt(0)));var E=new Uint8Array(w.byteLength+i.byteLength);return E.set(new Uint8Array(w),0),E.set(new Uint8Array(i),w.byteLength),E.buffer}decode(e,n){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return n(i)}if(typeof e=="string"){const i=JSON.parse(e),[o,c,u,h,f]=i;return n({join_ref:o,ref:c,topic:u,event:h,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),i=n.getUint8(0),o=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,o)}_decodeUserBroadcast(e,n,i){const o=n.getUint8(1),c=n.getUint8(2),u=n.getUint8(3),h=n.getUint8(4);let f=this.HEADER_LENGTH+4;const p=i.decode(e.slice(f,f+o));f=f+o;const v=i.decode(e.slice(f,f+c));f=f+c;const x=i.decode(e.slice(f,f+u));f=f+u;const b=e.slice(f,e.byteLength),w=h===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,j={type:this.BROADCAST_EVENT,event:v,payload:w};return u>0&&(j.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>n.includes(i)))}}class jj{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Xe||(Xe={}));const Cx=(t,e,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((c,u)=>(c[u]=BT(u,t,e,o),c),{}):{}},BT=(t,e,n,i)=>{const o=e.find(h=>h.name===t),c=o?.type,u=n[t];return c&&!i.includes(c)?Sj(c,u):bp(u)},Sj=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return HT(e,n)}switch(t){case Xe.bool:return IT(e);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return $T(e);case Xe.json:case Xe.jsonb:return VT(e);case Xe.timestamp:return qT(e);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return bp(e);default:return bp(e)}},bp=t=>t,IT=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},$T=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},VT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},HT=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let c;const u=t.slice(1,n);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(h=>Sj(e,h))}return t},qT=t=>typeof t=="string"?t.replace(" ","T"):t,Ej=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Rf{constructor(e,n,i={},o=yp){this.channel=e,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Tx;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Tx||(Tx={}));class Ho{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ho.syncState(this.state,o,c,u),this.pendingDiffs.forEach(f=>{this.state=Ho.syncDiff(this.state,f,c,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ho.syncDiff(this.state,o,c,u),h())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,o){const c=this.cloneDeep(e),u=this.transformState(n),h={},f={};return this.map(c,(p,v)=>{u[p]||(f[p]=v)}),this.map(u,(p,v)=>{const x=c[p];if(x){const b=v.map(E=>E.presence_ref),w=x.map(E=>E.presence_ref),j=v.filter(E=>w.indexOf(E.presence_ref)<0),_=x.filter(E=>b.indexOf(E.presence_ref)<0);j.length>0&&(h[p]=j),_.length>0&&(f[p]=_)}else h[p]=v}),this.syncDiff(c,{joins:h,leaves:f},i,o)}static syncDiff(e,n,i,o){const{joins:c,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(c,(h,f)=>{var p;const v=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(f),v.length>0){const x=e[h].map(w=>w.presence_ref),b=v.filter(w=>x.indexOf(w.presence_ref)<0);e[h].unshift(...b)}i(h,v,f)}),this.map(u,(h,f)=>{let p=e[h];if(!p)return;const v=f.map(x=>x.presence_ref);p=p.filter(x=>v.indexOf(x.presence_ref)<0),e[h]=p,o(h,p,f),p.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const o=e[i];return"metas"in o?n[i]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[i]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nx;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Nx||(Nx={}));var qo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(qo||(qo={}));var ws;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ws||(ws={}));class pa{constructor(e,n={config:{}},i){var o,c;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Rf(this,Bn.join,this.params,this.timeout),this.rejoinTimer=new jj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bn.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Ho(this),this.broadcastEndpointURL=Ej(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==wt.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[qo.PRESENCE]&&this.bindings[qo.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,x={},b={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(ws.CHANNEL_ERROR,w)),this._onClose(()=>e?.(ws.CLOSED)),this.updateJoinPayload(Object.assign({config:b},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){e?.(ws.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,E=(j=_?.length)!==null&&j!==void 0?j:0,C=[];for(let N=0;N<E;N++){const T=_[N],{filter:{event:k,schema:A,table:O,filter:R}}=T,I=w&&w[N];if(I&&I.event===k&&pa.isFilterValueEqual(I.schema,A)&&pa.isFilterValueEqual(I.table,O)&&pa.isFilterValueEqual(I.filter,R))C.push(Object.assign(Object.assign({},T),{id:I.id}));else{this.unsubscribe(),this.state=wt.errored,e?.(ws.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(ws.SUBSCRIBED);return}}).receive("error",w=>{this.state=wt.errored,e?.(ws.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(ws.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===wt.joined&&e===qo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const p=await h.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:u}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,h,f;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=wt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Rf(this,Bn.leave,{},e),i.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wt.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const o=new AbortController,c=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(c),u}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Rf(this,e,n,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>zT){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var o,c;const u=e.toLocaleLowerCase(),{close:h,error:f,leave:p,join:v}=Bn;if(i&&[h,f,p,v].indexOf(u)>=0&&i!==this._joinRef())return;let b=this._onMessage(u,n,i);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var j,_,E;return((j=w.filter)===null||j===void 0?void 0:j.event)==="*"||((E=(_=w.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===u}).map(w=>w.callback(b,i)):(c=this.bindings[u])===null||c===void 0||c.filter(w=>{var j,_,E,C,N,T;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const k=w.id,A=(j=w.filter)===null||j===void 0?void 0:j.event;return k&&((_=n.ids)===null||_===void 0?void 0:_.includes(k))&&(A==="*"||A?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const k=(N=(C=w?.filter)===null||C===void 0?void 0:C.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return k==="*"||k===((T=n?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof b=="object"&&"ids"in b){const j=b.data,{schema:_,table:E,commit_timestamp:C,type:N,errors:T}=j;b=Object.assign(Object.assign({},{schema:_,table:E,commit_timestamp:C,eventType:N,new:{},old:{},errors:T}),this._getPayloadRecords(j))}w.callback(b,i)})}_isClosed(){return this.state===wt.closed}_isJoined(){return this.state===wt.joined}_isJoining(){return this.state===wt.joining}_isLeaving(){return this.state===wt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const o=e.toLocaleLowerCase(),c={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&pa.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Bn.close,{},e)}_onError(e){this._on(Bn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Cx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Cx(e.columns,e.old_record)),n}}const kf=()=>{},Fc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FT=[1e3,2e3,5e3,1e4],GT=1e4,WT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KT{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yp,this.transport=null,this.heartbeatIntervalMs=Fc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kf,this.ref=0,this.reconnectTimer=null,this.vsn=_x,this.logger=kf,this.conn=null,this.sendBuffer=[],this.serializer=new UT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${xp.websocket}`,this.httpEndpoint=Ej(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=RT.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return n==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ii.connecting:return Xi.Connecting;case ii.open:return Xi.Open;case ii.closing:return Xi.Closing;default:return Xi.Closed}}isConnected(){return this.connectionState()===Xi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(c=>c.topic===i);if(o)return o;{const c=new pa(`realtime:${e}`,n,this);return this.channels.push(c),c}}push(e){const{topic:n,event:i,payload:o,ref:c}=e,u=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${i} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(PT,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Fc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",p)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:o,payload:c,ref:u}=n,h=u?`(${u})`:"",f=c.status||"";this.log("receive",`${f} ${i} ${o} ${h}`.trim(),c),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,c,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ii.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ii.open||this.conn.readyState===ii.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Bn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${i}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([WT],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,i=!1;if(e)n=e,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const c={access_token:n,version:MT};n&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Bn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new jj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,o,c,u,h,f,p,v,x,b,w;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:yp,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Fc.HEARTBEAT_INTERVAL,this.worker=(c=e?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:kf,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:_x,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(j=>FT[j-1]||GT),this.vsn){case DT:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((j,_)=>_(JSON.stringify(j))),this.decode=(x=e?.decode)!==null&&x!==void 0?x:((j,_)=>_(JSON.parse(j)));break;case wj:this.encode=(b=e?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(w=e?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var tl=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function YT(t,e,n){const i=new URL(e,t);if(n)for(const[o,c]of Object.entries(n))c!==void 0&&i.searchParams.set(o,c);return i.toString()}async function ZT(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function XT(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:o,body:c,headers:u}){const h=YT(t.baseUrl,i,o),f=await ZT(t.auth),p=await e(h,{method:n,headers:{...c?{"Content-Type":"application/json"}:{},...f,...u},body:c?JSON.stringify(c):void 0}),v=await p.text(),x=(p.headers.get("content-type")||"").includes("application/json"),b=x&&v?JSON.parse(v):v;if(!p.ok){const w=x?b:void 0,j=w?.error;throw new tl(j?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:j?.type,icebergCode:j?.code,details:w})}return{status:p.status,headers:p.headers,data:b}}}}function Gc(t){return t.join("")}var JT=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Gc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gc(t.namespace)}`}),!0}catch(e){if(e instanceof tl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof tl&&n.status===409)return;throw n}}};function ia(t){return t.join("")}var QT=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ia(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ia(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ia(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ia(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ia(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ia(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof tl&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof tl&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},eN=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=XT({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new JT(this.client,e),this.tableOps=new QT(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Wu=class extends Error{constructor(t,e="storage",n,i){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=i}};function Ku(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Wc=class extends Wu{constructor(t,e,n,i="storage"){super(t,i,e,n),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_j=class extends Wu{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const tN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),nN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},wp=t=>{if(Array.isArray(t))return t.map(n=>wp(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[o]=wp(i)}),e},sN=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function iN(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(nl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rN(t){var e=iN(t,"string");return nl(e)=="symbol"?e:e+""}function aN(t,e,n){return(e=rN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lx(Object(n),!0).forEach(function(i){aN(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lx(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const Ox=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},oN=async(t,e,n,i)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const o=t,c=o.status||500;if(typeof o.json=="function")o.json().then(u=>{const h=u?.statusCode||u?.code||c+"";e(new Wc(Ox(u),c,h,i))}).catch(()=>{if(i==="vectors"){const u=c+"";e(new Wc(o.statusText||`HTTP ${c} error`,c,u,i))}else{const u=c+"";e(new Wc(o.statusText||`HTTP ${c} error`,c,u,i))}});else{const u=c+"";e(new Wc(o.statusText||`HTTP ${c} error`,c,u,i))}}else e(new _j(Ox(t),t,i))},lN=(t,e,n,i)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!i?je(je({},o),n):(nN(i)?(o.headers=je({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,e?.duplex&&(o.duplex=e.duplex),je(je({},o),n))};async function ko(t,e,n,i,o,c,u){return new Promise((h,f)=>{t(n,lN(e,i,o,c)).then(p=>{if(!p.ok)throw p;if(i?.noResolveJson)return p;if(u==="vectors"){const v=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!v||!v.includes("application/json"))return{}}return p.json()}).then(p=>h(p)).catch(p=>oN(p,f,i,u))})}function Cj(t="storage"){return{get:async(e,n,i,o)=>ko(e,"GET",n,i,o,void 0,t),post:async(e,n,i,o,c)=>ko(e,"POST",n,o,c,i,t),put:async(e,n,i,o,c)=>ko(e,"PUT",n,o,c,i,t),head:async(e,n,i,o)=>ko(e,"HEAD",n,je(je({},i),{},{noResolveJson:!0}),o,void 0,t),remove:async(e,n,i,o,c)=>ko(e,"DELETE",n,o,c,i,t)}}const cN=Cj("storage"),{get:sl,post:Un,put:jp,head:uN,remove:ym}=cN,dn=Cj("vectors");var Oa=class{constructor(t,e={},n,i="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=tN(n),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ku(n))return{data:null,error:n};throw n}}},dN=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ku(e))return{data:null,error:e};throw e}}};let Tj;Tj=Symbol.toStringTag;var hN=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Tj]="BlobDownloadBuilder",this.promise=null}asStream(){return new dN(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ku(e))return{data:null,error:e};throw e}}};const fN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ax={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var pN=class extends Oa{constructor(t,e={},n,i){super(t,e,i,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,i){var o=this;return o.handleOperation(async()=>{let c;const u=je(je({},Ax),i);let h=je(je({},o.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),f&&c.append("metadata",o.encodeMetadata(f)),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.has("cacheControl")||c.append("cacheControl",u.cacheControl),f&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(f))):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(f))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!u.duplex&&(u.duplex="half")),i?.headers&&(h=je(je({},h),i.headers));const p=o._removeEmptyFolders(e),v=o._getFinalPath(p),x=await(t=="PUT"?jp:Un)(o.fetch,`${o.url}/object/${v}`,c,je({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{path:p,id:x.Id,fullPath:x.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,i){var o=this;const c=o._removeEmptyFolders(t),u=o._getFinalPath(c),h=new URL(o.url+`/object/upload/sign/${u}`);return h.searchParams.set("token",e),o.handleOperation(async()=>{let f;const p=je({upsert:Ax.upsert},i),v=je(je({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",p.cacheControl)):(f=n,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{path:c,fullPath:(await jp(o.fetch,h.toString(),f,{headers:v})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(t);const o=je({},n.headers);e?.upsert&&(o["x-upsert"]="true");const c=await Un(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(n.url+c.url),h=u.searchParams.get("token");if(!h)throw new Wu("No token returned by API");return{signedUrl:u.toString(),path:t,token:h}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var i=this;return i.handleOperation(async()=>await Un(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:i.headers}))}async copy(t,e,n){var i=this;return i.handleOperation(async()=>({path:(await Un(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(t,e,n){var i=this;return i.handleOperation(async()=>{let o=i._getFinalPath(t),c=await Un(i.fetch,`${i.url}/object/sign/${o}`,je({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:i.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${i.url}${c.signedURL}${u}`)}})}async createSignedUrls(t,e,n){var i=this;return i.handleOperation(async()=>{const o=await Un(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o.map(u=>je(je({},u),{},{signedUrl:u.signedURL?encodeURI(`${i.url}${u.signedURL}${c}`):null}))})}download(t,e,n){const i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),c=o?`?${o}`:"",u=this._getFinalPath(t),h=()=>sl(this.fetch,`${this.url}/${i}/${u}${c}`,{headers:this.headers,noResolveJson:!0},n);return new hN(h,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>wp(await sl(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await uN(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ku(i)&&i instanceof _j){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const n=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);const c=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&i.push(u);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${h}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await ym(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var i=this;return i.handleOperation(async()=>{const o=je(je(je({},fN),e),{},{prefix:t||""});return await Un(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const i=je({},t);return await Un(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const mN="2.95.3",yl={"X-Client-Info":`storage-js/${mN}`};var gN=class extends Oa{constructor(t,e={},n,i){const o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const c=o.href.replace(/\/$/,""),u=je(je({},yl),e);super(c,u,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await sl(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await sl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await Un(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await jp(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Un(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ym(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},vN=class extends Oa{constructor(t,e={},n){const i=t.replace(/\/$/,""),o=je(je({},yl),e);super(i,o,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Un(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const i=n.toString(),o=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return await sl(e.fetch,o,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ym(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!sN(t))throw new Wu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new eN({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(o,c){const u=o[c];return typeof u!="function"?u:async(...h)=>{try{return{data:await u.apply(o,h),error:null}}catch(f){if(i)throw f;return{data:null,error:f}}}}})}},yN=class extends Oa{constructor(t,e={},n){const i=t.replace(/\/$/,""),o=je(je({},yl),{},{"Content-Type":"application/json"},e);super(i,o,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await dn.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await dn.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await dn.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await dn.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},xN=class extends Oa{constructor(t,e={},n){const i=t.replace(/\/$/,""),o=je(je({},yl),{},{"Content-Type":"application/json"},e);super(i,o,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await dn.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await dn.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await dn.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await dn.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await dn.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},bN=class extends Oa{constructor(t,e={},n){const i=t.replace(/\/$/,""),o=je(je({},yl),{},{"Content-Type":"application/json"},e);super(i,o,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await dn.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await dn.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await dn.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await dn.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},wN=class extends bN{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new jN(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},jN=class extends yN{constructor(t,e,n,i){super(t,e,i),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new SN(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},SN=class extends xN{constructor(t,e,n,i,o){super(t,e,o),this.vectorBucketName=n,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},EN=class extends gN{constructor(t,e={},n,i){super(t,e,n,i)}from(t){return new pN(this.url,this.headers,t,this.fetch)}get vectors(){return new wN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vN(this.url+"/iceberg",this.headers,this.fetch)}};const Nj="2.95.3",da=30*1e3,Sp=3,Mf=Sp*da,_N="http://localhost:9999",CN="supabase.auth.token",TN={"X-Client-Info":`gotrue-js/${Nj}`},Ep="X-Supabase-Api-Version",Lj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LN=600*1e3;class il extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function ge(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ON extends il{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function AN(t){return ge(t)&&t.name==="AuthApiError"}class Ji extends il{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ns extends il{constructor(e,n,i,o){super(e,i,o),this.name=n,this.status=i}}class ln extends Ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Df(t){return ge(t)&&t.name==="AuthSessionMissingError"}class ra extends Ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kc extends Ns{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Yc extends Ns{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RN(t){return ge(t)&&t.name==="AuthImplicitGrantRedirectError"}class Rx extends Ns{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kN extends Ns{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class _p extends Ns{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Pf(t){return ge(t)&&t.name==="AuthRetryableFetchError"}class kx extends Ns{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Cp extends Ns{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mx=` 	
\r=`.split(""),MN=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Mx.length;e+=1)t[Mx[e].charCodeAt(0)]=-2;for(let e=0;e<vu.length;e+=1)t[vu[e].charCodeAt(0)]=e;return t})();function Dx(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(vu[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(vu[i]),e.queuedBits-=6}}function Oj(t,e,n){const i=MN[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Px(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{zN(u,i,n)};for(let u=0;u<t.length;u+=1)Oj(t.charCodeAt(u),o,c);return e.join("")}function DN(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function PN(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}DN(i,e)}}function zN(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ja(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Oj(t.charCodeAt(o),n,i);return new Uint8Array(e)}function UN(t){const e=[];return PN(t,n=>e.push(n)),new Uint8Array(e)}function tr(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>Dx(o,n,i)),Dx(null,n,i),e.join("")}function BN(t){return Math.round(Date.now()/1e3)+t}function IN(){return Symbol("auth-callback")}const Rt=()=>typeof window<"u"&&typeof document<"u",qi={tested:!1,writable:!1},Aj=()=>{if(!Rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qi.tested)return qi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qi.tested=!0,qi.writable=!0}catch{qi.tested=!0,qi.writable=!1}return qi.writable};function $N(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,c)=>{e[c]=o})}catch{}return n.searchParams.forEach((i,o)=>{e[o]=i}),e}const Rj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),VN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ha=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Fi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},At=async(t,e)=>{await t.removeItem(e)};class Yu{constructor(){this.promise=new Yu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Yu.promiseConstructor=Promise;function Zc(t){const e=t.split(".");if(e.length!==3)throw new Cp("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!NN.test(e[i]))throw new Cp("JWT not in base64url format");return{header:JSON.parse(Px(e[0])),payload:JSON.parse(Px(e[1])),signature:ja(e[2]),raw:{header:e[0],payload:e[1]}}}async function HN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qN(t,e){return new Promise((i,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await t(c);if(!e(c,null,u)){i(u);return}}catch(u){if(!e(c,u)){o(u);return}}})()})}function FN(t){return("0"+t.toString(16)).substr(-2)}function GN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let c=0;c<56;c++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,FN).join("")}async function WN(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function KN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await WN(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function aa(t,e,n=!1){const i=GN();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await ha(t,`${e}-code-verifier`,o);const c=await KN(i);return[c,i===c?"plain":"s256"]}const YN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZN(t){const e=t.headers.get(Ep);if(!e||!e.match(YN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function XN(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function JN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oa(t){if(!QN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zf(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eL(t,e){return new Proxy(t,{get:(n,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const c=i.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,i,o)}})}function zx(t){return JSON.parse(JSON.stringify(t))}const Ki=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tL=[502,503,504];async function Ux(t){var e;if(!VN(t))throw new _p(Ki(t),0);if(tL.includes(t.status))throw new _p(Ki(t),t.status);let n;try{n=await t.json()}catch(c){throw new Ji(Ki(c),c)}let i;const o=ZN(t);if(o&&o.getTime()>=Lj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new kx(Ki(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new ln}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new kx(Ki(n),t.status,n.weak_password.reasons);throw new ON(Ki(n),t.status||500,i)}const nL=(t,e,n,i)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function we(t,e,n,i){var o;const c=Object.assign({},i?.headers);c[Ep]||(c[Ep]=Lj["2024-01-01"].name),i?.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const u=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await sL(t,e,n+h,{headers:c,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(f):{data:Object.assign({},f),error:null}}async function sL(t,e,n,i,o,c){const u=nL(e,i,o,c);let h;try{h=await t(n,Object.assign({},u))}catch(f){throw console.error(f),new _p(Ki(f),0)}if(h.ok||await Ux(h),i?.noResolveJson)return h;try{return await h.json()}catch(f){await Ux(f)}}function Pn(t){var e;let n=null;aL(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=BN(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function Bx(t){const e=Pn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ai(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function iL(t){return{data:t,error:null}}function rL(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:c}=t,u=Gu(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:c},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function Ix(t){return t}function aL(t){return t.access_token&&t.refresh_token&&t.expires_in}const Uf=["global","local","others"];class oL{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Rj(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Uf[0]){if(Uf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Uf.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ge(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ai})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=Gu(e,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:rL,redirectTo:n?.redirectTo})}catch(n){if(ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ai})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,o,c,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},v=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Ix});if(v.error)throw v.error;const x=await v.json(),b=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(f=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(j=>{const _=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(j.split(";")[1].split("=")[1]);p[`${E}Page`]=_}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(ge(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){oa(e);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ai})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){oa(e);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ai})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){oa(e);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ai})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){oa(e.userId);try{const{data:n,error:i}=await we(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteFactor(e){oa(e.userId),oa(e.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,o,c,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},v=await we(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Ix});if(v.error)throw v.error;const x=await v.json(),b=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(f=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(j=>{const _=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(j.split(";")[1].split("=")[1]);p[`${E}Page`]=_}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(ge(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await we(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await we(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ge(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await we(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}}function $x(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const la={debug:!!(globalThis&&Aj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class lL extends kj{}async function cL(t,e,n){la.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),la.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){la.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{la.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw la.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new lL(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(la.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function uL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Mj(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function dL(t){return parseInt(t,16)}function hL(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function fL(t){var e;const{chainId:n,domain:i,expirationTime:o,issuedAt:c=new Date,nonce:u,notBefore:h,requestId:f,resources:p,scheme:v,uri:x,version:b}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=Mj(t.address),j=v?`${v}://${i}`:i,_=t.statement?`${t.statement}
`:"",E=`${j} wants you to sign in with your Ethereum account:
${w}

${_}`;let C=`URI: ${x}
Version: ${b}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),h&&(C+=`
Not Before: ${h.toISOString()}`),f&&(C+=`
Request ID: ${f}`),p){let N=`
Resources:`;for(const T of p){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);N+=`
- ${T}`}C+=N}return`${E}
${C}`}class yt extends Error{constructor({message:e,code:n,cause:i,name:o}){var c;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(c=o??(i instanceof Error?i.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=n}}class yu extends yt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function pL({error:t,options:e}){var n,i,o;const{publicKey:c}=e;if(!c)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new yt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=c.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new yt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=c.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new yt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new yt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new yt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new yt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new yt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new yt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Dj(u)){if(c.rp.id!==u)return new yt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new yt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new yt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function mL({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new yt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new yt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Dj(i)){if(n.rpId!==i)return new yt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new yt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class gL{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const vL=new gL;function yL(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,o=Gu(t,["challenge","user","excludeCredentials"]),c=ja(e).buffer,u=Object.assign(Object.assign({},n),{id:ja(n.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:c,user:u});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const p=i[f];h.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:ja(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function xL(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=Gu(t,["challenge","allowCredentials"]),o=ja(e).buffer,c=Object.assign(Object.assign({},i),{challenge:o});if(n&&n.length>0){c.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];c.allowCredentials[u]=Object.assign(Object.assign({},h),{id:ja(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function bL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:tr(new Uint8Array(t.response.attestationObject)),clientDataJSON:tr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:tr(new Uint8Array(o.authenticatorData)),clientDataJSON:tr(new Uint8Array(o.clientDataJSON)),signature:tr(new Uint8Array(o.signature)),userHandle:o.userHandle?tr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Dj(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Vx(){var t,e;return!!(Rt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function jL(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yu("Browser returned unexpected credential type",e)}:{data:null,error:new yu("Empty credential response",e)}}catch(e){return{data:null,error:pL({error:e,options:t})}}}async function SL(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yu("Browser returned unexpected credential type",e)}:{data:null,error:new yu("Empty credential response",e)}}catch(e){return{data:null,error:mL({error:e,options:t})}}}const EL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_L={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xu(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of t)if(o)for(const c in o){const u=o[c];if(u!==void 0)if(Array.isArray(u))i[c]=u;else if(n(u))i[c]=u;else if(e(u)){const h=i[c];e(h)?i[c]=xu(h,u):i[c]=xu(u)}else i[c]=u}return i}function CL(t,e){return xu(EL,t,e||{})}function TL(t,e){return xu(_L,t,e||{})}class NL{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:o},c){var u;try{const{data:h,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!h)return{data:null,error:f};const p=o??vL.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;if(!v.name){const x=i;if(x)v.name=`${v.id}:${x}`;else{const w=(await this.client.getUser()).data.user,j=((u=w?.user_metadata)===null||u===void 0?void 0:u.name)||w?.email||w?.id||"User";v.name=`${v.id}:${j}`}}v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=CL(h.webauthn.credential_options.publicKey,c?.create),{data:x,error:b}=await jL({publicKey:v,signal:p});return x?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}case"request":{const v=TL(h.webauthn.credential_options.publicKey,c?.request),{data:x,error:b}=await SL(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:p}));return x?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}}}catch(h){return ge(h)?{data:null,error:h}:{data:null,error:new Ji("Unexpected error in challenge",h)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!n)return{data:null,error:new il("rpId is required for WebAuthn authentication")};try{if(!Vx())return{data:null,error:new Ji("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:o},{request:c});if(!u)return{data:null,error:h};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:i,credential_response:f.credential_response}})}catch(u){return ge(u)?{data:null,error:u}:{data:null,error:new Ji("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!n)return{data:null,error:new il("rpId is required for WebAuthn registration")};try{if(!Vx())return{data:null,error:new Ji("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var x;return(x=v.data)===null||x===void 0?void 0:x.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:f,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:o},{create:c});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ge(u)?{data:null,error:u}:{data:null,error:new Ji("Unexpected error in register",u)}}}}uL();const LL={url:_N,storageKey:CN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:TN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Hx(t,e,n){return await n()}const ca={};class rl{get jwks(){var e,n;return(n=(e=ca[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ca[this.storageKey]=Object.assign(Object.assign({},ca[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ca[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ca[this.storageKey]=Object.assign(Object.assign({},ca[this.storageKey]),{cachedAt:e})}constructor(e){var n,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},LL),e);if(this.storageKey=c.storageKey,this.instanceID=(n=rl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,rl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Rt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new oL({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Rj(c.fetch),this.lock=c.lock||Hx,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&Rt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=cL:this.lock=Hx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new NL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Aj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$x(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=$x(this.memoryStorage)),Rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Nj}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},i="none";if(Rt()&&(n=$N(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),Rt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:c}=await this._getSessionFromURL(n,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),RN(c)){const f=(e=c.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ge(n)?this._returnResult({error:n}):this._returnResult({error:new Ji("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,o;try{const c=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Pn}),{data:u,error:h}=c;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(c){if(ge(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(e){var n,i,o;try{let c;if("email"in e){const{email:v,password:x,options:b}=e;let w=null,j=null;this.flowType==="pkce"&&([w,j]=await aa(this.storage,this.storageKey)),c=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:v,password:x,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:w,code_challenge_method:j},xform:Pn})}else if("phone"in e){const{phone:v,password:x,options:b}=e;c=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:x,data:(i=b?.data)!==null&&i!==void 0?i:{},channel:(o=b?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Pn})}else throw new Kc("You must provide either an email or phone number and a password");const{data:u,error:h}=c;if(h||!u)return await At(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(c){if(await At(this.storage,`${this.storageKey}-code-verifier`),ge(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(e){try{let n;if("email"in e){const{email:c,password:u,options:h}=e;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Bx})}else if("phone"in e){const{phone:c,password:u,options:h}=e;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Bx})}else throw new Kc("You must provide either an email or phone number and a password");const{data:i,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const c=new ra;return this._returnResult({data:{user:null,session:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,i,o,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,o,c,u,h,f,p,v,x,b;let w,j;if("message"in e)w=e.message,j=e.signature;else{const{chain:_,wallet:E,statement:C,options:N}=e;let T;if(Rt())if(typeof E=="object")T=E;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")T=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=E}const k=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),A=await T.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=Mj(A[0]);let R=(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!R){const P=await T.request({method:"eth_chainId"});R=dL(P)}const I={domain:k.host,address:O,statement:C,uri:k.href,version:"1",chainId:R,nonce:(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=N?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=N?.signInWithEthereum)===null||v===void 0?void 0:v.resources};w=fL(I),j=await T.request({method:"personal_sign",params:[hL(w),O]})}try{const{data:_,error:E}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:j},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Pn});if(E)throw E;if(!_||!_.session||!_.user){const C=new ra;return this._returnResult({data:{user:null,session:null},error:C})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(ge(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var n,i,o,c,u,h,f,p,v,x,b,w;let j,_;if("message"in e)j=e.message,_=e.signature;else{const{chain:E,wallet:C,statement:N,options:T}=e;let k;if(Rt())if(typeof C=="object")k=C;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))k=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=C}const A=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const O=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),N?{statement:N}:null));let R;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")R=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)R=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)j=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),_=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${A.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(o=(i=T?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=T?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((p=T?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((x=(v=T?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||x===void 0)&&x.length?["Resources",...T.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const O=await k.signMessage(new TextEncoder().encode(j),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=O}}try{const{data:E,error:C}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:tr(_)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Pn});if(C)throw C;if(!E||!E.session||!E.user){const N=new ra;return this._returnResult({data:{user:null,session:null},error:N})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(ge(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const n=await Fi(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new kN;const{data:c,error:u}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Pn});if(await At(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!c||!c.session||!c.user){const h=new ra;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(await At(this.storage,`${this.storageKey}-code-verifier`),ge(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(e){try{const{options:n,provider:i,token:o,access_token:c,nonce:u}=e,h=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Pn}),{data:f,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const v=new ra;return this._returnResult({data:{user:null,session:null},error:v})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,i,o,c,u;try{if("email"in e){const{email:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await aa(this.storage,this.storageKey));const{error:x}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(i=f?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:h,options:f}=e,{data:p,error:v}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(c=f?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:v})}throw new Kc("You must provide either an email or phone number.")}catch(h){if(await At(this.storage,`${this.storageKey}-code-verifier`),ge(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var n,i;try{let o,c;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,c=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Pn});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,i,o,c,u;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await aa(this.storage,this.storageKey));const p=await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:iL});return!((c=p.data)===null||c===void 0)&&c.url&&Rt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(h){if(await At(this.storage,`${this.storageKey}-code-verifier`),ge(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new ln;const{error:o}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ge(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:c}=e,{error:u}=await we(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:o,options:c}=e,{data:u,error:h}=await we(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:h})}throw new Kc("You must provide either an email or phone number and a type")}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Fi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Mf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Fi(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=zf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=eL(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ai}):await this._useSession(async n=>{var i,o,c;const{data:u,error:h}=n;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ln}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:ai})})}catch(n){if(ge(n))return Df(n)&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:o,error:c}=i;if(c)throw c;if(!o.session)throw new ln;const u=o.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await aa(this.storage,this.storageKey));const{data:p,error:v}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:ai});if(v)throw v;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await At(this.storage,`${this.storageKey}-code-verifier`),ge(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ln;const n=Date.now()/1e3;let i=n,o=!0,c=null;const{payload:u}=Zc(e.access_token);if(u.exp&&(i=u.exp,o=i<=n),o){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(n){if(ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new ln;const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Rt())throw new Yc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Yc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Rx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rx("No code detected.");const{data:N,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:h,expires_at:f,token_type:p}=e;if(!c||!h||!u||!p)throw new Yc("No session defined in URL");const v=Math.round(Date.now()/1e3),x=parseInt(h);let b=v+x;f&&(b=parseInt(f));const w=b-v;w*1e3<=da&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${x}s`);const j=b-x;v-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,b,v):v-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,b,v);const{data:_,error:E}=await this._getUser(c);if(E)throw E;const C={provider_token:i,provider_refresh_token:o,access_token:c,expires_in:x,expires_at:b,refresh_token:u,token_type:p,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(i){if(ge(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Fi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:c}=n;if(c&&!Df(c))return this._returnResult({error:c});const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(AN(h)&&(h.status===404||h.status===401||h.status===403)||Df(h)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=IN(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,o;try{const{data:{session:c},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await aa(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(await At(this.storage,`${this.storageKey}-code-verifier`),ge(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:o}=await this._useSession(async c=>{var u,h,f,p,v;const{data:x,error:b}=c;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",w,{headers:this.headers,jwt:(v=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return Rt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(ge(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:o,data:{session:c}}=n;if(o)throw o;const{options:u,provider:h,token:f,access_token:p,nonce:v}=e,x=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=c?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:f,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Pn}),{data:b,error:w}=x;return w?this._returnResult({data:{user:null,session:null},error:w}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new ra}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:w}))}catch(o){if(await At(this.storage,`${this.storageKey}-code-verifier`),ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,o;const{data:c,error:u}=n;if(u)throw u;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await qN(async o=>(o>0&&await HN(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pn})),(o,c)=>{const u=200*Math.pow(2,o);return c&&Pf(c)&&Date.now()+u-i<da})}catch(i){if(this._debug(n,"error",i),ge(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Rt()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Fi(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Fi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await ha(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:zf()}else if(o&&!o.user&&!o.user){const u=await Fi(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await At(this.storage,this.storageKey+"-user"),await ha(this.storage,this.storageKey,o)):o.user=zf()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const c=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Mf;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${Mf}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Pf(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new ln;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Yu;const{data:c,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new ln;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),ge(c)){const u={data:null,error:c};return Pf(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(f){c.push(f)}});if(await Promise.all(u),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await At(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await ha(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const c=zx(o);await ha(this.storage,this.storageKey,c)}else{const o=zx(n);await ha(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await At(this.storage,this.storageKey),await At(this.storage,this.storageKey+"-code-verifier"),await At(this.storage,this.storageKey+"-user"),this.userStorage&&await At(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Rt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),da);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/da);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${da}ms, refresh threshold is ${Sp} ticks`),o<=Sp&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,u]=await aa(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(i?.queryParams){const c=new URLSearchParams(i.queryParams);o.push(c.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:o,error:c}=n;return c?this._returnResult({data:null,error:c}):await we(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,o;const{data:c,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await we(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&f.type==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:c}=n;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?bL(e.webauthn.credential_response):wL(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:c}=n;if(c)return this._returnResult({data:null,error:c});const u=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:yL(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:xL(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,i,o,c;if(e)try{const{payload:w}=Zc(e);let j=null;w.aal&&(j=w.aal);let _=j;const{data:{user:E},error:C}=await this.getUser(e);if(C)return this._returnResult({data:null,error:C});((i=(n=E?.factors)===null||n===void 0?void 0:n.filter(k=>k.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(_="aal2");const T=w.amr||[];return{data:{currentLevel:j,nextLevel:_,currentAuthenticationMethods:T},error:null}}catch(w){if(ge(w))return this._returnResult({data:null,error:w});throw w}const{data:{session:u},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Zc(u.access_token);let p=null;f.aal&&(p=f.aal);let v=p;((c=(o=u.user.factors)===null||o===void 0?void 0:o.filter(w=>w.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(v="aal2");const b=f.amr||[];return{data:{currentLevel:p,nextLevel:v,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?await we(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new ln})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new ln});const u=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&Rt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ge(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new ln});const u=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&Rt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ge(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;return i?this._returnResult({data:null,error:i}):n?await we(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ln})})}catch(e){if(ge(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?(await we(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ln})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(h=>h.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+LN>o)return i;const{data:c,error:u}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,i=c.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:w,error:j}=await this.getSession();if(j||!w.session)return this._returnResult({data:null,error:j});i=w.session.access_token}const{header:o,payload:c,signature:u,raw:{header:h,payload:f}}=Zc(i);n?.allowExpired||XN(c.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:c,header:o,signature:u},error:null}}const v=JN(o.alg),x=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,x,u,UN(`${h}.${f}`)))throw new Cp("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(i){if(ge(i))return this._returnResult({data:null,error:i});throw i}}}rl.nextInstanceID={};const OL=rl,AL="2.95.3";let Uo="";typeof Deno<"u"?Uo="deno":typeof document<"u"?Uo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uo="react-native":Uo="node";const RL={"X-Client-Info":`supabase-js-${Uo}/${AL}`},kL={headers:RL},ML={schema:"public"},DL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PL={};function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function zL(t,e){if(al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(al(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UL(t){var e=zL(t,"string");return al(e)=="symbol"?e:e+""}function BL(t,e,n){return(e=UL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qx(Object(n),!0).forEach(function(i){BL(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qx(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const IL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$L=()=>Headers,VL=(t,e,n)=>{const i=IL(n),o=$L();return async(c,u)=>{var h;const f=(h=await e())!==null&&h!==void 0?h:t;let p=new o(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),i(c,ut(ut({},u),{},{headers:p}))}};function HL(t){return t.endsWith("/")?t:t+"/"}function qL(t,e){var n,i;const{db:o,auth:c,realtime:u,global:h}=t,{db:f,auth:p,realtime:v,global:x}=e,b={db:ut(ut({},f),o),auth:ut(ut({},p),c),realtime:ut(ut({},v),u),storage:{},global:ut(ut(ut({},x),h),{},{headers:ut(ut({},(n=x?.headers)!==null&&n!==void 0?n:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function FL(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HL(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var GL=class extends OL{constructor(t){super(t)}},WL=class{constructor(t,e,n){var i,o;this.supabaseUrl=t,this.supabaseKey=e;const c=FL(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:ML,realtime:PL,auth:ut(ut({},DL),{},{storageKey:u}),global:kL},f=qL(n??{},h);if(this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=f.auth)!==null&&p!==void 0?p:{},this.headers,f.global.fetch)}this.fetch=VL(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(ut({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new AT(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new EN(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new ST(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:c,flowType:u,lock:h,debug:f,throwOnError:p},v,x){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GL({url:this.authUrl.href,headers:ut(ut({},b),v),storageKey:c,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:o,flowType:u,lock:h,debug:f,throwOnError:p,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new KT(this.realtimeUrl.href,ut(ut({},t),{},{params:ut(ut({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const KL=(t,e,n)=>new WL(t,e,n);function YL(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}YL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ZL="https://jqhiubituqmwouaszjpc.supabase.co",XL="sb_publishable_yk9cpugGvHpx_0Ys8hKEsw_h8NH14CR",ce=KL(ZL,XL),JL=async(t,e)=>{try{const{data:n,error:i}=await ce.from("usuarios").select("*").eq("email",t).eq("password",e).eq("activo",!0).single();return i||!n?(console.error("Error al iniciar sesin:",i),null):n}catch(n){return console.error("Error al iniciar sesin:",n),null}},QL=async(t,e,n,i,o)=>{try{const{data:c}=await ce.from("usuarios").select("email").eq("email",t).single();if(c)return{success:!1,message:"Este email ya est registrado"};const{data:u,error:h}=await ce.from("usuarios").insert([{email:t,password:e,nombre:n,telefono:i,direccion:o,tipo_usuario:"cliente",activo:!0}]).select().single();return h?(console.error("Error al registrar usuario:",h),{success:!1,message:"Error al crear la cuenta"}):{success:!0,message:"Cuenta creada exitosamente",usuario:u}}catch(c){return console.error("Error al registrar usuario:",c),{success:!1,message:"Error al crear la cuenta"}}};var e3=Object.defineProperty,t3=(t,e,n)=>e in t?e3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bf=(t,e,n)=>(t3(t,typeof e!="symbol"?e+"":e,n),n);let n3=class{constructor(){Bf(this,"current",this.detect()),Bf(this,"handoffState","pending"),Bf(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Jn=new n3;function xl(t){var e;return Jn.isServer?null:t==null?document:(e=t?.ownerDocument)!=null?e:document}function Tp(t){var e,n;return Jn.isServer?null:t==null?document:(n=(e=t?.getRootNode)==null?void 0:e.call(t))!=null?n:document}function Pj(t){var e,n;return(n=(e=Tp(t))==null?void 0:e.activeElement)!=null?n:null}function s3(t){return Pj(t)===t}function Zu(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Ls(){let t=[],e={addEventListener(n,i,o,c){return n.addEventListener(i,o,c),e.add(()=>n.removeEventListener(i,o,c))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let i=setTimeout(...n);return e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return Zu(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,o){let c=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:o}),this.add(()=>{Object.assign(n.style,{[i]:c})})},group(n){let i=Ls();return n(i),this.add(()=>i.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let o of t.splice(i,1))o()}},dispose(){for(let n of t.splice(0))n()}};return e}function Xu(){let[t]=g.useState(Ls);return g.useEffect(()=>()=>t.dispose(),[t]),t}let Zt=(t,e)=>{Jn.isServer?g.useEffect(t,e):g.useLayoutEffect(t,e)};function ur(t){let e=g.useRef(t);return Zt(()=>{e.current=t},[t]),e}let Ye=function(t){let e=ur(t);return xe.useCallback((...n)=>e.current(...n),[e])};function bl(t){return g.useMemo(()=>t,Object.values(t))}let i3=g.createContext(void 0);function r3(){return g.useContext(i3)}function Np(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Cs(t,e,...n){if(t in e){let o=e[t];return typeof o=="function"?o(...n):o}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Cs),i}var bu=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(bu||{}),li=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(li||{});function Ln(){let t=o3();return g.useCallback(e=>a3({mergeRefs:t,...e}),[t])}function a3({ourProps:t,theirProps:e,slot:n,defaultTag:i,features:o,visible:c=!0,name:u,mergeRefs:h}){h=h??l3;let f=zj(e,t);if(c)return Xc(f,n,i,u,h);let p=o??0;if(p&2){let{static:v=!1,...x}=f;if(v)return Xc(x,n,i,u,h)}if(p&1){let{unmount:v=!0,...x}=f;return Cs(v?0:1,{0(){return null},1(){return Xc({...x,hidden:!0,style:{display:"none"}},n,i,u,h)}})}return Xc(f,n,i,u,h)}function Xc(t,e={},n,i,o){let{as:c=n,children:u,refName:h="ref",...f}=If(t,["unmount","static"]),p=t.ref!==void 0?{[h]:t.ref}:{},v=typeof u=="function"?u(e):u;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(e)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let x={};if(e){let b=!1,w=[];for(let[j,_]of Object.entries(e))typeof _=="boolean"&&(b=!0),_===!0&&w.push(j.replace(/([A-Z])/g,E=>`-${E.toLowerCase()}`));if(b){x["data-headlessui-state"]=w.join(" ");for(let j of w)x[`data-${j}`]=""}}if(Fo(c)&&(Object.keys(Yi(f)).length>0||Object.keys(Yi(x)).length>0))if(!g.isValidElement(v)||Array.isArray(v)&&v.length>1||u3(v)){if(Object.keys(Yi(f)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Yi(f)).concat(Object.keys(Yi(x))).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`))}else{let b=v.props,w=b?.className,j=typeof w=="function"?(...C)=>Np(w(...C),f.className):Np(w,f.className),_=j?{className:j}:{},E=zj(v.props,Yi(If(f,["ref"])));for(let C in x)C in E&&delete x[C];return g.cloneElement(v,Object.assign({},E,x,p,{ref:o(c3(v),p.ref)},_))}return g.createElement(c,Object.assign({},If(f,["ref"]),!Fo(c)&&p,!Fo(c)&&x),v)}function o3(){let t=g.useRef([]),e=g.useCallback(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)},[]);return(...n)=>{if(!n.every(i=>i==null))return t.current=n,e}}function l3(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function zj(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let o in i)o.startsWith("on")&&typeof i[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(i[o])):e[o]=i[o];if(e.disabled||e["aria-disabled"])for(let i in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(n[i]=[o=>{var c;return(c=o?.preventDefault)==null?void 0:c.call(o)}]);for(let i in n)Object.assign(e,{[i](o,...c){let u=n[i];for(let h of u){if((o instanceof Event||o?.nativeEvent instanceof Event)&&o.defaultPrevented)return;h(o,...c)}}});return e}function Xt(t){var e;return Object.assign(g.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Yi(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function If(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function c3(t){return xe.version.split(".")[0]>="19"?t.props.ref:t.ref}function Fo(t){return t===g.Fragment||t===Symbol.for("react.fragment")}function u3(t){return Fo(t.type)}let d3="span";var wu=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(wu||{});function h3(t,e){var n;let{features:i=1,...o}=t,c={ref:e,"aria-hidden":(i&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Ln()({ourProps:c,theirProps:o,slot:{},defaultTag:d3,name:"Hidden"})}let Lp=Xt(h3);function f3(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function hi(t){return f3(t)&&"tagName"in t}function or(t){return hi(t)&&"accessKey"in t}function ci(t){return hi(t)&&"tabIndex"in t}function p3(t){return hi(t)&&"style"in t}function m3(t){return or(t)&&t.nodeName==="IFRAME"}function g3(t){return or(t)&&t.nodeName==="INPUT"}let Uj=Symbol();function v3(t,e=!0){return Object.assign(t,{[Uj]:e})}function ns(...t){let e=g.useRef(t);g.useEffect(()=>{e.current=t},[t]);let n=Ye(i=>{for(let o of e.current)o!=null&&(typeof o=="function"?o(i):o.current=i)});return t.every(i=>i==null||i?.[Uj])?void 0:n}let xm=g.createContext(null);xm.displayName="DescriptionContext";function Bj(){let t=g.useContext(xm);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Bj),e}return t}function y3(){let[t,e]=g.useState([]);return[t.length>0?t.join(" "):void 0,g.useMemo(()=>function(n){let i=Ye(c=>(e(u=>[...u,c]),()=>e(u=>{let h=u.slice(),f=h.indexOf(c);return f!==-1&&h.splice(f,1),h}))),o=g.useMemo(()=>({register:i,slot:n.slot,name:n.name,props:n.props,value:n.value}),[i,n.slot,n.name,n.props,n.value]);return xe.createElement(xm.Provider,{value:o},n.children)},[e])]}let x3="p";function b3(t,e){let n=g.useId(),i=r3(),{id:o=`headlessui-description-${n}`,...c}=t,u=Bj(),h=ns(e);Zt(()=>u.register(o),[o,u.register]);let f=bl({...u.slot,disabled:i||!1}),p={ref:h,...u.props,id:o};return Ln()({ourProps:p,theirProps:c,slot:f,defaultTag:x3,name:u.name||"Description"})}let w3=Xt(b3),j3=Object.assign(w3,{});var Ij=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Ij||{});let S3=g.createContext(()=>{});function E3({value:t,children:e}){return xe.createElement(S3.Provider,{value:t},e)}let $j=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var _3=Object.defineProperty,C3=(t,e,n)=>e in t?_3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T3=(t,e,n)=>(C3(t,e+"",n),n),Vj=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},_n=(t,e,n)=>(Vj(t,e,"read from private field"),n?n.call(t):e.get(t)),$f=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Fx=(t,e,n,i)=>(Vj(t,e,"write to private field"),e.set(t,n),n),Zn,Bo,Io;let N3=class{constructor(e){$f(this,Zn,{}),$f(this,Bo,new $j(()=>new Set)),$f(this,Io,new Set),T3(this,"disposables",Ls()),Fx(this,Zn,e),Jn.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return _n(this,Zn)}subscribe(e,n){if(Jn.isServer)return()=>{};let i={selector:e,callback:n,current:e(_n(this,Zn))};return _n(this,Io).add(i),this.disposables.add(()=>{_n(this,Io).delete(i)})}on(e,n){return Jn.isServer?()=>{}:(_n(this,Bo).get(e).add(n),this.disposables.add(()=>{_n(this,Bo).get(e).delete(n)}))}send(e){let n=this.reduce(_n(this,Zn),e);if(n!==_n(this,Zn)){Fx(this,Zn,n);for(let i of _n(this,Io)){let o=i.selector(_n(this,Zn));Hj(i.current,o)||(i.current=o,i.callback(o))}for(let i of _n(this,Bo).get(e.type))i(_n(this,Zn),e)}}};Zn=new WeakMap,Bo=new WeakMap,Io=new WeakMap;function Hj(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:Vf(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:Vf(t.entries(),e.entries()):Gx(t)&&Gx(e)?Vf(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Vf(t,e){do{let n=t.next(),i=e.next();if(n.done&&i.done)return!0;if(n.done||i.done||!Object.is(n.value,i.value))return!1}while(!0)}function Gx(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}var L3=Object.defineProperty,O3=(t,e,n)=>e in t?L3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wx=(t,e,n)=>(O3(t,typeof e!="symbol"?e+"":e,n),n),A3=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(A3||{});let R3={0(t,e){let n=e.id,i=t.stack,o=t.stack.indexOf(n);if(o!==-1){let c=t.stack.slice();return c.splice(o,1),c.push(n),i=c,{...t,stack:i}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,i=t.stack.indexOf(n);if(i===-1)return t;let o=t.stack.slice();return o.splice(i,1),{...t,stack:o}}},k3=class qj extends N3{constructor(){super(...arguments),Wx(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),Wx(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new qj({stack:[]})}reduce(e,n){return Cs(n.type,R3,e,n)}};const Fj=new $j(()=>k3.new());var Hf={exports:{}},qf={};var Kx;function M3(){if(Kx)return qf;Kx=1;var t=Hu();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,o=t.useRef,c=t.useEffect,u=t.useMemo,h=t.useDebugValue;return qf.useSyncExternalStoreWithSelector=function(f,p,v,x,b){var w=o(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=u(function(){function E(A){if(!C){if(C=!0,N=A,A=x(A),b!==void 0&&j.hasValue){var O=j.value;if(b(O,A))return T=O}return T=A}if(O=T,n(N,A))return O;var R=x(A);return b!==void 0&&b(O,R)?(N=A,O):(N=A,T=R)}var C=!1,N,T,k=v===void 0?null:v;return[function(){return E(p())},k===null?void 0:function(){return E(k())}]},[p,v,x,b]);var _=i(f,w[0],w[1]);return c(function(){j.hasValue=!0,j.value=_},[_]),h(_),_},qf}var Yx;function D3(){return Yx||(Yx=1,Hf.exports=M3()),Hf.exports}var P3=D3();function Gj(t,e,n=Hj){return P3.useSyncExternalStoreWithSelector(Ye(i=>t.subscribe(z3,i)),Ye(()=>t.state),Ye(()=>t.state),Ye(e),n)}function z3(t){return t}function wl(t,e){let n=g.useId(),i=Fj.get(e),[o,c]=Gj(i,g.useCallback(u=>[i.selectors.isTop(u,n),i.selectors.inStack(u,n)],[i,n]));return Zt(()=>{if(t)return i.actions.push(n),()=>i.actions.pop(n)},[i,t,n]),t?c?o:!0:!1}let Op=new Map,Go=new Map;function Zx(t){var e;let n=(e=Go.get(t))!=null?e:0;return Go.set(t,n+1),n!==0?()=>Xx(t):(Op.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>Xx(t))}function Xx(t){var e;let n=(e=Go.get(t))!=null?e:1;if(n===1?Go.delete(t):Go.set(t,n-1),n!==1)return;let i=Op.get(t);i&&(i["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",i["aria-hidden"]),t.inert=i.inert,Op.delete(t))}function U3(t,{allowed:e,disallowed:n}={}){let i=wl(t,"inert-others");Zt(()=>{var o,c;if(!i)return;let u=Ls();for(let f of(o=n?.())!=null?o:[])f&&u.add(Zx(f));let h=(c=e?.())!=null?c:[];for(let f of h){if(!f)continue;let p=xl(f);if(!p)continue;let v=f.parentElement;for(;v&&v!==p.body;){for(let x of v.children)h.some(b=>x.contains(b))||u.add(Zx(x));v=v.parentElement}}return u.dispose},[i,e,n])}function B3(t,e,n){let i=ur(o=>{let c=o.getBoundingClientRect();c.x===0&&c.y===0&&c.width===0&&c.height===0&&n()});g.useEffect(()=>{if(!t)return;let o=e===null?null:or(e)?e:e.current;if(!o)return;let c=Ls();if(typeof ResizeObserver<"u"){let u=new ResizeObserver(()=>i.current(o));u.observe(o),c.add(()=>u.disconnect())}if(typeof IntersectionObserver<"u"){let u=new IntersectionObserver(()=>i.current(o));u.observe(o),c.add(()=>u.disconnect())}return()=>c.dispose()},[e,i,t])}let ju=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),I3=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var js=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(js||{}),Ap=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Ap||{}),$3=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))($3||{});function V3(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(ju)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function H3(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(I3)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Wj=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Wj||{});function q3(t,e=0){var n;return t===((n=xl(t))==null?void 0:n.body)?!1:Cs(e,{0(){return t.matches(ju)},1(){let i=t;for(;i!==null;){if(i.matches(ju))return!0;i=i.parentElement}return!1}})}var F3=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(F3||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Es(t){t?.focus({preventScroll:!0})}let G3=["textarea","input"].join(",");function W3(t){var e,n;return(n=(e=t?.matches)==null?void 0:e.call(t,G3))!=null?n:!1}function K3(t,e=n=>n){return t.slice().sort((n,i)=>{let o=e(n),c=e(i);if(o===null||c===null)return 0;let u=o.compareDocumentPosition(c);return u&Node.DOCUMENT_POSITION_FOLLOWING?-1:u&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Wo(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:o=[]}={}){let c=Array.isArray(t)?t.length>0?Tp(t[0]):document:Tp(t),u=Array.isArray(t)?n?K3(t):t:e&64?H3(t):V3(t);o.length>0&&u.length>1&&(u=u.filter(w=>!o.some(j=>j!=null&&"current"in j?j?.current===w:j===w))),i=i??c?.activeElement;let h=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,u.indexOf(i))-1;if(e&4)return Math.max(0,u.indexOf(i))+1;if(e&8)return u.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=e&32?{preventScroll:!0}:{},v=0,x=u.length,b;do{if(v>=x||v+x<=0)return 0;let w=f+v;if(e&16)w=(w+x)%x;else{if(w<0)return 3;if(w>=x)return 1}b=u[w],b?.focus(p),v+=h}while(b!==Pj(b));return e&6&&W3(b)&&b.select(),2}function Kj(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Y3(){return/Android/gi.test(window.navigator.userAgent)}function Jx(){return Kj()||Y3()}function Jc(t,e,n,i){let o=ur(n);g.useEffect(()=>{if(!t)return;function c(u){o.current(u)}return document.addEventListener(e,c,i),()=>document.removeEventListener(e,c,i)},[t,e,i])}function Yj(t,e,n,i){let o=ur(n);g.useEffect(()=>{if(!t)return;function c(u){o.current(u)}return window.addEventListener(e,c,i),()=>window.removeEventListener(e,c,i)},[t,e,i])}const Qx=30;function Z3(t,e,n){let i=ur(n),o=g.useCallback(function(h,f){if(h.defaultPrevented)return;let p=f(h);if(p===null||!p.getRootNode().contains(p)||!p.isConnected)return;let v=(function x(b){return typeof b=="function"?x(b()):Array.isArray(b)||b instanceof Set?b:[b]})(e);for(let x of v)if(x!==null&&(x.contains(p)||h.composed&&h.composedPath().includes(x)))return;return!q3(p,Wj.Loose)&&p.tabIndex!==-1&&h.preventDefault(),i.current(h,p)},[i,e]),c=g.useRef(null);Jc(t,"pointerdown",h=>{var f,p;Jx()||(c.current=((p=(f=h.composedPath)==null?void 0:f.call(h))==null?void 0:p[0])||h.target)},!0),Jc(t,"pointerup",h=>{if(Jx()||!c.current)return;let f=c.current;return c.current=null,o(h,()=>f)},!0);let u=g.useRef({x:0,y:0});Jc(t,"touchstart",h=>{u.current.x=h.touches[0].clientX,u.current.y=h.touches[0].clientY},!0),Jc(t,"touchend",h=>{let f={x:h.changedTouches[0].clientX,y:h.changedTouches[0].clientY};if(!(Math.abs(f.x-u.current.x)>=Qx||Math.abs(f.y-u.current.y)>=Qx))return o(h,()=>ci(h.target)?h.target:null)},!0),Yj(t,"blur",h=>o(h,()=>m3(window.document.activeElement)?window.document.activeElement:null),!0)}function bm(...t){return g.useMemo(()=>xl(...t),[...t])}function Zj(t,e,n,i){let o=ur(n);g.useEffect(()=>{t=t??window;function c(u){o.current(u)}return t.addEventListener(e,c,i),()=>t.removeEventListener(e,c,i)},[t,e,i])}function X3(t){return g.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function J3(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(o){return i.add(o),()=>i.delete(o)},dispatch(o,...c){let u=e[o].call(n,...c);u&&(n=u,i.forEach(h=>h()))}}}function Q3(){let t;return{before({doc:e}){var n;let i=e.documentElement,o=(n=e.defaultView)!=null?n:window;t=Math.max(0,o.innerWidth-i.clientWidth)},after({doc:e,d:n}){let i=e.documentElement,o=Math.max(0,i.clientWidth-i.offsetWidth),c=Math.max(0,t-o);n.style(i,"paddingRight",`${c}px`)}}}function e6(){return Kj()?{before({doc:t,d:e,meta:n}){function i(o){for(let c of n().containers)for(let u of c())if(u.contains(o))return!0;return!1}e.microTask(()=>{var o;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let h=Ls();h.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>h.dispose()))}let c=(o=window.scrollY)!=null?o:window.pageYOffset,u=null;e.addEventListener(t,"click",h=>{if(ci(h.target))try{let f=h.target.closest("a");if(!f)return;let{hash:p}=new URL(f.href),v=t.querySelector(p);ci(v)&&!i(v)&&(u=v)}catch{}},!0),e.group(h=>{e.addEventListener(t,"touchstart",f=>{if(h.dispose(),ci(f.target)&&p3(f.target))if(i(f.target)){let p=f.target;for(;p.parentElement&&i(p.parentElement);)p=p.parentElement;h.style(p,"overscrollBehavior","contain")}else h.style(f.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",h=>{if(ci(h.target)){if(g3(h.target))return;if(i(h.target)){let f=h.target;for(;f.parentElement&&f.dataset.headlessuiPortal!==""&&!(f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth);)f=f.parentElement;f.dataset.headlessuiPortal===""&&h.preventDefault()}else h.preventDefault()}},{passive:!1}),e.add(()=>{var h;let f=(h=window.scrollY)!=null?h:window.pageYOffset;c!==f&&window.scrollTo(0,c),u&&u.isConnected&&(u.scrollIntoView({block:"nearest"}),u=null)})})}}:{}}function t6(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function eb(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let nr=J3(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:Ls(),meta:new Set,computedMeta:{}};return i.count++,i.meta.add(e),i.computedMeta=eb(i.meta),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=eb(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[e6(),Q3(),t6()];n.forEach(({before:i})=>i?.(e)),n.forEach(({after:i})=>i?.(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});nr.subscribe(()=>{let t=nr.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",o=n.count!==0;(o&&!i||!o&&i)&&nr.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&nr.dispatch("TEARDOWN",n)}});function n6(t,e,n=()=>({containers:[]})){let i=X3(nr),o=e?i.get(e):void 0,c=o?o.count>0:!1;return Zt(()=>{if(!(!e||!t))return nr.dispatch("PUSH",e,n),()=>nr.dispatch("POP",e,n)},[t,e]),c}function s6(t,e,n=()=>[document.body]){let i=wl(t,"scroll-lock");n6(i,e,o=>{var c;return{containers:[...(c=o.containers)!=null?c:[],n]}})}function i6(t=0){let[e,n]=g.useState(t),i=g.useCallback(f=>n(f),[]),o=g.useCallback(f=>n(p=>p|f),[]),c=g.useCallback(f=>(e&f)===f,[e]),u=g.useCallback(f=>n(p=>p&~f),[]),h=g.useCallback(f=>n(p=>p^f),[]);return{flags:e,setFlag:i,addFlag:o,hasFlag:c,removeFlag:u,toggleFlag:h}}var r6={},tb,nb;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((tb=process==null?void 0:r6)==null?void 0:tb.NODE_ENV)==="test"&&typeof((nb=Element?.prototype)==null?void 0:nb.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var a6=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(a6||{});function o6(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function l6(t,e,n,i){let[o,c]=g.useState(n),{hasFlag:u,addFlag:h,removeFlag:f}=i6(t&&o?3:0),p=g.useRef(!1),v=g.useRef(!1),x=Xu();return Zt(()=>{var b;if(t){if(n&&c(!0),!e){n&&h(3);return}return(b=i?.start)==null||b.call(i,n),c6(e,{inFlight:p,prepare(){v.current?v.current=!1:v.current=p.current,p.current=!0,!v.current&&(n?(h(3),f(4)):(h(4),f(2)))},run(){v.current?n?(f(3),h(4)):(f(4),h(3)):n?f(1):h(1)},done(){var w;v.current&&h6(e)||(p.current=!1,f(7),n||c(!1),(w=i?.end)==null||w.call(i,n))}})}},[t,n,e,x]),t?[o,{closed:u(1),enter:u(2),leave:u(4),transition:u(2)||u(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function c6(t,{prepare:e,run:n,done:i,inFlight:o}){let c=Ls();return d6(t,{prepare:e,inFlight:o}),c.nextFrame(()=>{n(),c.requestAnimationFrame(()=>{c.add(u6(t,i))})}),c.dispose}function u6(t,e){var n,i;let o=Ls();if(!t)return o.dispose;let c=!1;o.add(()=>{c=!0});let u=(i=(n=t.getAnimations)==null?void 0:n.call(t).filter(h=>h instanceof CSSTransition))!=null?i:[];return u.length===0?(e(),o.dispose):(Promise.allSettled(u.map(h=>h.finished)).then(()=>{c||e()}),o.dispose)}function d6(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let i=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=i}function h6(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(i=>i instanceof CSSTransition&&i.playState!=="finished")}function wm(t,e){let n=g.useRef([]),i=Ye(t);g.useEffect(()=>{let o=[...n.current];for(let[c,u]of e.entries())if(n.current[c]!==u){let h=i(e,o);return n.current=e,h}},[i,...e])}let Ju=g.createContext(null);Ju.displayName="OpenClosedContext";var In=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(In||{});function Qu(){return g.useContext(Ju)}function f6({value:t,children:e}){return xe.createElement(Ju.Provider,{value:t},e)}function p6({children:t}){return xe.createElement(Ju.Provider,{value:null},t)}function m6(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let oi=[];m6(()=>{function t(e){if(!ci(e.target)||e.target===document.body||oi[0]===e.target)return;let n=e.target;n=n.closest(ju),oi.unshift(n??e.target),oi=oi.filter(i=>i!=null&&i.isConnected),oi.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Xj(t){let e=Ye(t),n=g.useRef(!1);g.useEffect(()=>(n.current=!1,()=>{n.current=!0,Zu(()=>{n.current&&e()})}),[e])}let Jj=g.createContext(!1);function g6(){return g.useContext(Jj)}function sb(t){return xe.createElement(Jj.Provider,{value:t.force},t.children)}function v6(t){let e=g6(),n=g.useContext(eS),[i,o]=g.useState(()=>{var c;if(!e&&n!==null)return(c=n.current)!=null?c:null;if(Jn.isServer)return null;let u=t?.getElementById("headlessui-portal-root");if(u)return u;if(t===null)return null;let h=t.createElement("div");return h.setAttribute("id","headlessui-portal-root"),t.body.appendChild(h)});return g.useEffect(()=>{i!==null&&(t!=null&&t.body.contains(i)||t==null||t.body.appendChild(i))},[i,t]),g.useEffect(()=>{e||n!==null&&o(n.current)},[n,o,e]),i}let Qj=g.Fragment,y6=Xt(function(t,e){let{ownerDocument:n=null,...i}=t,o=g.useRef(null),c=ns(v3(b=>{o.current=b}),e),u=bm(o.current),h=n??u,f=v6(h),p=g.useContext(Rp),v=Xu(),x=Ln();return Xj(()=>{var b;f&&f.childNodes.length<=0&&((b=f.parentElement)==null||b.removeChild(f))}),f?cr.createPortal(xe.createElement("div",{"data-headlessui-portal":"",ref:b=>{v.dispose(),p&&b&&v.add(p.register(b))}},x({ourProps:{ref:c},theirProps:i,slot:{},defaultTag:Qj,name:"Portal"})),f):null});function x6(t,e){let n=ns(e),{enabled:i=!0,ownerDocument:o,...c}=t,u=Ln();return i?xe.createElement(y6,{...c,ownerDocument:o,ref:n}):u({ourProps:{ref:n},theirProps:c,slot:{},defaultTag:Qj,name:"Portal"})}let b6=g.Fragment,eS=g.createContext(null);function w6(t,e){let{target:n,...i}=t,o={ref:ns(e)},c=Ln();return xe.createElement(eS.Provider,{value:n},c({ourProps:o,theirProps:i,defaultTag:b6,name:"Popover.Group"}))}let Rp=g.createContext(null);function j6(){let t=g.useContext(Rp),e=g.useRef([]),n=Ye(c=>(e.current.push(c),t&&t.register(c),()=>i(c))),i=Ye(c=>{let u=e.current.indexOf(c);u!==-1&&e.current.splice(u,1),t&&t.unregister(c)}),o=g.useMemo(()=>({register:n,unregister:i,portals:e}),[n,i,e]);return[e,g.useMemo(()=>function({children:c}){return xe.createElement(Rp.Provider,{value:o},c)},[o])]}let S6=Xt(x6),tS=Xt(w6),E6=Object.assign(S6,{Group:tS});function _6(t,e=typeof document<"u"?document.defaultView:null,n){let i=wl(t,"escape");Zj(e,"keydown",o=>{i&&(o.defaultPrevented||o.key===Ij.Escape&&n(o))})}function C6(){var t;let[e]=g.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,i]=g.useState((t=e?.matches)!=null?t:!1);return Zt(()=>{if(!e)return;function o(c){i(c.matches)}return e.addEventListener("change",o),()=>e.removeEventListener("change",o)},[e]),n}function T6({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let i=Ye(()=>{var o,c;let u=xl(n),h=[];for(let f of t)f!==null&&(hi(f)?h.push(f):"current"in f&&hi(f.current)&&h.push(f.current));if(e!=null&&e.current)for(let f of e.current)h.push(f);for(let f of(o=u?.querySelectorAll("html > *, body > *"))!=null?o:[])f!==document.body&&f!==document.head&&hi(f)&&f.id!=="headlessui-portal-root"&&(n&&(f.contains(n)||f.contains((c=n?.getRootNode())==null?void 0:c.host))||h.some(p=>f.contains(p))||h.push(f));return h});return{resolveContainers:i,contains:Ye(o=>i().some(c=>c.contains(o)))}}let nS=g.createContext(null);function ib({children:t,node:e}){let[n,i]=g.useState(null),o=sS(e??n);return xe.createElement(nS.Provider,{value:o},t,o===null&&xe.createElement(Lp,{features:wu.Hidden,ref:c=>{var u,h;if(c){for(let f of(h=(u=xl(c))==null?void 0:u.querySelectorAll("html > *, body > *"))!=null?h:[])if(f!==document.body&&f!==document.head&&hi(f)&&f!=null&&f.contains(c)){i(f);break}}}}))}function sS(t=null){var e;return(e=g.useContext(nS))!=null?e:t}function N6(){let t=typeof document>"u";return"useSyncExternalStore"in lx?(e=>e.useSyncExternalStore)(lx)(()=>()=>{},()=>!1,()=>!t):!1}function ed(){let t=N6(),[e,n]=g.useState(Jn.isHandoffComplete);return e&&Jn.isHandoffComplete===!1&&n(!1),g.useEffect(()=>{e!==!0&&n(!0)},[e]),g.useEffect(()=>Jn.handoff(),[]),t?!1:e}function jm(){let t=g.useRef(!1);return Zt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var $o=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))($o||{});function L6(){let t=g.useRef(0);return Yj(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function iS(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)hi(n.current)&&e.add(n.current);return e}let O6="div";var Qi=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Qi||{});function A6(t,e){let n=g.useRef(null),i=ns(n,e),{initialFocus:o,initialFocusFallback:c,containers:u,features:h=15,...f}=t;ed()||(h=0);let p=bm(n.current);D6(h,{ownerDocument:p});let v=P6(h,{ownerDocument:p,container:n,initialFocus:o,initialFocusFallback:c});z6(h,{ownerDocument:p,container:n,containers:u,previousActiveElement:v});let x=L6(),b=Ye(N=>{if(!or(n.current))return;let T=n.current;(k=>k())(()=>{Cs(x.current,{[$o.Forwards]:()=>{Wo(T,js.First,{skipElements:[N.relatedTarget,c]})},[$o.Backwards]:()=>{Wo(T,js.Last,{skipElements:[N.relatedTarget,c]})}})})}),w=wl(!!(h&2),"focus-trap#tab-lock"),j=Xu(),_=g.useRef(!1),E={ref:i,onKeyDown(N){N.key=="Tab"&&(_.current=!0,j.requestAnimationFrame(()=>{_.current=!1}))},onBlur(N){if(!(h&4))return;let T=iS(u);or(n.current)&&T.add(n.current);let k=N.relatedTarget;ci(k)&&k.dataset.headlessuiFocusGuard!=="true"&&(rS(T,k)||(_.current?Wo(n.current,Cs(x.current,{[$o.Forwards]:()=>js.Next,[$o.Backwards]:()=>js.Previous})|js.WrapAround,{relativeTo:N.target}):ci(N.target)&&Es(N.target)))}},C=Ln();return xe.createElement(xe.Fragment,null,w&&xe.createElement(Lp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:wu.Focusable}),C({ourProps:E,theirProps:f,defaultTag:O6,name:"FocusTrap"}),w&&xe.createElement(Lp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:wu.Focusable}))}let R6=Xt(A6),k6=Object.assign(R6,{features:Qi});function M6(t=!0){let e=g.useRef(oi.slice());return wm(([n],[i])=>{i===!0&&n===!1&&Zu(()=>{e.current.splice(0)}),i===!1&&n===!0&&(e.current=oi.slice())},[t,oi,e]),Ye(()=>{var n;return(n=e.current.find(i=>i!=null&&i.isConnected))!=null?n:null})}function D6(t,{ownerDocument:e}){let n=!!(t&8),i=M6(n);wm(()=>{n||s3(e?.body)&&Es(i())},[n]),Xj(()=>{n&&Es(i())})}function P6(t,{ownerDocument:e,container:n,initialFocus:i,initialFocusFallback:o}){let c=g.useRef(null),u=wl(!!(t&1),"focus-trap#initial-focus"),h=jm();return wm(()=>{if(t===0)return;if(!u){o!=null&&o.current&&Es(o.current);return}let f=n.current;f&&Zu(()=>{if(!h.current)return;let p=e?.activeElement;if(i!=null&&i.current){if(i?.current===p){c.current=p;return}}else if(f.contains(p)){c.current=p;return}if(i!=null&&i.current)Es(i.current);else{if(t&16){if(Wo(f,js.First|js.AutoFocus)!==Ap.Error)return}else if(Wo(f,js.First)!==Ap.Error)return;if(o!=null&&o.current&&(Es(o.current),e?.activeElement===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}c.current=e?.activeElement})},[o,u,t]),c}function z6(t,{ownerDocument:e,container:n,containers:i,previousActiveElement:o}){let c=jm(),u=!!(t&4);Zj(e?.defaultView,"focus",h=>{if(!u||!c.current)return;let f=iS(i);or(n.current)&&f.add(n.current);let p=o.current;if(!p)return;let v=h.target;or(v)?rS(f,v)?(o.current=v,Es(v)):(h.preventDefault(),h.stopPropagation(),Es(p)):Es(o.current)},!0)}function rS(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function aS(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!Fo((e=t.as)!=null?e:lS)||xe.Children.count(t.children)===1}let td=g.createContext(null);td.displayName="TransitionContext";var U6=(t=>(t.Visible="visible",t.Hidden="hidden",t))(U6||{});function B6(){let t=g.useContext(td);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function I6(){let t=g.useContext(nd);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let nd=g.createContext(null);nd.displayName="NestingContext";function sd(t){return"children"in t?sd(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function oS(t,e){let n=ur(t),i=g.useRef([]),o=jm(),c=Xu(),u=Ye((w,j=li.Hidden)=>{let _=i.current.findIndex(({el:E})=>E===w);_!==-1&&(Cs(j,{[li.Unmount](){i.current.splice(_,1)},[li.Hidden](){i.current[_].state="hidden"}}),c.microTask(()=>{var E;!sd(i)&&o.current&&((E=n.current)==null||E.call(n))}))}),h=Ye(w=>{let j=i.current.find(({el:_})=>_===w);return j?j.state!=="visible"&&(j.state="visible"):i.current.push({el:w,state:"visible"}),()=>u(w,li.Unmount)}),f=g.useRef([]),p=g.useRef(Promise.resolve()),v=g.useRef({enter:[],leave:[]}),x=Ye((w,j,_)=>{f.current.splice(0),e&&(e.chains.current[j]=e.chains.current[j].filter(([E])=>E!==w)),e?.chains.current[j].push([w,new Promise(E=>{f.current.push(E)})]),e?.chains.current[j].push([w,new Promise(E=>{Promise.all(v.current[j].map(([C,N])=>N)).then(()=>E())})]),j==="enter"?p.current=p.current.then(()=>e?.wait.current).then(()=>_(j)):_(j)}),b=Ye((w,j,_)=>{Promise.all(v.current[j].splice(0).map(([E,C])=>C)).then(()=>{var E;(E=f.current.shift())==null||E()}).then(()=>_(j))});return g.useMemo(()=>({children:i,register:h,unregister:u,onStart:x,onStop:b,wait:p,chains:v}),[h,u,i,x,b,v,p])}let lS=g.Fragment,cS=bu.RenderStrategy;function $6(t,e){var n,i;let{transition:o=!0,beforeEnter:c,afterEnter:u,beforeLeave:h,afterLeave:f,enter:p,enterFrom:v,enterTo:x,entered:b,leave:w,leaveFrom:j,leaveTo:_,...E}=t,[C,N]=g.useState(null),T=g.useRef(null),k=aS(t),A=ns(...k?[T,e,N]:e===null?[]:[e]),O=(n=E.unmount)==null||n?li.Unmount:li.Hidden,{show:R,appear:I,initial:P}=B6(),[G,se]=g.useState(R?"visible":"hidden"),re=I6(),{register:ee,unregister:ae}=re;Zt(()=>ee(T),[ee,T]),Zt(()=>{if(O===li.Hidden&&T.current){if(R&&G!=="visible"){se("visible");return}return Cs(G,{hidden:()=>ae(T),visible:()=>ee(T)})}},[G,T,ee,ae,R,O]);let oe=ed();Zt(()=>{if(k&&oe&&G==="visible"&&T.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[T,G,oe,k]);let z=P&&!I,Y=I&&R&&P,ne=g.useRef(!1),J=oS(()=>{ne.current||(se("hidden"),ae(T))},re),le=Ye(pe=>{ne.current=!0;let me=pe?"enter":"leave";J.onStart(T,me,Se=>{Se==="enter"?c?.():Se==="leave"&&h?.()})}),M=Ye(pe=>{let me=pe?"enter":"leave";ne.current=!1,J.onStop(T,me,Se=>{Se==="enter"?u?.():Se==="leave"&&f?.()}),me==="leave"&&!sd(J)&&(se("hidden"),ae(T))});g.useEffect(()=>{k&&o||(le(R),M(R))},[R,k,o]);let W=!(!o||!k||!oe||z),[,q]=l6(W,C,R,{start:le,end:M}),ie=Yi({ref:A,className:((i=Np(E.className,Y&&p,Y&&v,q.enter&&p,q.enter&&q.closed&&v,q.enter&&!q.closed&&x,q.leave&&w,q.leave&&!q.closed&&j,q.leave&&q.closed&&_,!q.transition&&R&&b))==null?void 0:i.trim())||void 0,...o6(q)}),H=0;G==="visible"&&(H|=In.Open),G==="hidden"&&(H|=In.Closed),R&&G==="hidden"&&(H|=In.Opening),!R&&G==="visible"&&(H|=In.Closing);let he=Ln();return xe.createElement(nd.Provider,{value:J},xe.createElement(f6,{value:H},he({ourProps:ie,theirProps:E,defaultTag:lS,features:cS,visible:G==="visible",name:"Transition.Child"})))}function V6(t,e){let{show:n,appear:i=!1,unmount:o=!0,...c}=t,u=g.useRef(null),h=aS(t),f=ns(...h?[u,e]:e===null?[]:[e]);ed();let p=Qu();if(n===void 0&&p!==null&&(n=(p&In.Open)===In.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[v,x]=g.useState(n?"visible":"hidden"),b=oS(()=>{n||x("hidden")}),[w,j]=g.useState(!0),_=g.useRef([n]);Zt(()=>{w!==!1&&_.current[_.current.length-1]!==n&&(_.current.push(n),j(!1))},[_,n]);let E=g.useMemo(()=>({show:n,appear:i,initial:w}),[n,i,w]);Zt(()=>{n?x("visible"):!sd(b)&&u.current!==null&&x("hidden")},[n,b]);let C={unmount:o},N=Ye(()=>{var A;w&&j(!1),(A=t.beforeEnter)==null||A.call(t)}),T=Ye(()=>{var A;w&&j(!1),(A=t.beforeLeave)==null||A.call(t)}),k=Ln();return xe.createElement(nd.Provider,{value:b},xe.createElement(td.Provider,{value:E},k({ourProps:{...C,as:g.Fragment,children:xe.createElement(uS,{ref:f,...C,...c,beforeEnter:N,beforeLeave:T})},theirProps:{},defaultTag:g.Fragment,features:cS,visible:v==="visible",name:"Transition"})))}function H6(t,e){let n=g.useContext(td)!==null,i=Qu()!==null;return xe.createElement(xe.Fragment,null,!n&&i?xe.createElement(kp,{ref:e,...t}):xe.createElement(uS,{ref:e,...t}))}let kp=Xt(V6),uS=Xt($6),Sm=Xt(H6),Qn=Object.assign(kp,{Child:Sm,Root:kp});var q6=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(q6||{}),F6=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(F6||{});let G6={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Em=g.createContext(null);Em.displayName="DialogContext";function id(t){let e=g.useContext(Em);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,id),n}return e}function W6(t,e){return Cs(e.type,G6,t,e)}let rb=Xt(function(t,e){let n=g.useId(),{id:i=`headlessui-dialog-${n}`,open:o,onClose:c,initialFocus:u,role:h="dialog",autoFocus:f=!0,__demoMode:p=!1,unmount:v=!1,...x}=t,b=g.useRef(!1);h=(function(){return h==="dialog"||h==="alertdialog"?h:(b.current||(b.current=!0,console.warn(`Invalid role [${h}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let w=Qu();o===void 0&&w!==null&&(o=(w&In.Open)===In.Open);let j=g.useRef(null),_=ns(j,e),E=bm(j.current),C=o?0:1,[N,T]=g.useReducer(W6,{titleId:null,descriptionId:null,panelRef:g.createRef()}),k=Ye(()=>c(!1)),A=Ye(q=>T({type:0,id:q})),O=ed()?C===0:!1,[R,I]=j6(),P={get current(){var q;return(q=N.panelRef.current)!=null?q:j.current}},G=sS(),{resolveContainers:se}=T6({mainTreeNode:G,portals:R,defaultContainers:[P]}),re=w!==null?(w&In.Closing)===In.Closing:!1;U3(p||re?!1:O,{allowed:Ye(()=>{var q,ie;return[(ie=(q=j.current)==null?void 0:q.closest("[data-headlessui-portal]"))!=null?ie:null]}),disallowed:Ye(()=>{var q;return[(q=G?.closest("body > *:not(#headlessui-portal-root)"))!=null?q:null]})});let ee=Fj.get(null);Zt(()=>{if(O)return ee.actions.push(i),()=>ee.actions.pop(i)},[ee,i,O]);let ae=Gj(ee,g.useCallback(q=>ee.selectors.isTop(q,i),[ee,i]));Z3(ae,se,q=>{q.preventDefault(),k()}),_6(ae,E?.defaultView,q=>{q.preventDefault(),q.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),k()}),s6(p||re?!1:O,E,se),B3(O,j,k);let[oe,z]=y3(),Y=g.useMemo(()=>[{dialogState:C,close:k,setTitleId:A,unmount:v},N],[C,k,A,v,N]),ne=bl({open:C===0}),J={ref:_,id:i,role:h,tabIndex:-1,"aria-modal":p?void 0:C===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":oe,unmount:v},le=!C6(),M=Qi.None;O&&!p&&(M|=Qi.RestoreFocus,M|=Qi.TabLock,f&&(M|=Qi.AutoFocus),le&&(M|=Qi.InitialFocus));let W=Ln();return xe.createElement(p6,null,xe.createElement(sb,{force:!0},xe.createElement(E6,null,xe.createElement(Em.Provider,{value:Y},xe.createElement(tS,{target:j},xe.createElement(sb,{force:!1},xe.createElement(z,{slot:ne},xe.createElement(I,null,xe.createElement(k6,{initialFocus:u,initialFocusFallback:j,containers:se,features:M},xe.createElement(E3,{value:k},W({ourProps:J,theirProps:x,slot:ne,defaultTag:K6,features:Y6,visible:C===0,name:"Dialog"})))))))))))}),K6="div",Y6=bu.RenderStrategy|bu.Static;function Z6(t,e){let{transition:n=!1,open:i,...o}=t,c=Qu(),u=t.hasOwnProperty("open")||c!==null,h=t.hasOwnProperty("onClose");if(!u&&!h)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!u)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!h)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!c&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(i!==void 0||n)&&!o.static?xe.createElement(ib,null,xe.createElement(Qn,{show:i,transition:n,unmount:o.unmount},xe.createElement(rb,{ref:e,...o}))):xe.createElement(ib,null,xe.createElement(rb,{ref:e,open:i,...o}))}let X6="div";function J6(t,e){let n=g.useId(),{id:i=`headlessui-dialog-panel-${n}`,transition:o=!1,...c}=t,[{dialogState:u,unmount:h},f]=id("Dialog.Panel"),p=ns(e,f.panelRef),v=bl({open:u===0}),x=Ye(E=>{E.stopPropagation()}),b={ref:p,id:i,onClick:x},w=o?Sm:g.Fragment,j=o?{unmount:h}:{},_=Ln();return xe.createElement(w,{...j},_({ourProps:b,theirProps:c,slot:v,defaultTag:X6,name:"Dialog.Panel"}))}let Q6="div";function eO(t,e){let{transition:n=!1,...i}=t,[{dialogState:o,unmount:c}]=id("Dialog.Backdrop"),u=bl({open:o===0}),h={ref:e,"aria-hidden":!0},f=n?Sm:g.Fragment,p=n?{unmount:c}:{},v=Ln();return xe.createElement(f,{...p},v({ourProps:h,theirProps:i,slot:u,defaultTag:Q6,name:"Dialog.Backdrop"}))}let tO="h2";function nO(t,e){let n=g.useId(),{id:i=`headlessui-dialog-title-${n}`,...o}=t,[{dialogState:c,setTitleId:u}]=id("Dialog.Title"),h=ns(e);g.useEffect(()=>(u(i),()=>u(null)),[i,u]);let f=bl({open:c===0}),p={ref:h,id:i};return Ln()({ourProps:p,theirProps:o,slot:f,defaultTag:tO,name:"Dialog.Title"})}let sO=Xt(Z6),iO=Xt(J6);Xt(eO);let rO=Xt(nO),fi=Object.assign(sO,{Panel:iO,Title:rO,Description:j3});function aO(){const[t,e]=g.useState(""),[n,i]=g.useState(""),[o,c]=g.useState(!1),[u,h]=g.useState(""),[f,p]=g.useState(!1),[v,x]=g.useState({email:"",password:"",nombre:"",telefono:"",direccion:""}),[b,w]=g.useState(""),[j,_]=g.useState(""),[E,C]=g.useState(!1),{setUsuario:N}=ot(),{isDark:T}=vT(),k=Ze(),A=async R=>{R.preventDefault(),h(""),c(!0);try{const I=await JL(t,n);if(I)switch(N(I),I.tipo_usuario){case"repartidor":k("/repartidor/dashboard");break;case"restaurante":k("/restaurante/dashboard");break;case"operador":k("/operador/dashboard");break;case"admin":k("/admin/dashboard");break;default:k("/home");break}else h("Email o contrasea incorrectos")}catch(I){h("Error al iniciar sesin. Intenta nuevamente."),console.error(I)}finally{c(!1)}},O=async R=>{R.preventDefault(),w(""),_(""),C(!0);try{const I=await QL(v.email,v.password,v.nombre,v.telefono,v.direccion);I.success?(_(I.message),setTimeout(()=>{p(!1),x({email:"",password:"",nombre:"",telefono:"",direccion:""}),_(""),e(v.email)},2e3)):w(I.message)}catch(I){w("Error al crear la cuenta. Intenta nuevamente."),console.error(I)}finally{C(!1)}};return l.jsxs("div",{style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",background:T?"linear-gradient(135deg, #0a0118 0%, #1a0b2e 50%, #0f0a1f 100%)":"linear-gradient(135deg, #faf5ff 0%, #fce7f3 50%, #eef2ff 100%)",padding:"16px",transition:"background 0.5s ease"},children:[l.jsxs("div",{style:{position:"absolute",inset:0,overflow:"hidden",pointerEvents:"none",opacity:.6},children:[l.jsx("div",{style:{position:"absolute",top:"28%",left:"20%",width:"180px",height:"180px",background:T?"radial-gradient(circle, rgba(168,85,247,0.28) 0%, transparent 70%)":"radial-gradient(circle, rgba(192,132,252,0.2) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(48px)",animation:"pulse 4s ease-in-out infinite"}}),l.jsx("div",{style:{position:"absolute",bottom:"22%",right:"18%",width:"200px",height:"200px",background:T?"radial-gradient(circle, rgba(236,72,153,0.28) 0%, transparent 70%)":"radial-gradient(circle, rgba(251,207,232,0.28) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(52px)",animation:"pulse 5s ease-in-out infinite",animationDelay:"1s"}}),l.jsx("div",{style:{position:"absolute",top:"50%",left:"52%",width:"160px",height:"160px",background:T?"radial-gradient(circle, rgba(99,102,241,0.28) 0%, transparent 70%)":"radial-gradient(circle, rgba(165,180,252,0.22) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(50px)",animation:"pulse 6s ease-in-out infinite",animationDelay:"2s"}})]}),l.jsx("main",{style:{position:"relative",width:"100%",maxWidth:"360px",zIndex:10,animation:"fadeInUp 0.5s ease-out"},children:l.jsxs("div",{style:{position:"relative",background:T?"rgba(31,18,48,0.92)":"rgba(255,255,255,0.92)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",borderRadius:"20px",boxShadow:T?"0 18px 50px rgba(168,85,247,0.22), 0 0 0 1px rgba(167,139,250,0.08)":"0 14px 40px rgba(0,0,0,0.10), 0 0 0 1px rgba(192,132,252,0.12)",border:T?"1px solid rgba(139,92,246,0.15)":"1px solid rgba(192,132,252,0.18)",padding:"32px 24px",transition:"all 0.2s ease"},onMouseEnter:R=>{R.currentTarget.style.boxShadow=T?"0 30px 80px rgba(168,85,247,0.35), 0 0 0 1px rgba(167,139,250,0.15)":"0 25px 70px rgba(0,0,0,0.15), 0 0 0 1px rgba(192,132,252,0.2)"},onMouseLeave:R=>{R.currentTarget.style.boxShadow=T?"0 25px 70px rgba(168,85,247,0.25), 0 0 0 1px rgba(167,139,250,0.1)":"0 20px 60px rgba(0,0,0,0.12), 0 0 0 1px rgba(192,132,252,0.15)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px",animation:"slideInLeft 0.5s ease-out"},children:[l.jsx("div",{style:{position:"relative",width:64,height:64},children:l.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(135deg, #a855f7 0%, #ec4899 100%)",borderRadius:"16px",filter:"blur(12px)",opacity:.7}})}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[l.jsx("img",{src:"/logo.png",alt:"Delibery",style:{width:"120px",height:"auto",objectFit:"contain",transition:"transform 0.25s ease",display:"block"},onMouseEnter:R=>R.currentTarget.style.transform="scale(1.03) rotate(1deg)",onMouseLeave:R=>R.currentTarget.style.transform="scale(1) rotate(0deg)"}),l.jsx("p",{style:{fontSize:"14px",color:T?"#d1d5db":"#6b7280",margin:"6px 0 0 0",fontWeight:500},children:" Bienvenido de vuelta"})]})]}),l.jsxs("form",{onSubmit:A,style:{display:"flex",flexDirection:"column",gap:"14px"},children:[u&&l.jsxs("div",{style:{background:T?"rgba(127,29,29,0.4)":"#fef2f2",border:`1px solid ${T?"#991b1b":"#fecaca"}`,color:T?"#fca5a5":"#dc2626",padding:"12px 16px",borderRadius:"12px",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",gap:"8px",animation:"shake 0.5s ease-in-out"},children:[l.jsx("span",{style:{fontSize:"18px"},children:""}),u]}),l.jsxs("div",{style:{animation:"slideInRight 0.6s ease-out"},children:[l.jsx("label",{htmlFor:"email",style:{display:"block",fontSize:"13px",fontWeight:600,color:T?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Email"}),l.jsx("input",{id:"email",type:"email",value:t,onChange:R=>e(R.target.value),placeholder:"tu@email.com",required:!0,disabled:o,style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${T?"#6b21a8":"#e9d5ff"}`,background:T?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:T?"#ffffff":"#111827",fontSize:"14px",outline:"none",transition:"all 0.2s ease",boxSizing:"border-box"},onFocus:R=>{R.currentTarget.style.borderColor=T?"#a855f7":"#9333ea",R.currentTarget.style.boxShadow=T?"0 0 0 4px rgba(168,85,247,0.15)":"0 0 0 4px rgba(147,51,234,0.1)",R.currentTarget.style.transform="scale(1.02)"},onBlur:R=>{R.currentTarget.style.borderColor=T?"#6b21a8":"#e9d5ff",R.currentTarget.style.boxShadow="none",R.currentTarget.style.transform="scale(1)"}})]}),l.jsxs("div",{style:{animation:"slideInRight 0.7s ease-out"},children:[l.jsx("label",{htmlFor:"password",style:{display:"block",fontSize:"13px",fontWeight:600,color:T?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Contrasea"}),l.jsx("input",{id:"password",type:"password",value:n,onChange:R=>i(R.target.value),placeholder:"",required:!0,disabled:o,style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${T?"#6b21a8":"#e9d5ff"}`,background:T?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:T?"#ffffff":"#111827",fontSize:"14px",outline:"none",transition:"all 0.2s ease",boxSizing:"border-box"},onFocus:R=>{R.currentTarget.style.borderColor=T?"#a855f7":"#9333ea",R.currentTarget.style.boxShadow=T?"0 0 0 4px rgba(168,85,247,0.15)":"0 0 0 4px rgba(147,51,234,0.1)",R.currentTarget.style.transform="scale(1.02)"},onBlur:R=>{R.currentTarget.style.borderColor=T?"#6b21a8":"#e9d5ff",R.currentTarget.style.boxShadow="none",R.currentTarget.style.transform="scale(1)"}})]}),l.jsx("button",{type:"submit",disabled:o,style:{width:"100%",padding:"14px 18px",borderRadius:"10px",background:T?"linear-gradient(135deg, #a855f7 0%, #ec4899 50%, #6366f1 100%)":"linear-gradient(135deg, #9333ea 0%, #db2777 50%, #4f46e5 100%)",color:"#ffffff",fontSize:"15px",fontWeight:700,border:"none",cursor:o?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:T?"0 10px 30px rgba(168,85,247,0.28)":"0 8px 24px rgba(147,51,234,0.26)",transition:"all 0.2s ease",opacity:o?.8:1,animation:"slideInUp 0.6s ease-out"},onMouseEnter:R=>{o||(R.currentTarget.style.transform="scale(1.02) translateY(-2px)",R.currentTarget.style.boxShadow=T?"0 16px 45px rgba(168,85,247,0.45)":"0 14px 40px rgba(147,51,234,0.4)")},onMouseLeave:R=>{R.currentTarget.style.transform="scale(1) translateY(0)",R.currentTarget.style.boxShadow=T?"0 12px 35px rgba(168,85,247,0.35)":"0 10px 30px rgba(147,51,234,0.3)"},onMouseDown:R=>!o&&(R.currentTarget.style.transform="scale(0.98) translateY(0)"),onMouseUp:R=>!o&&(R.currentTarget.style.transform="scale(1.02) translateY(-2px)"),children:o?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{style:{width:"20px",height:"20px",animation:"spin 1s linear infinite"},viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",style:{opacity:.25}}),l.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",style:{opacity:.75}})]}),l.jsx("span",{children:"Iniciando..."})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"Iniciar Sesin"}),l.jsx("span",{style:{fontSize:"20px",transition:"transform 0.3s ease"},children:""})]})}),l.jsxs("button",{type:"button",onClick:()=>p(!0),style:{width:"100%",padding:"12px 18px",borderRadius:"10px",background:"transparent",color:T?"#d1d5db":"#6b7280",fontSize:"14px",fontWeight:600,border:`2px solid ${T?"#4b5563":"#e5e7eb"}`,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease",animation:"slideInUp 0.7s ease-out"},onMouseEnter:R=>{R.currentTarget.style.borderColor="#9333ea",R.currentTarget.style.color=T?"#a855f7":"#9333ea",R.currentTarget.style.transform="scale(1.02)"},onMouseLeave:R=>{R.currentTarget.style.borderColor=T?"#4b5563":"#e5e7eb",R.currentTarget.style.color=T?"#d1d5db":"#6b7280",R.currentTarget.style.transform="scale(1)"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"Crear Cuenta Nueva"})]})]})]})}),l.jsx(Qn,{show:f,as:g.Fragment,children:l.jsxs(fi,{as:"div",onClose:()=>p(!1),style:{position:"fixed",inset:0,zIndex:9999},children:[l.jsx(Qn.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)"}})}),l.jsx("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",overflowY:"auto"},children:l.jsx(Qn.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:l.jsxs(fi.Panel,{style:{width:"100%",maxWidth:"420px",background:T?"rgba(31,18,48,0.98)":"rgba(255,255,255,0.98)",backdropFilter:"blur(16px)",borderRadius:"20px",padding:"28px 24px",boxShadow:T?"0 20px 60px rgba(168,85,247,0.3)":"0 20px 60px rgba(0,0,0,0.2)",border:T?"1px solid rgba(139,92,246,0.2)":"1px solid rgba(192,132,252,0.2)",margin:"auto"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px"},children:[l.jsx(fi.Title,{style:{fontSize:"22px",fontWeight:800,color:T?"#f3f4f6":"#111827"},children:" Crear Cuenta"}),l.jsx("button",{onClick:()=>p(!1),style:{background:T?"#374151":"#f3f4f6",border:"none",borderRadius:"8px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"18px",color:T?"#9ca3af":"#6b7280"},children:""})]}),l.jsxs("form",{onSubmit:O,style:{display:"flex",flexDirection:"column",gap:"14px"},children:[b&&l.jsxs("div",{style:{background:T?"rgba(127,29,29,0.4)":"#fef2f2",border:`1px solid ${T?"#991b1b":"#fecaca"}`,color:T?"#fca5a5":"#dc2626",padding:"12px 16px",borderRadius:"12px",fontSize:"13px",fontWeight:500},children:[" ",b]}),j&&l.jsxs("div",{style:{background:T?"rgba(20,83,45,0.4)":"#f0fdf4",border:`1px solid ${T?"#166534":"#bbf7d0"}`,color:T?"#86efac":"#16a34a",padding:"12px 16px",borderRadius:"12px",fontSize:"13px",fontWeight:500},children:[" ",j]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:T?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Email *"}),l.jsx("input",{type:"email",value:v.email,onChange:R=>x({...v,email:R.target.value}),required:!0,disabled:E,placeholder:"tu@email.com",style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${T?"#6b21a8":"#e9d5ff"}`,background:T?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:T?"#ffffff":"#111827",fontSize:"14px",outline:"none",boxSizing:"border-box"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:T?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Contrasea *"}),l.jsx("input",{type:"password",value:v.password,onChange:R=>x({...v,password:R.target.value}),required:!0,disabled:E,placeholder:"",style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${T?"#6b21a8":"#e9d5ff"}`,background:T?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:T?"#ffffff":"#111827",fontSize:"14px",outline:"none",boxSizing:"border-box"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:T?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Nombre Completo *"}),l.jsx("input",{type:"text",value:v.nombre,onChange:R=>x({...v,nombre:R.target.value}),required:!0,disabled:E,placeholder:"Juan Prez",style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${T?"#6b21a8":"#e9d5ff"}`,background:T?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:T?"#ffffff":"#111827",fontSize:"14px",outline:"none",boxSizing:"border-box"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:T?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Telfono (opcional)"}),l.jsx("input",{type:"tel",value:v.telefono,onChange:R=>x({...v,telefono:R.target.value}),disabled:E,placeholder:"+504 1234-5678",style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${T?"#6b21a8":"#e9d5ff"}`,background:T?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:T?"#ffffff":"#111827",fontSize:"14px",outline:"none",boxSizing:"border-box"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:T?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Direccin (opcional)"}),l.jsx("input",{type:"text",value:v.direccion,onChange:R=>x({...v,direccion:R.target.value}),disabled:E,placeholder:"Colonia, Calle, #Casa",style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${T?"#6b21a8":"#e9d5ff"}`,background:T?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:T?"#ffffff":"#111827",fontSize:"14px",outline:"none",boxSizing:"border-box"}})]}),l.jsx("button",{type:"submit",disabled:E,style:{width:"100%",padding:"14px 18px",borderRadius:"10px",background:T?"linear-gradient(135deg, #a855f7 0%, #ec4899 50%, #6366f1 100%)":"linear-gradient(135deg, #9333ea 0%, #db2777 50%, #4f46e5 100%)",color:"#ffffff",fontSize:"15px",fontWeight:700,border:"none",cursor:E?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",marginTop:"8px",opacity:E?.7:1},children:E?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{style:{width:"20px",height:"20px",animation:"spin 1s linear infinite"},viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",style:{opacity:.25}}),l.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",style:{opacity:.75}})]}),l.jsx("span",{children:"Creando cuenta..."})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"Crear Cuenta"}),l.jsx("span",{children:""})]})})]})]})})})]})}),l.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideInLeft {
          from { opacity: 0; transform: translateX(-30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInRight {
          from { opacity: 0; transform: translateX(30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInUp {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
          20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes pulse {
          0%, 100% { opacity: 0.6; transform: scale(1); }
          50% { opacity: 0.8; transform: scale(1.05); }
        }
      `})]})}function $e(){return l.jsx(l.Fragment,{children:l.jsx("header",{style:{position:"sticky",top:0,zIndex:100,background:"linear-gradient(135deg, #2e1065, #1e1b4b)",padding:"12px 14px 14px",boxShadow:"0 2px 8px rgba(30, 27, 75, 0.18)",clipPath:"ellipse(100% 75% at 50% 10%)"},children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",maxWidth:"500px",margin:"0 auto"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:14},children:[l.jsx("img",{src:"/logo.png",alt:"Delibery",style:{height:36,borderRadius:"10px"}}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",lineHeight:1.1},children:[l.jsx("div",{style:{color:"#fff",fontWeight:900,fontSize:16},children:"Food Delibery Roatan"}),l.jsx("div",{style:{fontSize:12,color:"rgba(255,255,255,0.9)",marginTop:2},children:"Tu comida, ms cerca"})]})]})})})})}function oO({restaurantes:t}){const e=Ze(),n=g.useRef(null),i=g.useRef(!1);return g.useEffect(()=>{const o=n.current;if(!o||t.length===0)return;let c;const u=.6;let h=0;const f=()=>{if(o){if(!i.current){h+=u;const p=Math.floor(o.scrollWidth/2);h>=p&&(h=0),o.scrollLeft=Math.max(0,p-Math.floor(h))}c=requestAnimationFrame(f)}};return o.scrollLeft=Math.floor(o.scrollWidth/2),c=requestAnimationFrame(f),()=>cancelAnimationFrame(c)},[t]),t.length===0?l.jsx("section",{style:{marginBottom:"24px"},children:l.jsx("div",{style:{position:"relative",borderRadius:"12px",overflow:"hidden",height:"160px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 10px 30px rgba(0,0,0,0.12)",display:"flex",alignItems:"center",justifyContent:"center",padding:"12px"},children:l.jsx("p",{style:{color:"#fff",fontSize:"15px",fontWeight:500},children:"No hay restaurantes disponibles"})})}):l.jsx("section",{style:{marginBottom:"24px"},children:l.jsxs("div",{style:{position:"relative",maxWidth:"1200px",margin:"0 auto",padding:"8px 16px"},children:[l.jsx("style",{children:".hide-scrollbar::-webkit-scrollbar{display:none;} .hide-scrollbar{ -ms-overflow-style:none; scrollbar-width:none; }"}),l.jsx("div",{ref:n,className:"hide-scrollbar",onMouseEnter:()=>i.current=!0,onMouseLeave:()=>i.current=!1,style:{display:"flex",gap:"12px",overflowX:"hidden",paddingBottom:"8px",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none"},children:(t.length>0?[...t,...t]:t).map((o,c)=>l.jsxs("div",{style:{minWidth:"160px",flex:"0 0 auto",borderRadius:"10px",overflow:"hidden",background:"transparent",boxShadow:"none",border:"1px solid rgba(15,23,42,0.06)",cursor:"pointer",display:"flex",flexDirection:"column",backdropFilter:"none"},onClick:()=>e(`/restaurante/${o.id}`),children:[l.jsx("div",{style:{height:"90px",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:`url(${o.imagen_url})`}}),l.jsxs("div",{style:{padding:"10px 12px",display:"flex",flexDirection:"column",gap:"6px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"8px"},children:[l.jsx("h4",{style:{margin:0,fontSize:"13px",fontWeight:800,color:"#0f172a"},children:o.nombre}),l.jsx("span",{style:{fontSize:"16px"},children:o.emoji})]}),l.jsx("p",{style:{margin:0,fontSize:"11px",color:"#475569"},children:o.descripcion})]})]},`${o.id}-${c}`))}),l.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:10},children:l.jsx("button",{onClick:()=>e("/restaurantes"),style:{padding:"6px 10px",fontSize:13,borderRadius:10,border:"1px solid #e6e7eb",background:"#fff",cursor:"pointer",color:"#0f172a",boxShadow:"0 1px 3px rgba(2,6,23,0.06)"},children:"Ver todos"})})]})})}function lO({platillos:t}){const e=Ze(),n=g.useRef(null);if(g.useEffect(()=>{const o=n.current;if(!o||t.length===0)return;let c,u=0;const h=.5,f=()=>{if(!o)return;u+=h;const x=o.scrollWidth/2;u>=x&&(u=0),o.scrollLeft=u,c=requestAnimationFrame(f)};c=requestAnimationFrame(f);const p=()=>cancelAnimationFrame(c),v=()=>{c=requestAnimationFrame(f)};return o.addEventListener("mouseenter",p),o.addEventListener("mouseleave",v),()=>{cancelAnimationFrame(c),o.removeEventListener("mouseenter",p),o.removeEventListener("mouseleave",v)}},[t]),t.length===0)return null;const i=[...t,...t];return l.jsx("div",{style:{marginBottom:20,overflow:"hidden"},children:l.jsxs("div",{ref:n,style:{display:"flex",gap:10,overflowX:"hidden",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},children:[l.jsx("style",{children:".hide-scrollbar::-webkit-scrollbar{display:none;}"}),i.map((o,c)=>l.jsxs("div",{onClick:()=>{e(`/platillo/${o.id}`)},style:{minWidth:130,flex:"0 0 130px",borderRadius:10,overflow:"hidden",background:"#fff",border:"1px solid rgba(15,23,42,0.08)",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:u=>{u.currentTarget.style.transform="scale(1.05)"},onMouseLeave:u=>{u.currentTarget.style.transform="scale(1)"},children:[l.jsx("div",{style:{height:90,backgroundImage:`url(${o.imagen_url||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=200"})`,backgroundSize:"cover",backgroundPosition:"center"}}),l.jsxs("div",{style:{padding:"8px 10px"},children:[l.jsx("h4",{style:{margin:0,fontSize:12,fontWeight:700,color:"#0f172a",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:o.nombre}),o.precio&&l.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:13,fontWeight:700,color:"#059669"},children:["L ",o.precio.toFixed(2)]}),o.restaurante&&l.jsx("p",{style:{margin:"2px 0 0 0",fontSize:10,color:"#6b7280",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:o.restaurante.nombre})]})]},`${o.id}-${c}`))]})})}function cO(){const t=Ze(),[e,n]=g.useState([]),[i,o]=g.useState([]),[c,u]=g.useState([]),[,h]=g.useState(!0),[f,p]=g.useState(""),[v,x]=g.useState([]),[b,w]=g.useState(!1);return g.useEffect(()=>{async function j(){try{const{data:_,error:E}=await ce.from("restaurantes").select("*").eq("activo",!0).order("calificacion",{ascending:!1});if(E)console.error("Error cargando restaurantes:",E),n([]);else{const A=(_||[]).map(O=>({...O,calificacion:typeof O.calificacion=="string"?parseFloat(O.calificacion)||0:O.calificacion??0,costo_envio:typeof O.costo_envio=="string"?parseFloat(O.costo_envio)||0:O.costo_envio??0,tiempo_entrega_min:O.tiempo_entrega_min?Number(O.tiempo_entrega_min):0}));n(A)}const{data:C,error:N}=await ce.from("categorias").select("*").order("orden",{ascending:!0});if(N)console.error("Error cargando categoras:",N),u([{id:"1",nombre:"Comidas",emoji:"",color_gradiente_inicio:"#f093fb",color_gradiente_fin:"#f5576c"},{id:"2",nombre:"Bebidas",emoji:"",color_gradiente_inicio:"#667eea",color_gradiente_fin:"#764ba2"},{id:"3",nombre:"Postres",emoji:"",color_gradiente_inicio:"#fa709a",color_gradiente_fin:"#fee140"}]);else{const A=(C||[]).filter(O=>O.nombre.toLowerCase()!=="mandaditos");u(A)}const{data:T,error:k}=await ce.from("platillos").select("id,nombre,descripcion,imagen_url,precio,disponible,restaurante_id,restaurantes(id,nombre)").order("nombre",{ascending:!0}).limit(100);if(k)console.error("Error cargando platillos:",k),o([]);else{const A=(T||[]).map(O=>({id:O.id,nombre:O.nombre,descripcion:O.descripcion,imagen_url:O.imagen_url,precio:O.precio,disponible:O.disponible,restaurante_id:O.restaurante_id,restaurante:O.restaurantes?Array.isArray(O.restaurantes)?O.restaurantes[0]:O.restaurantes:null}));o(A)}}catch(_){console.error("Error general:",_),n([]),u([]),o([])}finally{h(!1)}}j()},[]),g.useEffect(()=>{const j=f.trim().toLowerCase();if(!j){x([]);return}const _=e.filter(C=>`${C.nombre} ${C.descripcion}`.toLowerCase().includes(j)).slice(0,4).map(C=>({type:"restaurante",id:C.id,nombre:C.nombre,descripcion:C.descripcion,emoji:C.emoji})),E=i.filter(C=>`${C.nombre} ${C.descripcion}`.toLowerCase().includes(j)).slice(0,6-_.length).map(C=>({type:"platillo",id:C.id,nombre:C.nombre,descripcion:C.descripcion,restaurante:C.restaurante}));x([..._,...E])},[f,e,i]),l.jsxs("div",{className:"home-page",children:[l.jsx($e,{}),l.jsxs("main",{className:"home-main",children:[l.jsx("section",{className:"hero-section",children:l.jsxs("div",{className:"hero-content",children:[l.jsxs("div",{className:"hero-text",children:[l.jsxs("h1",{className:"hero-title",children:["Bienvenido a ",l.jsx("span",{className:"hero-highlight",children:"Delibery"}),"!"]}),l.jsx("p",{className:"hero-subtitle",children:"Descubre los mejores restaurantes y platillos cerca de ti"})]}),l.jsx("div",{className:"hero-emoji",children:""})]})}),l.jsxs("div",{className:"search-container",children:[l.jsxs("div",{className:"search-wrapper",children:[l.jsx("span",{className:"search-icon",children:""}),l.jsx("input",{value:f,onChange:j=>p(j.target.value),onFocus:()=>w(!0),onBlur:()=>setTimeout(()=>w(!1),150),placeholder:"Buscar restaurantes o platillos...",className:"search-input"}),f&&l.jsx("button",{onClick:()=>p(""),className:"search-clear",children:""})]}),b&&f.trim().length>0&&v.length>0&&l.jsx("div",{className:"suggestions-dropdown",children:v.map((j,_)=>l.jsxs("div",{onMouseDown:()=>{j.type==="restaurante"?t(`/restaurante/${j.id}`):j.type==="platillo"&&t(`/platillo/${j.id}`)},className:"suggestion-item",children:[l.jsxs("div",{className:"suggestion-header",children:[l.jsxs("div",{className:"suggestion-name",children:[j.type==="restaurante"&&j.emoji&&l.jsx("span",{className:"suggestion-emoji",children:j.emoji}),j.nombre]}),l.jsx("span",{className:"suggestion-type",children:j.type==="restaurante"?"Restaurante":"Platillo"})]}),j.descripcion&&l.jsx("div",{className:"suggestion-description",children:j.descripcion})]},_))})]}),l.jsx(oO,{restaurantes:e}),l.jsx(lO,{platillos:i.sort(()=>Math.random()-.5)}),l.jsxs("section",{className:"categories-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsxs("h2",{className:"section-title",children:[l.jsx("span",{className:"section-icon",children:""}),"Qu se te antoja hoy?"]}),l.jsx("p",{className:"section-subtitle",children:"Explora nuestras categoras ms populares"})]}),l.jsx("div",{className:"categories-grid",children:c.length>0?c.map((j,_)=>l.jsxs("div",{onClick:()=>t(`/categoria/${j.id}`),className:"category-card",style:{background:`linear-gradient(135deg, ${j.color_gradiente_inicio} 0%, ${j.color_gradiente_fin} 100%)`,animationDelay:`${_*.1}s`},children:[l.jsx("div",{className:"category-emoji-bg",children:j.emoji}),l.jsxs("div",{className:"category-content",children:[l.jsx("div",{className:"category-emoji-main",children:j.emoji}),l.jsx("h3",{className:"category-name",children:j.nombre}),l.jsx("div",{className:"category-arrow",children:""})]})]},j.id)):l.jsxs("div",{className:"category-card category-loading",children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("p",{children:"Cargando categoras..."})]})})]})]})]})}function rd({onClick:t,ariaLabel:e="Volver",style:n}){return l.jsx("button",{onClick:t,"aria-label":e,style:{position:"absolute",top:20,left:20,width:44,height:44,borderRadius:12,border:"none",background:"linear-gradient(180deg,#ffffff,#f3f4f6)",boxShadow:"0 8px 22px rgba(2,6,23,0.08)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:20,...n},children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M15 18L9 12L15 6",stroke:"#111827",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}function uO(){const{categoriaId:t}=La(),e=Ze(),[n,i]=g.useState([]),[o,c]=g.useState(!0),[u,h]=g.useState("");g.useEffect(()=>{t&&f()},[t]);async function f(){c(!0);try{const{data:p}=await ce.from("categorias").select("nombre").eq("id",t).single();p&&h(p.nombre);const{data:v,error:x}=await ce.from("platillos").select(`
          id, nombre, descripcion, imagen_url, precio, disponible,
          restaurantes ( nombre )
        `).eq("categoria_id",t).eq("disponible",!0);if(x)throw x;const b=(v||[]).map(w=>({...w,restaurante:w.restaurantes}));i(b)}catch(p){console.error("Error:",p)}finally{c(!1)}}return l.jsxs("div",{style:dO,children:[l.jsx(rd,{onClick:()=>e(-1),style:{top:20,right:20}}),l.jsxs("header",{style:hO,children:[l.jsx("span",{style:fO,children:"Explorar categora"}),l.jsx("h1",{style:pO,children:u||"Cargando..."})]}),o?l.jsx("div",{style:ab,children:"Cargando delicias..."}):n.length===0?l.jsx("div",{style:ab,children:"No hay platillos en esta categora todava."}):l.jsx("div",{style:mO,children:n.map(p=>l.jsxs("div",{onClick:()=>e(`/platillo/${p.id}`),style:gO,children:[l.jsxs("div",{style:vO,children:[l.jsx("img",{src:p.imagen_url||"https://via.placeholder.com/300",alt:p.nombre,style:yO}),l.jsxs("div",{style:xO,children:["$",Number(p.precio).toFixed(2)]})]}),l.jsxs("div",{style:bO,children:[l.jsx("div",{style:wO,children:p.restaurante?.nombre||"Restaurante"}),l.jsx("h3",{style:jO,children:p.nombre}),l.jsx("p",{style:SO,children:p.descripcion})]})]},p.id))})]})}const dO={minHeight:"100vh",background:"#f2f2f7",padding:"20px",paddingTop:"60px"},hO={marginBottom:"30px",paddingLeft:"10px"},fO={color:"#8e8e93",textTransform:"uppercase",fontSize:"12px",fontWeight:600,letterSpacing:"1px"},pO={fontSize:"34px",fontWeight:800,color:"#1c1c1e",margin:"5px 0 0 0"},mO={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},gO={background:"white",borderRadius:"20px",overflow:"hidden",boxShadow:"0 10px 20px rgba(0,0,0,0.05)",cursor:"pointer",transition:"transform 0.2s ease"},vO={position:"relative",height:"200px",width:"100%"},yO={width:"100%",height:"100%",objectFit:"cover"},xO={position:"absolute",bottom:"15px",left:"15px",background:"rgba(255,255,255,0.9)",padding:"5px 12px",borderRadius:"10px",fontWeight:800,fontSize:"14px",color:"#000",backdropFilter:"blur(5px)"},bO={padding:"15px"},wO={color:"#007aff",fontSize:"12px",fontWeight:700,marginBottom:"4px"},jO={fontSize:"18px",fontWeight:700,margin:"0 0 8px 0",color:"#1c1c1e"},SO={fontSize:"14px",color:"#636366",lineHeight:"1.4",margin:0},ab={display:"flex",justifyContent:"center",padding:"50px",color:"#8e8e93"};function EO(){const{id:t}=La(),e=Ze(),[n,i]=g.useState(null),[o,c]=g.useState([]),[u,h]=g.useState([]),[f,p]=g.useState(!0);return g.useEffect(()=>{if(!t)return;async function v(){p(!0);try{const{data:x}=await ce.from("categorias").select("nombre").eq("id",t).single();x&&i(x.nombre||null);const{data:b,error:w}=await ce.from("platillos").select("id,nombre,descripcion,imagen_url,precio,disponible,restaurante_id,restaurantes(id,nombre)").eq("categoria_id",t).order("nombre",{ascending:!0});w?(console.error("Error platillos:",w),c([])):c((b||[]).map(E=>({id:E.id,nombre:E.nombre,descripcion:E.descripcion,imagen_url:E.imagen_url,precio:E.precio,disponible:E.disponible,restaurante_id:E.restaurante_id,restaurantes:E.restaurantes?{id:E.restaurantes.id,nombre:E.restaurantes.nombre}:null})));const{data:j,error:_}=await ce.from("bebidas").select("id,nombre,descripcion,imagen_url,precio,tamano,temperatura,disponible,restaurante_id,restaurantes(id,nombre)").eq("categoria_id",t).order("nombre",{ascending:!0});_?(console.error("Error bebidas:",_),h([])):h((j||[]).map(E=>({id:E.id,nombre:E.nombre,descripcion:E.descripcion,imagen_url:E.imagen_url,precio:E.precio,tamano:E.tamano,temperatura:E.temperatura,disponible:E.disponible,restaurante_id:E.restaurante_id,restaurantes:E.restaurantes?{id:E.restaurantes.id,nombre:E.restaurantes.nombre}:null})))}catch(x){console.error(x),c([]),h([])}finally{p(!1)}}v()},[t]),l.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[l.jsxs("header",{style:{background:"#fff",padding:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",position:"sticky",top:0,zIndex:30},children:[l.jsx(rd,{onClick:()=>e(-1),style:{position:"relative",top:0,left:0}}),l.jsx("h2",{style:{fontSize:24,fontWeight:800,color:"#111827",margin:0},children:n??"Categora"})]}),l.jsx("main",{style:{maxWidth:500,margin:"0 auto",padding:16},children:f?l.jsxs("div",{style:{textAlign:"center",padding:40},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"Cargando..."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("section",{style:{marginBottom:16},children:[l.jsx("h3",{style:{margin:"8px 0"},children:"Platillos"}),o.length===0?l.jsx("p",{children:"No hay platillos en esta categora."}):l.jsx("div",{style:{display:"grid",gap:12},children:o.map(v=>l.jsxs("div",{role:"button",tabIndex:0,onClick:()=>e(`/platillo/${v.id}`),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&e(`/platillo/${v.id}`)},style:{display:"flex",gap:12,alignItems:"center",background:"#fff",borderRadius:12,padding:12,boxShadow:"0 6px 20px rgba(0,0,0,0.06)",cursor:"pointer"},children:[l.jsx("div",{style:{width:84,height:84,borderRadius:8,overflow:"hidden",flex:"0 0 84px"},children:l.jsx("img",{src:v.imagen_url||"/placeholder.png",alt:v.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[l.jsx("h4",{style:{fontSize:15,margin:0},children:v.nombre}),l.jsxs("div",{style:{fontWeight:700},children:["$",v.precio.toFixed(2)]})]}),l.jsx("p",{style:{margin:"6px 0 0 0",color:"#6b7280",fontSize:13},children:v.descripcion}),v.restaurantes&&l.jsxs("p",{style:{margin:"6px 0 0 0",fontSize:12,color:"#374151"},children:["En: ",v.restaurantes.nombre]})]})]},v.id))})]}),l.jsxs("section",{children:[l.jsx("h3",{style:{margin:"8px 0"},children:"Bebidas"}),u.length===0?l.jsx("p",{children:"No hay bebidas en esta categora."}):l.jsx("div",{style:{display:"grid",gap:12},children:u.map(v=>l.jsxs("div",{role:"button",tabIndex:0,onClick:()=>e(`/platillo/${v.id}`),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&e(`/platillo/${v.id}`)},style:{display:"flex",gap:12,alignItems:"center",background:"#fff",borderRadius:12,padding:12,boxShadow:"0 6px 20px rgba(0,0,0,0.06)",cursor:"pointer"},children:[l.jsx("div",{style:{width:84,height:84,borderRadius:8,overflow:"hidden",flex:"0 0 84px"},children:l.jsx("img",{src:v.imagen_url||"/placeholder.png",alt:v.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[l.jsx("h4",{style:{fontSize:15,margin:0},children:v.nombre}),l.jsxs("div",{style:{fontWeight:700},children:["$",v.precio.toFixed(2)]})]}),l.jsx("p",{style:{margin:"6px 0 0 0",color:"#6b7280",fontSize:13},children:v.descripcion}),v.tamano&&l.jsxs("p",{style:{margin:"6px 0 0 0",fontSize:12,color:"#374151"},children:["Tamao: ",v.tamano,"  ",v.temperatura]})]})]},v.id))})]})]})})]})}function _O(){const t=Ze(),[e,n]=g.useState([]),[i,o]=g.useState(!0);g.useEffect(()=>{c()},[]);async function c(){try{const{data:u,error:h}=await ce.from("categorias").select("*").order("orden",{ascending:!0});h?(console.error("Error cargando categoras:",h),n([])):n(u||[])}catch(u){console.error(u),n([])}finally{o(!1)}}return l.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[l.jsx("header",{style:{background:"#fff",padding:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",position:"sticky",top:0,zIndex:30},children:l.jsxs("h1",{style:{fontSize:24,fontWeight:800,color:"#111827",margin:0,display:"flex",alignItems:"center",gap:8},children:[l.jsx("span",{style:{fontSize:28},children:""}),"Categoras"]})}),l.jsx("main",{style:{maxWidth:500,margin:"0 auto",padding:16},children:i?l.jsxs("div",{style:{textAlign:"center",padding:40},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"Cargando..."})]}):e.length===0?l.jsxs("div",{style:{textAlign:"center",padding:40},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"No hay categoras disponibles"})]}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:14},children:e.map(u=>l.jsxs("div",{onClick:()=>t(`/categoria/${u.id}`),style:{background:`linear-gradient(135deg, ${u.color_gradiente_inicio} 0%, ${u.color_gradiente_fin} 100%)`,borderRadius:16,padding:"20px 16px",position:"relative",overflow:"hidden",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 6px 18px rgba(102,126,234,0.3)",minHeight:140},onMouseEnter:h=>{h.currentTarget.style.transform="translateY(-4px)",h.currentTarget.style.boxShadow="0 8px 24px rgba(102,126,234,0.4)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.boxShadow="0 6px 18px rgba(102,126,234,0.3)"},children:[l.jsx("div",{style:{position:"absolute",top:10,right:10,fontSize:48,opacity:.25},children:u.emoji}),l.jsxs("div",{style:{position:"relative",zIndex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end",height:"100%"},children:[l.jsx("span",{style:{fontSize:36,marginBottom:8,display:"block"},children:u.emoji}),l.jsx("h3",{style:{color:"#fff",fontSize:18,fontWeight:800,margin:0,textShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:u.nombre})]})]},u.id))})})]})}function CO(){const t=Ze(),[e,n]=g.useState([]),[i,o]=g.useState(!0),[c,u]=g.useState(""),[h,f]=g.useState("Todos");g.useEffect(()=>{p()},[]);async function p(){try{const{data:x,error:b}=await ce.from("restaurantes").select("*").eq("activo",!0).order("calificacion",{ascending:!1});if(b)throw b;const w=(x||[]).map(j=>({...j,calificacion:parseFloat(j.calificacion)||0,costo_envio:parseFloat(j.costo_envio)||0,tiempo_entrega_min:Number(j.tiempo_entrega_min)||0}));n(w)}catch(x){console.error(x)}finally{o(!1)}}const v=e.filter(x=>{const b=`${x.nombre} ${x.descripcion}`.toLowerCase().includes(c.toLowerCase());return h==="Mejor Valorados"?b&&x.calificacion>=4.5:h==="Envo Gratis"?b&&x.costo_envio===0:b});return l.jsxs("div",{className:"restaurantes-page",children:[l.jsxs("header",{className:"restaurantes-header",children:[l.jsxs("div",{className:"header-content",children:[l.jsxs("h1",{className:"page-title-rest",children:[l.jsx("span",{className:"title-icon-rest",children:""}),"Restaurantes"]}),l.jsx("p",{className:"page-subtitle-rest",children:"Descubre los mejores lugares para comer"})]}),l.jsxs("div",{className:"search-wrapper-rest",children:[l.jsx("span",{className:"search-icon-rest",children:""}),l.jsx("input",{value:c,onChange:x=>u(x.target.value),placeholder:"Qu se te antoja hoy?",className:"search-input-rest"}),c&&l.jsx("button",{onClick:()=>u(""),className:"search-clear-rest",children:""})]}),l.jsx("div",{className:"filter-chips-rest",children:["Todos","Mejor Valorados","Envo Gratis","Cerca de m"].map(x=>l.jsx("button",{onClick:()=>f(x),className:`filter-chip-rest ${h===x?"active":""}`,children:x},x))})]}),l.jsx("main",{className:"restaurantes-main",children:i?l.jsx(TO,{}):v.length===0?l.jsx(NO,{}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"results-header",children:l.jsxs("h3",{className:"results-title",children:[h,l.jsxs("span",{className:"results-count",children:["(",v.length,")"]})]})}),l.jsx("div",{className:"restaurantes-grid",children:v.map(x=>l.jsxs("div",{onClick:()=>t(`/restaurante/${x.id}`),className:"restaurant-card",children:[l.jsx("div",{className:"restaurant-image",style:{backgroundImage:`url(${x.imagen_url})`},children:l.jsx("div",{className:"image-overlay",children:x.emoji&&l.jsx("span",{className:"restaurant-emoji",children:x.emoji})})}),l.jsxs("div",{className:"restaurant-info",children:[l.jsx("h3",{className:"restaurant-name",children:x.nombre}),l.jsx("p",{className:"restaurant-description",children:x.descripcion})]})]},x.id))})]})})]})}const TO=()=>l.jsxs("div",{className:"loader-container",children:[l.jsx("div",{className:"loader-spinner"}),l.jsx("p",{className:"loader-text",children:"Cargando restaurantes..."})]}),NO=()=>l.jsxs("div",{className:"empty-state-rest",children:[l.jsx("div",{className:"empty-icon-rest",children:""}),l.jsx("h3",{className:"empty-title-rest",children:"Sin resultados"}),l.jsx("p",{className:"empty-description-rest",children:'Prueba buscando algo diferente como "Pizza" o "Sushi"'})]});function dS({visible:t,message:e="Operacin exitosa",duration:n=1500,onClose:i}){return g.useEffect(()=>{if(!t)return;const o=setTimeout(()=>i&&i(),n);return()=>clearTimeout(o)},[t,n,i]),t?l.jsx("div",{style:LO,"aria-live":"polite",children:l.jsx("div",{style:OO,children:e})}):null}const LO={position:"fixed",left:"50%",transform:"translateX(-50%)",bottom:90,zIndex:1200},OO={background:"#10b981",color:"white",padding:"10px 16px",borderRadius:12,boxShadow:"0 8px 30px rgba(16,185,129,0.18)",fontWeight:700,minWidth:160,textAlign:"center"};function ad({visible:t,title:e,description:n,onConfirm:i,onCancel:o,confirmLabel:c="S",cancelLabel:u="Cancelar"}){return t?l.jsx("div",{style:AO,role:"dialog","aria-modal":"true",children:l.jsxs("div",{style:RO,children:[e&&l.jsx("h3",{style:{margin:0,marginBottom:8},children:e}),n&&l.jsx("p",{style:{margin:0,marginBottom:16,color:"#6b7280"},children:n}),l.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:o,style:MO,children:u}),l.jsx("button",{onClick:i,style:kO,children:c})]})]})}):null}const AO={position:"fixed",inset:0,display:"flex",alignItems:"flex-end",justifyContent:"center",background:"rgba(0,0,0,0.35)",zIndex:1400,padding:20},RO={width:"100%",maxWidth:520,background:"white",borderRadius:14,padding:18,boxShadow:"0 12px 40px rgba(2,6,23,0.12)"},kO={background:"#10b981",color:"white",border:"none",padding:"10px 14px",borderRadius:10,fontWeight:700,cursor:"pointer"},MO={background:"transparent",color:"#374151",border:"1px solid #e5e7eb",padding:"10px 14px",borderRadius:10,cursor:"pointer"};function DO(){const{id:t}=La(),e=Ze(),{usuario:n}=ot(),[i,o]=g.useState(null),[c,u]=g.useState([]),[h,f]=g.useState(!0),[p,v]=g.useState(null),[x,b]=g.useState(!1),[w,j]=g.useState(!1),[_,E]=g.useState(null);g.useEffect(()=>{t&&C()},[t]);async function C(){f(!0);try{const{data:A}=await ce.from("restaurantes").select("*").eq("id",t).single();o(A);const{data:O}=await ce.from("platillos").select("*").eq("restaurante_id",t).eq("disponible",!0).order("nombre");u(O||[])}catch(A){console.error(A)}finally{f(!1)}}const N=async(A,O)=>{if(A.stopPropagation(),!n){e("/login");return}v(O.id);try{const R=n.id,I=t;if(I){const{data:P,error:G}=await ce.from("carrito").select("id,restaurante_id").eq("usuario_id",R).neq("restaurante_id",I).limit(1).maybeSingle();if(G)throw G;if(P){E(O),j(!0),v(null);return}}await T(O)}catch(R){console.error(R)}finally{v(null)}};async function T(A){if(n)try{const O=n.id,{data:R}=await ce.from("carrito").select("id, cantidad").eq("usuario_id",O).eq("platillo_id",A.id).maybeSingle();R?await ce.from("carrito").update({cantidad:R.cantidad+1}).eq("id",R.id):await ce.from("carrito").insert({usuario_id:O,platillo_id:A.id,restaurante_id:t,cantidad:1,precio_unitario:A.precio}),b(!0)}catch(O){throw console.error(O),O}}async function k(){if(j(!1),!!_){v(_.id);try{const A=n.id,{error:O}=await ce.from("carrito").delete().eq("usuario_id",A);if(O)throw O;await T(_)}catch(A){console.error(A)}finally{v(null),E(null)}}}return h?l.jsx(e5,{}):i?l.jsxs("div",{style:{minHeight:"100vh",background:"#ffffff",paddingBottom:"100px"},children:[l.jsxs("div",{style:PO,children:[l.jsx("div",{style:{...zO,backgroundImage:`url(${i.imagen_url})`}}),l.jsx("div",{style:UO}),l.jsx(rd,{onClick:()=>e(-1),style:{top:25,left:20}}),l.jsxs("div",{style:BO,children:[l.jsx("div",{style:IO,children:"Populares hoy"}),l.jsx("h1",{style:{...$O,color:"#ffffff"},children:i.nombre}),l.jsx("div",{style:VO,children:" "})]})]}),l.jsxs("main",{style:HO,children:[l.jsxs("div",{style:qO,children:[l.jsx("h2",{style:{fontSize:"22px",fontWeight:800},children:"Nuestro Men"}),l.jsxs("span",{style:{color:"#000000ff",fontSize:"14px"},children:[c.length," opciones"]})]}),l.jsx("div",{style:FO,children:c.map(A=>l.jsxs("div",{style:GO,onClick:()=>e(`/platillo/${A.id}`),children:[l.jsxs("div",{style:WO,children:[l.jsx("img",{src:A.imagen_url||"/placeholder.png",alt:A.nombre,style:KO}),l.jsxs("div",{style:YO,children:["L ",A.precio.toFixed(2)]})]}),l.jsxs("div",{style:ZO,children:[l.jsx("h3",{style:XO,children:A.nombre}),l.jsx("p",{style:JO,children:A.descripcion}),l.jsx("button",{disabled:p===A.id,onClick:O=>N(O,A),style:{...QO,background:p===A.id?"#ecfdf5":"#10b981",color:p===A.id?"#10b981":"#fff"},children:p===A.id?"...":"+ Aadir"})]})]},A.id))})]}),l.jsx(ad,{visible:w,title:"Carrito contiene items de otro restaurante",description:"Tu carrito contiene productos de otro restaurante. Deseas vaciar el carrito y agregar este platillo?",onCancel:()=>j(!1),onConfirm:k,confirmLabel:"Vaciar y agregar",cancelLabel:"Cancelar"}),l.jsx(dS,{visible:x,message:"Aadido al carrito",onClose:()=>b(!1)})]}):l.jsx(t5,{navigate:e})}const PO={position:"relative",height:"40vh",width:"100%",overflow:"hidden",display:"flex",alignItems:"flex-end"},zO={position:"absolute",inset:0,backgroundSize:"cover",backgroundPosition:"center",transform:"scale(1.1)"},UO={position:"absolute",inset:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 60%)"},BO={position:"relative",padding:"30px",color:"white",width:"100%"},IO={background:"#fbbf24",color:"#000",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:800,textTransform:"uppercase",width:"fit-content",marginBottom:"10px"},$O={fontSize:"36px",fontWeight:900,margin:"0 0 8px 0",letterSpacing:"-1px"},VO={display:"flex",gap:"12px",fontSize:"14px",fontWeight:500,opacity:.9},HO={maxWidth:"1200px",margin:"0 auto",padding:"40px 20px"},qO={display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"30px",borderBottom:"2px solid #f8fafc",paddingBottom:"15px"},FO={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"25px"},GO={background:"#fff",borderRadius:"24px",overflow:"hidden",border:"1px solid #f1f5f9",cursor:"pointer",transition:"all 0.3s ease",display:"flex",flexDirection:"column"},WO={position:"relative",height:"200px"},KO={width:"100%",height:"100%",objectFit:"cover"},YO={position:"absolute",bottom:"12px",right:"12px",background:"white",padding:"6px 12px",borderRadius:"12px",fontWeight:800,color:"#10b981",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},ZO={padding:"20px",display:"flex",flexDirection:"column",flex:1},XO={fontSize:"18px",fontWeight:800,margin:"0 0 8px 0",color:"#1e293b"},JO={fontSize:"13px",color:"#64748b",margin:"0 0 20px 0",lineHeight:"1.5",flex:1},QO={width:"100%",padding:"12px",borderRadius:"14px",border:"none",fontWeight:700,cursor:"pointer",transition:"0.2s"};function e5(){return l.jsxs("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#fff"},children:[l.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #f3f3f3",borderTop:"3px solid #10b981",borderRadius:"50%",animation:"spin 1s linear infinite"}}),l.jsx("style",{children:"@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }"})]})}function t5({navigate:t}){return l.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("h2",{style:{fontWeight:800},children:"Restaurante no disponible"}),l.jsx("button",{onClick:()=>t("/restaurantes"),style:{marginTop:"20px",padding:"12px 24px",borderRadius:"12px",border:"none",background:"#000",color:"#fff",cursor:"pointer"},children:"Explorar otros"})]})}function Aa({isOpen:t,onClose:e,title:n,message:i,type:o="info"}){const c=()=>{switch(o){case"success":return"";case"error":return"";case"warning":return"";default:return""}},h=(()=>{switch(o){case"success":return{bg:"linear-gradient(135deg, #10b981 0%, #059669 100%)",border:"#34d399"};case"error":return{bg:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",border:"#f87171"};case"warning":return{bg:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",border:"#fbbf24"};default:return{bg:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",border:"#60a5fa"}}})();return l.jsx(Qn,{show:t,as:g.Fragment,children:l.jsxs(fi,{as:"div",onClose:e,style:{position:"fixed",inset:0,zIndex:10500},children:[l.jsx(Qn.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)"}})}),l.jsx("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:l.jsx(Qn.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:l.jsxs(fi.Panel,{style:{width:"100%",maxWidth:"400px",background:"#ffffff",borderRadius:"24px",padding:"0",boxShadow:"0 25px 60px rgba(0, 0, 0, 0.3)",overflow:"hidden"},children:[l.jsxs("div",{style:{background:h.bg,padding:"24px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"64px",marginBottom:"8px",filter:"drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2))"},children:c()}),n&&l.jsx(fi.Title,{style:{fontSize:"24px",fontWeight:800,color:"#ffffff",margin:0},children:n})]}),l.jsxs("div",{style:{padding:"32px 24px"},children:[l.jsx("p",{style:{fontSize:"16px",color:"#1e293b",margin:"0 0 24px 0",lineHeight:"1.6",textAlign:"center",fontWeight:500},children:i}),l.jsx("button",{onClick:e,style:{width:"100%",padding:"14px 24px",borderRadius:"12px",background:h.bg,color:"#ffffff",fontSize:"16px",fontWeight:700,border:"none",cursor:"pointer",transition:"all 0.3s ease",boxShadow:`0 4px 16px ${h.border}80`},onMouseEnter:f=>{f.currentTarget.style.transform="scale(1.02)",f.currentTarget.style.boxShadow=`0 6px 20px ${h.border}99`},onMouseLeave:f=>{f.currentTarget.style.transform="scale(1)",f.currentTarget.style.boxShadow=`0 4px 16px ${h.border}80`},children:"Entendido"})]})]})})})]})})}function Ra(){const[t,e]=g.useState({isOpen:!1,message:"",type:"info"});return{modalState:t,showInfo:(h,f)=>{e({isOpen:!0,message:h,title:f,type:"info"})},showSuccess:(h,f)=>{e({isOpen:!0,message:h,title:f||"xito!",type:"success"})},showError:(h,f)=>{e({isOpen:!0,message:h,title:f||"Error",type:"error"})},showWarning:(h,f)=>{e({isOpen:!0,message:h,title:f||"Atencin",type:"warning"})},closeModal:()=>{e(h=>({...h,isOpen:!1}))}}}function n5(){const{id:t}=La(),e=Ze(),{usuario:n}=ot(),{modalState:i,showError:o,closeModal:c}=Ra(),[u,h]=g.useState(null),[f,p]=g.useState(!0),[v,x]=g.useState(!1),[b,w]=g.useState(1),[j,_]=g.useState(""),[E,C]=g.useState(!1),[N,T]=g.useState(!1),[k,A]=g.useState(null);g.useEffect(()=>{t&&O()},[t]);async function O(){p(!0);try{const{data:G,error:se}=await ce.from("platillos").select("id,nombre,descripcion,imagen_url,precio,disponible,restaurante_id,restaurantes(id,nombre)").eq("id",t).single();if(se)throw se;const re=Array.isArray(G.restaurantes)?G.restaurantes[0]:G.restaurantes;h({...G,restaurante:re?{id:re.id,nombre:re.nombre}:null})}catch(G){console.error(G),h(null)}finally{p(!1)}}async function R(G,se){const{data:re,error:ee}=await ce.from("carrito").select("id,cantidad").eq("usuario_id",G).eq("platillo_id",u.id).maybeSingle();if(ee)throw ee;if(re){const ae=(re.cantidad||0)+b,{error:oe}=await ce.from("carrito").update({cantidad:ae,notas:j||null}).eq("id",re.id);if(oe)throw oe}else{const ae={usuario_id:G,platillo_id:u.id,cantidad:b,notas:j||null,precio_unitario:u.precio??0,restaurante_id:se},{error:oe}=await ce.from("carrito").insert(ae);if(oe)throw oe}C(!0),setTimeout(()=>e("/carrito"),900)}async function I(){if(!n){e("/login");return}if(u){x(!0);try{const G=n.id,se=u.restaurante?.id??u.restaurante_id;if(se){const{data:re,error:ee}=await ce.from("carrito").select("id,restaurante_id").eq("usuario_id",G).neq("restaurante_id",se).limit(1).maybeSingle();if(ee)throw ee;if(re){A(se),T(!0),x(!1);return}}await R(G,se||null)}catch(G){console.error("Error agregarAlCarrito:",G),o(G?.message||"No se pudo agregar al carrito. Intenta de nuevo.")}finally{x(!1)}}}async function P(){T(!1),x(!0);try{const G=n.id,{error:se}=await ce.from("carrito").delete().eq("usuario_id",G);if(se)throw se;await R(G,k)}catch(G){console.error(G),o(G?.message||"No se pudo vaciar/agregar al carrito.")}finally{x(!1),A(null)}}return f?l.jsx(s5,{}):u?l.jsxs("div",{className:"detalle-page",style:{minHeight:"100vh",background:"#fff",paddingBottom:120},children:[l.jsx(rd,{onClick:()=>e(-1),style:{top:20,left:20}}),l.jsx("div",{style:{width:"100%",height:300,overflow:"hidden",position:"relative"},children:l.jsx("img",{src:u.imagen_url||"/placeholder.png",alt:u.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),l.jsxs("div",{style:{maxWidth:600,margin:"0 auto",padding:"24px 20px"},children:[l.jsxs("div",{style:{marginBottom:24},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsx("h1",{style:{fontSize:28,fontWeight:800,margin:0,color:"#111827"},children:u.nombre}),l.jsxs("div",{style:{fontSize:22,fontWeight:700,color:"#059669"},children:["$",(u.precio||0).toFixed(2)]})]}),u.restaurante&&l.jsxs("p",{onClick:()=>e(`/restaurante/${u.restaurante?.id}`),style:{color:"#4f46e5",fontWeight:600,marginTop:4,cursor:"pointer",fontSize:14},children:[" ",u.restaurante.nombre]}),l.jsx("p",{style:{color:"#4b5563",lineHeight:"1.6",marginTop:16,fontSize:16},children:u.descripcion||"Sin descripcin disponible."})]}),l.jsx("hr",{style:{border:"0.5px solid #f3f4f6",margin:"24px 0"}}),l.jsxs("div",{style:{marginBottom:32},children:[l.jsx("label",{style:{display:"block",fontWeight:700,marginBottom:12,fontSize:15},children:"Instrucciones especiales"}),l.jsx("textarea",{placeholder:"Ej. Quitar cebolla, salsa aparte...",value:j,onChange:G=>_(G.target.value),className:"notes"})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:24,marginBottom:40},children:[l.jsx("button",{onClick:()=>w(G=>Math.max(1,G-1)),style:ob,className:"qty-btn",children:""}),l.jsx("span",{style:{fontSize:20,fontWeight:700,minWidth:20,textAlign:"center"},children:b}),l.jsx("button",{onClick:()=>w(G=>G+1),style:ob,className:"qty-btn",children:"+"})]})]}),l.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,background:"#fff",padding:"20px",borderTop:"1px solid #f3f4f6",boxShadow:"0 -4px 20px rgba(0,0,0,0.05)",zIndex:100},children:l.jsx("div",{style:{maxWidth:600,margin:"0 auto"},children:l.jsxs("button",{onClick:I,disabled:!u.disponible||v,style:{width:"100%",padding:"18px",borderRadius:14,border:"none",background:u.disponible?"#111827":"#9ca3af",color:"#fff",fontSize:16,fontWeight:700,cursor:u.disponible?"pointer":"not-allowed",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{children:v?"Agregando...":"Aadir al carrito"}),l.jsxs("span",{style:{opacity:.9},children:["$",((u.precio||0)*b).toFixed(2)]})]})})}),l.jsx(ad,{visible:N,title:"Carrito contiene items de otro restaurante",description:"Tu carrito contiene productos de otro restaurante. Deseas vaciar el carrito y agregar este platillo?",onCancel:()=>T(!1),onConfirm:P,confirmLabel:"Vaciar y agregar",cancelLabel:"Cancelar"}),l.jsx(dS,{visible:E,message:"Aadido al carrito",onClose:()=>C(!1)}),l.jsx(Aa,{isOpen:i.isOpen,onClose:c,title:i.title,message:i.message,type:i.type})]}):l.jsx(i5,{navigate:e})}const ob={width:48,height:48,borderRadius:"50%",border:"1px solid #e5e7eb",background:"#fff",fontSize:24,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"};function s5(){return l.jsxs("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[l.jsx("div",{className:"spinner",style:{border:"4px solid #f3f3f3",borderTop:"4px solid #4f46e5",borderRadius:"50%",width:40,height:40,animation:"spin 1s linear infinite"}}),l.jsx("style",{children:"@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }"})]})}function i5({navigate:t}){return l.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:20,textAlign:"center"},children:[l.jsx("h2",{style:{fontSize:24,marginBottom:8},children:"Platillo no encontrado"}),l.jsx("p",{style:{color:"#6b7280",marginBottom:24},children:"Lo sentimos, no pudimos encontrar lo que buscabas."}),l.jsx("button",{onClick:()=>t(-1),style:{padding:"12px 24px",background:"#4f46e5",color:"#fff",borderRadius:12,border:"none",fontWeight:600},children:"Volver atrs"})]})}function r5(){const t=Ze(),{usuario:e,setUsuario:n,logout:i}=ot(),[o,c]=g.useState(!1),[u,h]=g.useState(!1),[f,p]=g.useState(""),[v,x]=g.useState({nombre:e?.nombre||"",telefono:e?.telefono||"",direccion:e?.direccion||""}),b=_=>{x({...v,[_.target.name]:_.target.value})},w=async _=>{if(_.preventDefault(),!!e){h(!0),p("");try{const{data:E,error:C}=await ce.from("usuarios").update({nombre:v.nombre,telefono:v.telefono,direccion:v.direccion,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();C?(console.error("Error al actualizar:",C),p("Error al actualizar los datos")):E&&(n(E),p("Datos actualizados correctamente"),c(!1))}catch(E){console.error("Error:",E),p("Error al actualizar los datos")}finally{h(!1)}}},j=()=>{i(),t("/")};return e?l.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[l.jsx($e,{}),l.jsxs("main",{style:{maxWidth:600,margin:"0 auto",padding:"20px 16px"},children:[l.jsxs("div",{style:{background:"#fff",borderRadius:16,padding:"24px 20px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:24},children:[l.jsx("div",{style:{width:80,height:80,borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:36,color:"#fff",fontWeight:700},children:e.nombre.charAt(0).toUpperCase()}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h1",{style:{margin:0,fontSize:24,fontWeight:800,color:"#0f172a"},children:e.nombre}),l.jsx("p",{style:{margin:"4px 0 0 0",color:"#6b7280",fontSize:14},children:e.email}),l.jsx("span",{style:{display:"inline-block",marginTop:8,padding:"4px 12px",borderRadius:20,background:"#dbeafe",color:"#1e40af",fontSize:12,fontWeight:600},children:e.tipo_usuario==="cliente"?"Cliente":e.tipo_usuario})]})]}),f&&l.jsx("div",{style:{padding:"12px 16px",borderRadius:8,background:f.includes("Error")?"#fee2e2":"#d1fae5",color:f.includes("Error")?"#991b1b":"#065f46",marginBottom:20,fontSize:14},children:f}),o?l.jsxs("form",{onSubmit:w,children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16,marginBottom:20},children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"nombre",style:{display:"block",fontSize:13,color:"#6b7280",fontWeight:600,marginBottom:6},children:"Nombre"}),l.jsx("input",{type:"text",id:"nombre",name:"nombre",value:v.nombre,onChange:b,required:!0,style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:15,outline:"none",boxSizing:"border-box"}})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"telefono",style:{display:"block",fontSize:13,color:"#6b7280",fontWeight:600,marginBottom:6},children:"Telfono"}),l.jsx("input",{type:"tel",id:"telefono",name:"telefono",value:v.telefono,onChange:b,style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:15,outline:"none",boxSizing:"border-box"}})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"direccion",style:{display:"block",fontSize:13,color:"#6b7280",fontWeight:600,marginBottom:6},children:"Direccin"}),l.jsx("textarea",{id:"direccion",name:"direccion",value:v.direccion,onChange:b,rows:3,style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:15,outline:"none",boxSizing:"border-box",resize:"vertical",fontFamily:"inherit"}})]})]}),l.jsxs("div",{style:{display:"flex",gap:12},children:[l.jsx("button",{type:"button",onClick:()=>{c(!1),x({nombre:e?.nombre||"",telefono:e?.telefono||"",direccion:e?.direccion||""})},style:{flex:1,padding:"12px 16px",borderRadius:10,border:"1px solid #e5e7eb",background:"#fff",color:"#374151",fontSize:15,fontWeight:700,cursor:"pointer"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:u,style:{flex:1,padding:"12px 16px",borderRadius:10,border:"none",background:u?"#9ca3af":"#059669",color:"#fff",fontSize:15,fontWeight:700,cursor:u?"not-allowed":"pointer"},children:u?"Guardando...":"Guardar"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:20},children:[l.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:16,fontWeight:700,color:"#374151"},children:"Informacin Personal"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:13,color:"#6b7280",fontWeight:600},children:"Nombre"}),l.jsx("p",{style:{margin:"4px 0 0 0",fontSize:15,color:"#0f172a"},children:e.nombre})]}),l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:13,color:"#6b7280",fontWeight:600},children:"Telfono"}),l.jsx("p",{style:{margin:"4px 0 0 0",fontSize:15,color:"#0f172a"},children:e.telefono||"No especificado"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:13,color:"#6b7280",fontWeight:600},children:"Direccin"}),l.jsx("p",{style:{margin:"4px 0 0 0",fontSize:15,color:"#0f172a"},children:e.direccion||"No especificada"})]})]})]}),l.jsx("button",{onClick:()=>c(!0),style:{width:"100%",padding:"12px 16px",borderRadius:10,border:"none",background:"#4f46e5",color:"#fff",fontSize:15,fontWeight:700,cursor:"pointer",marginBottom:12},children:"Editar informacin"})]})]}),l.jsx("button",{onClick:j,style:{width:"100%",padding:"12px 16px",borderRadius:10,border:"none",background:"#dc2626",color:"#fff",fontSize:15,fontWeight:700,cursor:"pointer"},children:"Cerrar sesin"})]})]}):null}const _m=g.createContext({});function Cm(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const hS=typeof window<"u",fS=hS?g.useLayoutEffect:g.useEffect,od=g.createContext(null);function Tm(t,e){t.indexOf(e)===-1&&t.push(e)}function Su(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ts=(t,e,n)=>n>e?e:n<t?t:n;let Nm=()=>{};const Ts={},pS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mS(t){return typeof t=="object"&&t!==null}const gS=t=>/^0[^.\s]+$/u.test(t);function Lm(t){let e;return()=>(e===void 0&&(e=t()),e)}const Nn=t=>t,a5=(t,e)=>n=>e(t(n)),jl=(...t)=>t.reduce(a5),ol=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Om{constructor(){this.subscriptions=[]}add(e){return Tm(this.subscriptions,e),()=>Su(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $n=t=>t*1e3,Tn=t=>t/1e3;function vS(t,e){return e?t*(1e3/e):0}const yS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,o5=1e-7,l5=12;function c5(t,e,n,i,o){let c,u,h=0;do u=e+(n-e)/2,c=yS(u,i,o)-t,c>0?n=u:e=u;while(Math.abs(c)>o5&&++h<l5);return u}function Sl(t,e,n,i){if(t===e&&n===i)return Nn;const o=c=>c5(c,0,1,t,n);return c=>c===0||c===1?c:yS(o(c),e,i)}const xS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bS=t=>e=>1-t(1-e),wS=Sl(.33,1.53,.69,.99),Am=bS(wS),jS=xS(Am),SS=t=>(t*=2)<1?.5*Am(t):.5*(2-Math.pow(2,-10*(t-1))),Rm=t=>1-Math.sin(Math.acos(t)),ES=bS(Rm),_S=xS(Rm),u5=Sl(.42,0,1,1),d5=Sl(0,0,.58,1),CS=Sl(.42,0,.58,1),h5=t=>Array.isArray(t)&&typeof t[0]!="number",TS=t=>Array.isArray(t)&&typeof t[0]=="number",f5={linear:Nn,easeIn:u5,easeInOut:CS,easeOut:d5,circIn:Rm,circInOut:_S,circOut:ES,backIn:Am,backInOut:jS,backOut:wS,anticipate:SS},p5=t=>typeof t=="string",lb=t=>{if(TS(t)){Nm(t.length===4);const[e,n,i,o]=t;return Sl(e,n,i,o)}else if(p5(t))return f5[t];return t},Qc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function m5(t,e){let n=new Set,i=new Set,o=!1,c=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(v){u.has(v)&&(p.schedule(v),t()),v(h)}const p={schedule:(v,x=!1,b=!1)=>{const j=b&&o?n:i;return x&&u.add(v),j.has(v)||j.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(h=v,o){c=!0;return}o=!0,[n,i]=[i,n],n.forEach(f),n.clear(),o=!1,c&&(c=!1,p.process(v))}};return p}const g5=40;function NS(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,u=Qc.reduce((T,k)=>(T[k]=m5(c),T),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:v,update:x,preRender:b,render:w,postRender:j}=u,_=()=>{const T=Ts.useManualTiming?o.timestamp:performance.now();n=!1,Ts.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(T-o.timestamp,g5),1)),o.timestamp=T,o.isProcessing=!0,h.process(o),f.process(o),p.process(o),v.process(o),x.process(o),b.process(o),w.process(o),j.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(_))},E=()=>{n=!0,i=!0,o.isProcessing||t(_)};return{schedule:Qc.reduce((T,k)=>{const A=u[k];return T[k]=(O,R=!1,I=!1)=>(n||E(),A.schedule(O,R,I)),T},{}),cancel:T=>{for(let k=0;k<Qc.length;k++)u[Qc[k]].cancel(T)},state:o,steps:u}}const{schedule:Qe,cancel:pi,state:kt,steps:Ff}=NS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nn,!0);let ou;function v5(){ou=void 0}const $t={now:()=>(ou===void 0&&$t.set(kt.isProcessing||Ts.useManualTiming?kt.timestamp:performance.now()),ou),set:t=>{ou=t,queueMicrotask(v5)}},LS=t=>e=>typeof e=="string"&&e.startsWith(t),OS=LS("--"),y5=LS("var(--"),km=t=>y5(t)?x5.test(t.split("/*")[0].trim()):!1,x5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function cb(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ka={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ll={...ka,transform:t=>ts(0,1,t)},eu={...ka,default:1},Ko=t=>Math.round(t*1e5)/1e5,Mm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function b5(t){return t==null}const w5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dm=(t,e)=>n=>!!(typeof n=="string"&&w5.test(n)&&n.startsWith(t)||e&&!b5(n)&&Object.prototype.hasOwnProperty.call(n,e)),AS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,c,u,h]=i.match(Mm);return{[t]:parseFloat(o),[e]:parseFloat(c),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},j5=t=>ts(0,255,t),Gf={...ka,transform:t=>Math.round(j5(t))},sr={test:Dm("rgb","red"),parse:AS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Gf.transform(t)+", "+Gf.transform(e)+", "+Gf.transform(n)+", "+Ko(ll.transform(i))+")"};function S5(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Mp={test:Dm("#"),parse:S5,transform:sr.transform},El=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ni=El("deg"),es=El("%"),de=El("px"),E5=El("vh"),_5=El("vw"),ub={...es,parse:t=>es.parse(t)/100,transform:t=>es.transform(t*100)},ma={test:Dm("hsl","hue"),parse:AS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+es.transform(Ko(e))+", "+es.transform(Ko(n))+", "+Ko(ll.transform(i))+")"},xt={test:t=>sr.test(t)||Mp.test(t)||ma.test(t),parse:t=>sr.test(t)?sr.parse(t):ma.test(t)?ma.parse(t):Mp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?sr.transform(t):ma.transform(t),getAnimatableNone:t=>{const e=xt.parse(t);return e.alpha=0,xt.transform(e)}},C5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function T5(t){return isNaN(t)&&typeof t=="string"&&(t.match(Mm)?.length||0)+(t.match(C5)?.length||0)>0}const RS="number",kS="color",N5="var",L5="var(",db="${}",O5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cl(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let c=0;const h=e.replace(O5,f=>(xt.test(f)?(i.color.push(c),o.push(kS),n.push(xt.parse(f))):f.startsWith(L5)?(i.var.push(c),o.push(N5),n.push(f)):(i.number.push(c),o.push(RS),n.push(parseFloat(f))),++c,db)).split(db);return{values:n,split:h,indexes:i,types:o}}function MS(t){return cl(t).values}function DS(t){const{split:e,types:n}=cl(t),i=e.length;return o=>{let c="";for(let u=0;u<i;u++)if(c+=e[u],o[u]!==void 0){const h=n[u];h===RS?c+=Ko(o[u]):h===kS?c+=xt.transform(o[u]):c+=o[u]}return c}}const A5=t=>typeof t=="number"?0:xt.test(t)?xt.getAnimatableNone(t):t;function R5(t){const e=MS(t);return DS(t)(e.map(A5))}const mi={test:T5,parse:MS,createTransformer:DS,getAnimatableNone:R5};function Wf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function k5({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,c=0,u=0;if(!e)o=c=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;o=Wf(f,h,t+1/3),c=Wf(f,h,t),u=Wf(f,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:i}}function Eu(t,e){return n=>n>0?e:t}const at=(t,e,n)=>t+(e-t)*n,Kf=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},M5=[Mp,sr,ma],D5=t=>M5.find(e=>e.test(t));function hb(t){const e=D5(t);if(!e)return!1;let n=e.parse(t);return e===ma&&(n=k5(n)),n}const fb=(t,e)=>{const n=hb(t),i=hb(e);if(!n||!i)return Eu(t,e);const o={...n};return c=>(o.red=Kf(n.red,i.red,c),o.green=Kf(n.green,i.green,c),o.blue=Kf(n.blue,i.blue,c),o.alpha=at(n.alpha,i.alpha,c),sr.transform(o))},Dp=new Set(["none","hidden"]);function P5(t,e){return Dp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function z5(t,e){return n=>at(t,e,n)}function Pm(t){return typeof t=="number"?z5:typeof t=="string"?km(t)?Eu:xt.test(t)?fb:I5:Array.isArray(t)?PS:typeof t=="object"?xt.test(t)?fb:U5:Eu}function PS(t,e){const n=[...t],i=n.length,o=t.map((c,u)=>Pm(c)(c,e[u]));return c=>{for(let u=0;u<i;u++)n[u]=o[u](c);return n}}function U5(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=Pm(t[o])(t[o],e[o]));return o=>{for(const c in i)n[c]=i[c](o);return n}}function B5(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],u=t.indexes[c][i[c]],h=t.values[u]??0;n[o]=h,i[c]++}return n}const I5=(t,e)=>{const n=mi.createTransformer(e),i=cl(t),o=cl(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Dp.has(t)&&!o.values.length||Dp.has(e)&&!i.values.length?P5(t,e):jl(PS(B5(i,o),o.values),n):Eu(t,e)};function zS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?at(t,e,n):Pm(t)(t,e)}const $5=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Qe.update(e,n),stop:()=>pi(e),now:()=>kt.isProcessing?kt.timestamp:$t.now()}},US=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let c=0;c<o;c++)i+=Math.round(t(c/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},_u=2e4;function zm(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<_u;)e+=n,i=t.next(e);return e>=_u?1/0:e}function V5(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(zm(i),_u);return{type:"keyframes",ease:c=>i.next(o*c).value/e,duration:Tn(o)}}const H5=5;function BS(t,e,n){const i=Math.max(e-H5,0);return vS(n-t(i),e-i)}const dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yf=.001;function q5({duration:t=dt.duration,bounce:e=dt.bounce,velocity:n=dt.velocity,mass:i=dt.mass}){let o,c,u=1-e;u=ts(dt.minDamping,dt.maxDamping,u),t=ts(dt.minDuration,dt.maxDuration,Tn(t)),u<1?(o=p=>{const v=p*u,x=v*t,b=v-n,w=Pp(p,u),j=Math.exp(-x);return Yf-b/w*j},c=p=>{const x=p*u*t,b=x*n+n,w=Math.pow(u,2)*Math.pow(p,2)*t,j=Math.exp(-x),_=Pp(Math.pow(p,2),u);return(-o(p)+Yf>0?-1:1)*((b-w)*j)/_}):(o=p=>{const v=Math.exp(-p*t),x=(p-n)*t+1;return-Yf+v*x},c=p=>{const v=Math.exp(-p*t),x=(n-p)*(t*t);return v*x});const h=5/t,f=G5(o,c,h);if(t=$n(t),isNaN(f))return{stiffness:dt.stiffness,damping:dt.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const F5=12;function G5(t,e,n){let i=n;for(let o=1;o<F5;o++)i=i-t(i)/e(i);return i}function Pp(t,e){return t*Math.sqrt(1-e*e)}const W5=["duration","bounce"],K5=["stiffness","damping","mass"];function pb(t,e){return e.some(n=>t[n]!==void 0)}function Y5(t){let e={velocity:dt.velocity,stiffness:dt.stiffness,damping:dt.damping,mass:dt.mass,isResolvedFromDuration:!1,...t};if(!pb(t,K5)&&pb(t,W5))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,c=2*ts(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:dt.mass,stiffness:o,damping:c}}else{const n=q5(t);e={...e,...n,mass:dt.mass},e.isResolvedFromDuration=!0}return e}function Cu(t=dt.visualDuration,e=dt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const c=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:c},{stiffness:f,damping:p,mass:v,duration:x,velocity:b,isResolvedFromDuration:w}=Y5({...n,velocity:-Tn(n.velocity||0)}),j=b||0,_=p/(2*Math.sqrt(f*v)),E=u-c,C=Tn(Math.sqrt(f/v)),N=Math.abs(E)<5;i||(i=N?dt.restSpeed.granular:dt.restSpeed.default),o||(o=N?dt.restDelta.granular:dt.restDelta.default);let T;if(_<1){const A=Pp(C,_);T=O=>{const R=Math.exp(-_*C*O);return u-R*((j+_*C*E)/A*Math.sin(A*O)+E*Math.cos(A*O))}}else if(_===1)T=A=>u-Math.exp(-C*A)*(E+(j+C*E)*A);else{const A=C*Math.sqrt(_*_-1);T=O=>{const R=Math.exp(-_*C*O),I=Math.min(A*O,300);return u-R*((j+_*C*E)*Math.sinh(I)+A*E*Math.cosh(I))/A}}const k={calculatedDuration:w&&x||null,next:A=>{const O=T(A);if(w)h.done=A>=x;else{let R=A===0?j:0;_<1&&(R=A===0?$n(j):BS(T,A,O));const I=Math.abs(R)<=i,P=Math.abs(u-O)<=o;h.done=I&&P}return h.value=h.done?u:O,h},toString:()=>{const A=Math.min(zm(k),_u),O=US(R=>k.next(A*R).value,A,30);return A+"ms "+O},toTransition:()=>{}};return k}Cu.applyToOptions=t=>{const e=V5(t,100,Cu);return t.ease=e.ease,t.duration=$n(e.duration),t.type="keyframes",t};function zp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:v}){const x=t[0],b={done:!1,value:x},w=I=>h!==void 0&&I<h||f!==void 0&&I>f,j=I=>h===void 0?f:f===void 0||Math.abs(h-I)<Math.abs(f-I)?h:f;let _=n*e;const E=x+_,C=u===void 0?E:u(E);C!==E&&(_=C-x);const N=I=>-_*Math.exp(-I/i),T=I=>C+N(I),k=I=>{const P=N(I),G=T(I);b.done=Math.abs(P)<=p,b.value=b.done?C:G};let A,O;const R=I=>{w(b.value)&&(A=I,O=Cu({keyframes:[b.value,j(b.value)],velocity:BS(T,I,b.value),damping:o,stiffness:c,restDelta:p,restSpeed:v}))};return R(0),{calculatedDuration:null,next:I=>{let P=!1;return!O&&A===void 0&&(P=!0,k(I),R(I)),A!==void 0&&I>=A?O.next(I-A):(!P&&k(I),b)}}}function Z5(t,e,n){const i=[],o=n||Ts.mix||zS,c=t.length-1;for(let u=0;u<c;u++){let h=o(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Nn:e;h=jl(f,h)}i.push(h)}return i}function X5(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const c=t.length;if(Nm(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=Z5(e,i,o),f=h.length,p=v=>{if(u&&v<t[0])return e[0];let x=0;if(f>1)for(;x<t.length-2&&!(v<t[x+1]);x++);const b=ol(t[x],t[x+1],v);return h[x](b)};return n?v=>p(ts(t[0],t[c-1],v)):p}function J5(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=ol(0,e,i);t.push(at(n,1,o))}}function Q5(t){const e=[0];return J5(e,t.length-1),e}function eA(t,e){return t.map(n=>n*e)}function tA(t,e){return t.map(()=>e||CS).splice(0,t.length-1)}function Yo({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=h5(i)?i.map(lb):lb(i),c={done:!1,value:e[0]},u=eA(n&&n.length===e.length?n:Q5(e),t),h=X5(u,e,{ease:Array.isArray(o)?o:tA(e,o)});return{calculatedDuration:t,next:f=>(c.value=h(f),c.done=f>=t,c)}}const nA=t=>t!==null;function Um(t,{repeat:e,repeatType:n="loop"},i,o=1){const c=t.filter(nA),h=o<0||e&&n!=="loop"&&e%2===1?0:c.length-1;return!h||i===void 0?c[h]:i}const sA={decay:zp,inertia:zp,tween:Yo,keyframes:Yo,spring:Cu};function IS(t){typeof t.type=="string"&&(t.type=sA[t.type])}class Bm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const iA=t=>t/100;class Im extends Bm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==$t.now()&&this.tick($t.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;IS(e);const{type:n=Yo,repeat:i=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=e;let{keyframes:h}=e;const f=n||Yo;f!==Yo&&typeof h[0]!="number"&&(this.mixKeyframes=jl(iA,zS(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});c==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=zm(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:v,repeat:x,repeatType:b,repeatDelay:w,type:j,onUpdate:_,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-p*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let T=this.currentTime,k=i;if(x){const I=Math.min(this.currentTime,o)/h;let P=Math.floor(I),G=I%1;!G&&I>=1&&(G=1),G===1&&P--,P=Math.min(P,x+1),P%2&&(b==="reverse"?(G=1-G,w&&(G-=w/h)):b==="mirror"&&(k=u)),T=ts(0,1,G)*h}const A=N?{done:!1,value:v[0]}:k.next(T);c&&(A.value=c(A.value));let{done:O}=A;!N&&f!==null&&(O=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return R&&j!==zp&&(A.value=Um(v,this.options,E,this.speed)),_&&_(A.value),R&&this.finish(),A}then(e,n){return this.finished.then(e,n)}get duration(){return Tn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Tn(e)}get time(){return Tn(this.currentTime)}set time(e){e=$n(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime($t.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Tn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=$5,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($t.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function rA(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ir=t=>t*180/Math.PI,Up=t=>{const e=ir(Math.atan2(t[1],t[0]));return Bp(e)},aA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Up,rotateZ:Up,skewX:t=>ir(Math.atan(t[1])),skewY:t=>ir(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Bp=t=>(t=t%360,t<0&&(t+=360),t),mb=Up,gb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),vb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),oA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gb,scaleY:vb,scale:t=>(gb(t)+vb(t))/2,rotateX:t=>Bp(ir(Math.atan2(t[6],t[5]))),rotateY:t=>Bp(ir(Math.atan2(-t[2],t[0]))),rotateZ:mb,rotate:mb,skewX:t=>ir(Math.atan(t[4])),skewY:t=>ir(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ip(t){return t.includes("scale")?1:0}function $p(t,e){if(!t||t==="none")return Ip(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=oA,o=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=aA,o=h}if(!o)return Ip(e);const c=i[e],u=o[1].split(",").map(cA);return typeof c=="function"?c(u):u[c]}const lA=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return $p(n,e)};function cA(t){return parseFloat(t.trim())}const Ma=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Da=new Set(Ma),yb=t=>t===ka||t===de,uA=new Set(["x","y","z"]),dA=Ma.filter(t=>!uA.has(t));function hA(t){const e=[];return dA.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const ui={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>$p(e,"x"),y:(t,{transform:e})=>$p(e,"y")};ui.translateX=ui.x;ui.translateY=ui.y;const rr=new Set;let Vp=!1,Hp=!1,qp=!1;function $S(){if(Hp){const t=Array.from(rr).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=hA(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([c,u])=>{i.getValue(c)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Hp=!1,Vp=!1,rr.forEach(t=>t.complete(qp)),rr.clear()}function VS(){rr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Hp=!0)})}function fA(){qp=!0,VS(),$S(),qp=!1}class $m{constructor(e,n,i,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(rr.add(this),Vp||(Vp=!0,Qe.read(VS),Qe.resolveKeyframes($S))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const c=o?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&n){const h=i.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),o&&c===void 0&&o.set(e[0])}rA(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),rr.delete(this)}cancel(){this.state==="scheduled"&&(rr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const pA=t=>t.startsWith("--");function mA(t,e,n){pA(e)?t.style.setProperty(e,n):t.style[e]=n}const gA=Lm(()=>window.ScrollTimeline!==void 0),vA={};function yA(t,e){const n=Lm(t);return()=>vA[e]??n()}const HS=yA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vo=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,xb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vo([0,.65,.55,1]),circOut:Vo([.55,0,1,.45]),backIn:Vo([.31,.01,.66,-.59]),backOut:Vo([.33,1.53,.69,.99])};function qS(t,e){if(t)return typeof t=="function"?HS()?US(t,e):"ease-out":TS(t)?Vo(t):Array.isArray(t)?t.map(n=>qS(n,e)||xb.easeOut):xb[t]}function xA(t,e,n,{delay:i=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:h="easeOut",times:f}={},p=void 0){const v={[e]:n};f&&(v.offset=f);const x=qS(h,o);Array.isArray(x)&&(v.easing=x);const b={delay:i,duration:o,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(v,b)}function FS(t){return typeof t=="function"&&"applyToOptions"in t}function bA({type:t,...e}){return FS(t)&&HS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class GS extends Bm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,Nm(typeof e.type!="string");const p=bA(e);this.animation=xA(n,i,o,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const v=Um(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):mA(n,i,v),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Tn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Tn(e)}get time(){return Tn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=$n(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&gA()?(this.animation.timeline=e,Nn):n(this)}}const WS={anticipate:SS,backInOut:jS,circInOut:_S};function wA(t){return t in WS}function jA(t){typeof t.ease=="string"&&wA(t.ease)&&(t.ease=WS[t.ease])}const Zf=10;class SA extends GS{constructor(e){jA(e),IS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:c,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Im({...u,autoplay:!1}),f=Math.max(Zf,$t.now()-this.startTime),p=ts(0,Zf,f-Zf);n.setWithVelocity(h.sample(Math.max(0,f-p)).value,h.sample(f).value,p),h.stop()}}const bb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mi.test(t)||t==="0")&&!t.startsWith("url("));function EA(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function _A(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],u=bb(o,e),h=bb(c,e);return!u||!h?!1:EA(t)||(n==="spring"||FS(n))&&i}function Fp(t){t.duration=0,t.type="keyframes"}const CA=new Set(["opacity","clipPath","filter","transform"]),TA=Lm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NA(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:c,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return TA()&&n&&CA.has(n)&&(n!=="transform"||!p)&&!f&&!i&&o!=="mirror"&&c!==0&&u!=="inertia"}const LA=40;class OA extends Bm{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:h,name:f,motionValue:p,element:v,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=$t.now();const b={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:c,repeatType:u,name:f,motionValue:p,element:v,...x},w=v?.KeyframeResolver||$m;this.keyframeResolver=new w(h,(j,_,E)=>this.onKeyframesResolved(j,_,b,!E),f,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:h,delay:f,isHandoff:p,onUpdate:v}=i;this.resolvedAt=$t.now(),_A(e,c,u,h)||((Ts.instantAnimations||!f)&&v?.(Um(e,i,n)),e[0]=e[e.length-1],Fp(i),i.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>LA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},w=!p&&NA(b),j=b.motionValue?.owner?.current,_=w?new SA({...b,element:j}):new Im(b);_.finished.then(()=>{this.notifyFinished()}).catch(Nn),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),fA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function KS(t,e,n,i=0,o=1){const c=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),u=t.size,h=(u-1)*i;return typeof n=="function"?n(c,u):o===1?c*i:h-c*i}const AA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RA(t){const e=AA.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function YS(t,e,n=1){const[i,o]=RA(t);if(!i)return;const c=window.getComputedStyle(e).getPropertyValue(i);if(c){const u=c.trim();return pS(u)?parseFloat(u):u}return km(o)?YS(o,e,n+1):o}const kA={type:"spring",stiffness:500,damping:25,restSpeed:10},MA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),DA={type:"keyframes",duration:.8},PA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zA=(t,{keyframes:e})=>e.length>2?DA:Da.has(t)?t.startsWith("scale")?MA(e[1]):kA:PA,UA=t=>t!==null;function BA(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(UA),c=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[c]}function ZS(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function Vm(t,e){const n=t?.[e]??t?.default??t;return n!==t?ZS(n,t):n}function IA({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:h,from:f,elapsed:p,...v}){return!!Object.keys(v).length}const Hm=(t,e,n,i={},o,c)=>u=>{const h=Vm(i,t)||{},f=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-$n(f);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:b=>{e.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:c?void 0:o};IA(h)||Object.assign(v,zA(t,v)),v.duration&&(v.duration=$n(v.duration)),v.repeatDelay&&(v.repeatDelay=$n(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let x=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Fp(v),v.delay===0&&(x=!0)),(Ts.instantAnimations||Ts.skipAnimations||o?.shouldSkipAnimations)&&(x=!0,Fp(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,x&&!c&&e.get()!==void 0){const b=BA(v.keyframes,h);if(b!==void 0){Qe.update(()=>{v.onUpdate(b),v.onComplete()});return}}return h.isSync?new Im(v):new OA(v)};function wb(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function qm(t,e,n,i){if(typeof e=="function"){const[o,c]=wb(i);e=e(n!==void 0?n:t.custom,o,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,c]=wb(i);e=e(n!==void 0?n:t.custom,o,c)}return e}function Sa(t,e,n){const i=t.getProps();return qm(i,e,n!==void 0?n:i.custom,t)}const XS=new Set(["width","height","top","left","right","bottom",...Ma]),jb=30,$A=t=>!isNaN(parseFloat(t));class VA{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const o=$t.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=$t.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$A(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Om);const i=this.events[e].add(n);return e==="change"?()=>{i(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$t.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>jb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jb);return vS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _a(t,e){return new VA(t,e)}const Gp=t=>Array.isArray(t);function HA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_a(n))}function qA(t){return Gp(t)?t[t.length-1]||0:t}function FA(t,e){const n=Sa(t,e);let{transitionEnd:i={},transition:o={},...c}=n||{};c={...c,...i};for(const u in c){const h=qA(c[u]);HA(t,u,h)}}const Ut=t=>!!(t&&t.getVelocity);function GA(t){return!!(Ut(t)&&t.add)}function Wp(t,e){const n=t.getValue("willChange");if(GA(n))return n.add(e);if(!n&&Ts.WillChange){const i=new Ts.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Fm(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const WA="framerAppearId",JS="data-"+Fm(WA);function QS(t){return t.props[JS]}function KA({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function e2(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:c,transitionEnd:u,...h}=e;const f=t.getDefaultTransition();c=c?ZS(c,f):f;const p=c?.reduceMotion;i&&(c=i);const v=[],x=o&&t.animationState&&t.animationState.getState()[o];for(const b in h){const w=t.getValue(b,t.latestValues[b]??null),j=h[b];if(j===void 0||x&&KA(x,b))continue;const _={delay:n,...Vm(c||{},b)},E=w.get();if(E!==void 0&&!w.isAnimating&&!Array.isArray(j)&&j===E&&!_.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const k=QS(t);if(k){const A=window.MotionHandoffAnimation(k,b,Qe);A!==null&&(_.startTime=A,C=!0)}}Wp(t,b);const N=p??t.shouldReduceMotion;w.start(Hm(b,w,j,N&&XS.has(b)?{type:!1}:_,t,C));const T=w.animation;T&&v.push(T)}if(u){const b=()=>Qe.update(()=>{u&&FA(t,u)});v.length?Promise.all(v).then(b):b()}return v}function Kp(t,e,n={}){const i=Sa(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const c=i?()=>Promise.all(e2(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:x}=o;return YA(t,e,f,p,v,x,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[f,p]=h==="beforeChildren"?[c,u]:[u,c];return f().then(()=>p())}else return Promise.all([c(),u(n.delay)])}function YA(t,e,n=0,i=0,o=0,c=1,u){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(Kp(f,e,{...u,delay:n+(typeof i=="function"?0:i)+KS(t.variantChildren,f,i,o,c)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function ZA(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(c=>Kp(t,c,n));i=Promise.all(o)}else if(typeof e=="string")i=Kp(t,e,n);else{const o=typeof e=="function"?Sa(t,e,n.custom):e;i=Promise.all(e2(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const XA={test:t=>t==="auto",parse:t=>t},t2=t=>e=>e.test(t),n2=[ka,de,es,ni,_5,E5,XA],Sb=t=>n2.find(t2(t));function JA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gS(t):!0}const QA=new Set(["brightness","contrast","saturate","opacity"]);function eR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Mm)||[];if(!i)return t;const o=n.replace(i,"");let c=QA.has(e)?1:0;return i!==n&&(c*=100),e+"("+c+o+")"}const tR=/\b([a-z-]*)\(.*?\)/gu,Yp={...mi,getAnimatableNone:t=>{const e=t.match(tR);return e?e.map(eR).join(" "):t}},Eb={...ka,transform:Math.round},nR={rotate:ni,rotateX:ni,rotateY:ni,rotateZ:ni,scale:eu,scaleX:eu,scaleY:eu,scaleZ:eu,skew:ni,skewX:ni,skewY:ni,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:ll,originX:ub,originY:ub,originZ:de},Gm={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,inset:de,insetBlock:de,insetBlockStart:de,insetBlockEnd:de,insetInline:de,insetInlineStart:de,insetInlineEnd:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,paddingBlock:de,paddingBlockStart:de,paddingBlockEnd:de,paddingInline:de,paddingInlineStart:de,paddingInlineEnd:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,marginBlock:de,marginBlockStart:de,marginBlockEnd:de,marginInline:de,marginInlineStart:de,marginInlineEnd:de,fontSize:de,backgroundPositionX:de,backgroundPositionY:de,...nR,zIndex:Eb,fillOpacity:ll,strokeOpacity:ll,numOctaves:Eb},sR={...Gm,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:Yp,WebkitFilter:Yp},s2=t=>sR[t];function i2(t,e){let n=s2(t);return n!==Yp&&(n=mi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const iR=new Set(["auto","none","0"]);function rR(t,e,n){let i=0,o;for(;i<t.length&&!o;){const c=t[i];typeof c=="string"&&!iR.has(c)&&cl(c).values.length&&(o=t[i]),i++}if(o&&n)for(const c of e)t[c]=i2(n,o)}class aR extends $m{constructor(e,n,i,o,c){super(e,n,i,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let x=e[v];if(typeof x=="string"&&(x=x.trim(),km(x))){const b=YS(x,n.current);b!==void 0&&(e[v]=b),v===e.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!XS.has(i)||e.length!==2)return;const[o,c]=e,u=Sb(o),h=Sb(c),f=cb(o),p=cb(c);if(f!==p&&ui[i]){this.needsMeasurement=!0;return}if(u!==h)if(yb(u)&&yb(h))for(let v=0;v<e.length;v++){const x=e[v];typeof x=="string"&&(e[v]=parseFloat(x))}else ui[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||JA(e[o]))&&i.push(o);i.length&&rR(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ui[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const c=i.length-1,u=i[c];i[c]=ui[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const oR=new Set(["opacity","clipPath","filter","transform"]);function r2(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=n?.[t]??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(i=>i!=null)}const a2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Zp(t){return mS(t)&&"offsetHeight"in t}const{schedule:Wm}=NS(queueMicrotask,!1),zn={x:!1,y:!1};function o2(){return zn.x||zn.y}function lR(t){return t==="x"||t==="y"?zn[t]?null:(zn[t]=!0,()=>{zn[t]=!1}):zn.x||zn.y?null:(zn.x=zn.y=!0,()=>{zn.x=zn.y=!1})}function l2(t,e){const n=r2(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function cR(t){return!(t.pointerType==="touch"||o2())}function uR(t,e,n={}){const[i,o,c]=l2(t,n);return i.forEach(u=>{let h=!1,f=!1,p;const v=()=>{u.removeEventListener("pointerleave",j)},x=E=>{p&&(p(E),p=void 0),v()},b=E=>{h=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),f&&(f=!1,x(E))},w=()=>{h=!0,window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",b,o)},j=E=>{if(E.pointerType!=="touch"){if(h){f=!0;return}x(E)}},_=E=>{if(!cR(E))return;f=!1;const C=e(u,E);typeof C=="function"&&(p=C,u.addEventListener("pointerleave",j,o))};u.addEventListener("pointerenter",_,o),u.addEventListener("pointerdown",w,o)}),c}const c2=(t,e)=>e?t===e?!0:c2(t,e.parentElement):!1,Km=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,dR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hR(t){return dR.has(t.tagName)||t.isContentEditable===!0}const fR=new Set(["INPUT","SELECT","TEXTAREA"]);function pR(t){return fR.has(t.tagName)||t.isContentEditable===!0}const lu=new WeakSet;function _b(t){return e=>{e.key==="Enter"&&t(e)}}function Xf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mR=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=_b(()=>{if(lu.has(n))return;Xf(n,"down");const o=_b(()=>{Xf(n,"up")}),c=()=>Xf(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",c,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Cb(t){return Km(t)&&!o2()}const Tb=new WeakSet;function gR(t,e,n={}){const[i,o,c]=l2(t,n),u=h=>{const f=h.currentTarget;if(!Cb(h)||Tb.has(h))return;lu.add(f),n.stopPropagation&&Tb.add(h);const p=e(f,h),v=(w,j)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),lu.has(f)&&lu.delete(f),Cb(w)&&typeof p=="function"&&p(w,{success:j})},x=w=>{v(w,f===window||f===document||n.useGlobalTarget||c2(f,w.target))},b=w=>{v(w,!1)};window.addEventListener("pointerup",x,o),window.addEventListener("pointercancel",b,o)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,o),Zp(h)&&(h.addEventListener("focus",p=>mR(p,o)),!hR(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),c}function Ym(t){return mS(t)&&"ownerSVGElement"in t}const cu=new WeakMap;let uu;const u2=(t,e,n)=>(i,o)=>o&&o[0]?o[0][t+"Size"]:Ym(i)&&"getBBox"in i?i.getBBox()[e]:i[n],vR=u2("inline","width","offsetWidth"),yR=u2("block","height","offsetHeight");function xR({target:t,borderBoxSize:e}){cu.get(t)?.forEach(n=>{n(t,{get width(){return vR(t,e)},get height(){return yR(t,e)}})})}function bR(t){t.forEach(xR)}function wR(){typeof ResizeObserver>"u"||(uu=new ResizeObserver(bR))}function jR(t,e){uu||wR();const n=r2(t);return n.forEach(i=>{let o=cu.get(i);o||(o=new Set,cu.set(i,o)),o.add(e),uu?.observe(i)}),()=>{n.forEach(i=>{const o=cu.get(i);o?.delete(e),o?.size||uu?.unobserve(i)})}}const du=new Set;let ga;function SR(){ga=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};du.forEach(e=>e(t))},window.addEventListener("resize",ga)}function ER(t){return du.add(t),ga||SR(),()=>{du.delete(t),!du.size&&typeof ga=="function"&&(window.removeEventListener("resize",ga),ga=void 0)}}function Nb(t,e){return typeof t=="function"?ER(t):jR(t,e)}function _R(t){return Ym(t)&&t.tagName==="svg"}const CR=[...n2,xt,mi],TR=t=>CR.find(t2(t)),Lb=()=>({translate:0,scale:1,origin:0,originPoint:0}),va=()=>({x:Lb(),y:Lb()}),Ob=()=>({min:0,max:0}),jt=()=>({x:Ob(),y:Ob()}),NR=new WeakMap;function ld(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ul(t){return typeof t=="string"||Array.isArray(t)}const Zm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xm=["initial",...Zm];function cd(t){return ld(t.animate)||Xm.some(e=>ul(t[e]))}function d2(t){return!!(cd(t)||t.variants)}function LR(t,e,n){for(const i in e){const o=e[i],c=n[i];if(Ut(o))t.addValue(i,o);else if(Ut(c))t.addValue(i,_a(o,{owner:t}));else if(c!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,_a(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Xp={current:null},h2={current:!1},OR=typeof window<"u";function AR(){if(h2.current=!0,!!OR)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xp.current=t.matches;t.addEventListener("change",e),e()}else Xp.current=!1}const Ab=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Tu={};function f2(t){Tu=t}function RR(){return Tu}class kR{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,skipAnimations:c,blockInitialAnimation:u,visualState:h},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=$m,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=$t.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Qe.render(this.render,!1,!0))};const{latestValues:p,renderState:v}=h;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.skipAnimationsConfig=c,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=cd(n),this.isVariantNode=d2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in b){const j=b[w];p[w]!==void 0&&Ut(j)&&j.set(p[w])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,NR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(h2.current||AR(),this.shouldReduceMotion=Xp.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),pi(this.notifyUpdate),pi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&oR.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:h,times:f,ease:p,duration:v}=n.accelerate,x=new GS({element:this.current,name:e,keyframes:h,times:f,ease:p,duration:$n(v)}),b=u(x);this.valueSubscriptions.set(e,()=>{b(),x.cancel()});return}const i=Da.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;typeof window<"u"&&window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Tu){const n=Tu[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Ab.length;i++){const o=Ab[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=e[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=LR(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=_a(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(pS(i)||gS(i))?i=parseFloat(i):!TR(i)&&mi.test(n)&&(i=i2(e,n)),this.setBaseTarget(e,Ut(i)?i.get():i)),Ut(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=qm(this.props,n,this.presenceContext?.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Ut(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Om),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Wm.render(this.render)}}class p2 extends kR{constructor(){super(...arguments),this.KeyframeResolver=aR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ut(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class vi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function m2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function MR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function DR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Jf(t){return t===void 0||t===1}function Jp({scale:t,scaleX:e,scaleY:n}){return!Jf(t)||!Jf(e)||!Jf(n)}function Zi(t){return Jp(t)||g2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function g2(t){return Rb(t.x)||Rb(t.y)}function Rb(t){return t&&t!=="0%"}function Nu(t,e,n){const i=t-n,o=e*i;return n+o}function kb(t,e,n,i,o){return o!==void 0&&(t=Nu(t,o,i)),Nu(t,n,i)+e}function Qp(t,e=0,n=1,i,o){t.min=kb(t.min,e,n,i,o),t.max=kb(t.max,e,n,i,o)}function v2(t,{x:e,y:n}){Qp(t.x,e.translate,e.scale,e.originPoint),Qp(t.y,n.translate,n.scale,n.originPoint)}const Mb=.999999999999,Db=1.0000000000001;function PR(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let c,u;for(let h=0;h<o;h++){c=n[h],u=c.projectionDelta;const{visualElement:f}=c.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&xa(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,v2(t,u)),i&&Zi(c.latestValues)&&xa(t,c.latestValues))}e.x<Db&&e.x>Mb&&(e.x=1),e.y<Db&&e.y>Mb&&(e.y=1)}function ya(t,e){t.min=t.min+e,t.max=t.max+e}function Pb(t,e,n,i,o=.5){const c=at(t.min,t.max,o);Qp(t,e,n,c,i)}function xa(t,e){Pb(t.x,e.x,e.scaleX,e.scale,e.originX),Pb(t.y,e.y,e.scaleY,e.scale,e.originY)}function y2(t,e){return m2(DR(t.getBoundingClientRect(),e))}function zR(t,e,n){const i=y2(t,n),{scroll:o}=e;return o&&(ya(i.x,o.offset.x),ya(i.y,o.offset.y)),i}const UR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BR=Ma.length;function IR(t,e,n){let i="",o=!0;for(let c=0;c<BR;c++){const u=Ma[c],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number")f=h===(u.startsWith("scale")?1:0);else{const p=parseFloat(h);f=u.startsWith("scale")?p===1:p===0}if(!f||n){const p=a2(h,Gm[u]);if(!f){o=!1;const v=UR[u]||u;i+=`${v}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function Jm(t,e,n){const{style:i,vars:o,transformOrigin:c}=t;let u=!1,h=!1;for(const f in e){const p=e[f];if(Da.has(f)){u=!0;continue}else if(OS(f)){o[f]=p;continue}else{const v=a2(p,Gm[f]);f.startsWith("origin")?(h=!0,c[f]=v):i[f]=v}}if(e.transform||(u||n?i.transform=IR(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:v=0}=c;i.transformOrigin=`${f} ${p} ${v}`}}function x2(t,{style:e,vars:n},i,o){const c=t.style;let u;for(u in e)c[u]=e[u];o?.applyProjectionStyles(c,i);for(u in n)c.setProperty(u,n[u])}function zb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Mo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const n=zb(t,e.target.x),i=zb(t,e.target.y);return`${n}% ${i}%`}},$R={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=mi.parse(t);if(o.length>5)return i;const c=mi.createTransformer(t),u=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;o[0+u]/=h,o[1+u]/=f;const p=at(h,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),c(o)}},em={borderRadius:{...Mo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mo,borderTopRightRadius:Mo,borderBottomLeftRadius:Mo,borderBottomRightRadius:Mo,boxShadow:$R};function b2(t,{layout:e,layoutId:n}){return Da.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!em[t]||t==="opacity")}function Qm(t,e,n){const i=t.style,o=e?.style,c={};if(!i)return c;for(const u in i)(Ut(i[u])||o&&Ut(o[u])||b2(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(c[u]=i[u]);return c}function VR(t){return window.getComputedStyle(t)}class HR extends p2{constructor(){super(...arguments),this.type="html",this.renderInstance=x2}readValueFromInstance(e,n){if(Da.has(n))return this.projection?.isProjecting?Ip(n):lA(e,n);{const i=VR(e),o=(OS(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return y2(e,n)}build(e,n,i){Jm(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Qm(e,n,i)}}const qR={offset:"stroke-dashoffset",array:"stroke-dasharray"},FR={offset:"strokeDashoffset",array:"strokeDasharray"};function GR(t,e,n=1,i=0,o=!0){t.pathLength=1;const c=o?qR:FR;t[c.offset]=`${-i}`,t[c.array]=`${e} ${n}`}const WR=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function w2(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...h},f,p,v){if(Jm(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:b}=t;x.transform&&(b.transform=x.transform,delete x.transform),(b.transform||x.transformOrigin)&&(b.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),b.transform&&(b.transformBox=v?.transformBox??"fill-box",delete x.transformBox);for(const w of WR)x[w]!==void 0&&(b[w]=x[w],delete x[w]);e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),i!==void 0&&(x.scale=i),o!==void 0&&GR(x,o,c,u,!1)}const j2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),S2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function KR(t,e,n,i){x2(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(j2.has(o)?o:Fm(o),e.attrs[o])}function E2(t,e,n){const i=Qm(t,e,n);for(const o in t)if(Ut(t[o])||Ut(e[o])){const c=Ma.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[c]=t[o]}return i}class YR extends p2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Da.has(n)){const i=s2(n);return i&&i.default||0}return n=j2.has(n)?n:Fm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return E2(e,n,i)}build(e,n,i){w2(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){KR(e,n,i,o)}mount(e){this.isSVGTag=S2(e.tagName),super.mount(e)}}const ZR=Xm.length;function _2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ZR;n++){const i=Xm[n],o=t.props[i];(ul(o)||o===!1)&&(e[i]=o)}return e}function C2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const XR=[...Zm].reverse(),JR=Zm.length;function QR(t){return e=>Promise.all(e.map(({animation:n,options:i})=>ZA(t,n,i)))}function ek(t){let e=QR(t),n=Ub(),i=!0;const o=f=>(p,v)=>{const x=Sa(t,v,f==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:b,transitionEnd:w,...j}=x;p={...p,...j,...w}}return p};function c(f){e=f(t)}function u(f){const{props:p}=t,v=_2(t.parent)||{},x=[],b=new Set;let w={},j=1/0;for(let E=0;E<JR;E++){const C=XR[E],N=n[C],T=p[C]!==void 0?p[C]:v[C],k=ul(T),A=C===f?N.isActive:null;A===!1&&(j=E);let O=T===v[C]&&T!==p[C]&&k;if(O&&i&&t.manuallyAnimateOnMount&&(O=!1),N.protectedKeys={...w},!N.isActive&&A===null||!T&&!N.prevProp||ld(T)||typeof T=="boolean")continue;if(C==="exit"&&N.isActive&&A!==!0){N.prevResolvedValues&&(w={...w,...N.prevResolvedValues});continue}const R=tk(N.prevProp,T);let I=R||C===f&&N.isActive&&!O&&k||E>j&&k,P=!1;const G=Array.isArray(T)?T:[T];let se=G.reduce(o(C),{});A===!1&&(se={});const{prevResolvedValues:re={}}=N,ee={...re,...se},ae=Y=>{I=!0,b.has(Y)&&(P=!0,b.delete(Y)),N.needsAnimating[Y]=!0;const ne=t.getValue(Y);ne&&(ne.liveStyle=!1)};for(const Y in ee){const ne=se[Y],J=re[Y];if(w.hasOwnProperty(Y))continue;let le=!1;Gp(ne)&&Gp(J)?le=!C2(ne,J):le=ne!==J,le?ne!=null?ae(Y):b.add(Y):ne!==void 0&&b.has(Y)?ae(Y):N.protectedKeys[Y]=!0}N.prevProp=T,N.prevResolvedValues=se,N.isActive&&(w={...w,...se}),i&&t.blockInitialAnimation&&(I=!1);const oe=O&&R;I&&(!oe||P)&&x.push(...G.map(Y=>{const ne={type:C};if(typeof Y=="string"&&i&&!oe&&t.manuallyAnimateOnMount&&t.parent){const{parent:J}=t,le=Sa(J,Y);if(J.enteringChildren&&le){const{delayChildren:M}=le.transition||{};ne.delay=KS(J.enteringChildren,t,M)}}return{animation:Y,options:ne}}))}if(b.size){const E={};if(typeof p.initial!="boolean"){const C=Sa(t,Array.isArray(p.initial)?p.initial[0]:p.initial);C&&C.transition&&(E.transition=C.transition)}b.forEach(C=>{const N=t.getBaseTarget(C),T=t.getValue(C);T&&(T.liveStyle=!0),E[C]=N??null}),x.push({animation:E})}let _=!!x.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(x):Promise.resolve()}function h(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(f,p)),n[f].isActive=p;const v=u(f);for(const x in n)n[x].protectedKeys={};return v}return{animateChanges:u,setActive:h,setAnimateFunction:c,getState:()=>n,reset:()=>{n=Ub()}}}function tk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!C2(e,t):!1}function Gi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ub(){return{animate:Gi(!0),whileInView:Gi(),whileHover:Gi(),whileTap:Gi(),whileDrag:Gi(),whileFocus:Gi(),exit:Gi()}}function Bb(t,e){t.min=e.min,t.max=e.max}function Mn(t,e){Bb(t.x,e.x),Bb(t.y,e.y)}function Ib(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const T2=1e-4,nk=1-T2,sk=1+T2,N2=.01,ik=0-N2,rk=0+N2;function Vt(t){return t.max-t.min}function ak(t,e,n){return Math.abs(t-e)<=n}function $b(t,e,n,i=.5){t.origin=i,t.originPoint=at(e.min,e.max,t.origin),t.scale=Vt(n)/Vt(e),t.translate=at(n.min,n.max,t.origin)-t.originPoint,(t.scale>=nk&&t.scale<=sk||isNaN(t.scale))&&(t.scale=1),(t.translate>=ik&&t.translate<=rk||isNaN(t.translate))&&(t.translate=0)}function Zo(t,e,n,i){$b(t.x,e.x,n.x,i?i.originX:void 0),$b(t.y,e.y,n.y,i?i.originY:void 0)}function Vb(t,e,n){t.min=n.min+e.min,t.max=t.min+Vt(e)}function ok(t,e,n){Vb(t.x,e.x,n.x),Vb(t.y,e.y,n.y)}function Hb(t,e,n){t.min=e.min-n.min,t.max=t.min+Vt(e)}function Lu(t,e,n){Hb(t.x,e.x,n.x),Hb(t.y,e.y,n.y)}function qb(t,e,n,i,o){return t-=e,t=Nu(t,1/n,i),o!==void 0&&(t=Nu(t,1/o,i)),t}function lk(t,e=0,n=1,i=.5,o,c=t,u=t){if(es.test(e)&&(e=parseFloat(e),e=at(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=at(c.min,c.max,i);t===c&&(h-=e),t.min=qb(t.min,e,n,h,o),t.max=qb(t.max,e,n,h,o)}function Fb(t,e,[n,i,o],c,u){lk(t,e[n],e[i],e[o],e.scale,c,u)}const ck=["x","scaleX","originX"],uk=["y","scaleY","originY"];function Gb(t,e,n,i){Fb(t.x,e,ck,n?n.x:void 0,i?i.x:void 0),Fb(t.y,e,uk,n?n.y:void 0,i?i.y:void 0)}function Wb(t){return t.translate===0&&t.scale===1}function L2(t){return Wb(t.x)&&Wb(t.y)}function Kb(t,e){return t.min===e.min&&t.max===e.max}function dk(t,e){return Kb(t.x,e.x)&&Kb(t.y,e.y)}function Yb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function O2(t,e){return Yb(t.x,e.x)&&Yb(t.y,e.y)}function Zb(t){return Vt(t.x)/Vt(t.y)}function Xb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Xn(t){return[t("x"),t("y")]}function hk(t,e,n){let i="";const o=t.x.translate/e.x,c=t.y.translate/e.y,u=n?.z||0;if((o||c||u)&&(i=`translate3d(${o}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:x,rotateY:b,skewX:w,skewY:j}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),x&&(i+=`rotateX(${x}deg) `),b&&(i+=`rotateY(${b}deg) `),w&&(i+=`skewX(${w}deg) `),j&&(i+=`skewY(${j}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const A2=["TopLeft","TopRight","BottomLeft","BottomRight"],fk=A2.length,Jb=t=>typeof t=="string"?parseFloat(t):t,Qb=t=>typeof t=="number"||de.test(t);function pk(t,e,n,i,o,c){o?(t.opacity=at(0,n.opacity??1,mk(i)),t.opacityExit=at(e.opacity??1,0,gk(i))):c&&(t.opacity=at(e.opacity??1,n.opacity??1,i));for(let u=0;u<fk;u++){const h=`border${A2[u]}Radius`;let f=e1(e,h),p=e1(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Qb(f)===Qb(p)?(t[h]=Math.max(at(Jb(f),Jb(p),i),0),(es.test(p)||es.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=at(e.rotate||0,n.rotate||0,i))}function e1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mk=R2(0,.5,ES),gk=R2(.5,.95,Nn);function R2(t,e,n){return i=>i<t?0:i>e?1:n(ol(t,e,i))}function vk(t,e,n){const i=Ut(t)?t:_a(t);return i.start(Hm("",i,e,n)),i.animation}function dl(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const yk=(t,e)=>t.depth-e.depth;class xk{constructor(){this.children=[],this.isDirty=!1}add(e){Tm(this.children,e),this.isDirty=!0}remove(e){Su(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yk),this.isDirty=!1,this.children.forEach(e)}}function bk(t,e){const n=$t.now(),i=({timestamp:o})=>{const c=o-n;c>=e&&(pi(i),t(c-e))};return Qe.setup(i,!0),()=>pi(i)}function hu(t){return Ut(t)?t.get():t}class wk{constructor(){this.members=[]}add(e){Tm(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const o=i.instance;o&&o.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&Su(this.members,i)}e.scheduleRender()}remove(e){if(Su(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const c=this.members[o],u=c.instance;if(c.isPresent!==!1&&(!u||u.isConnected!==!1)){i=c;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const o=i.options.layoutDependency,c=e.options.layoutDependency;if(!(o!==void 0&&c!==void 0&&o===c)){const f=i.instance;f&&f.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:h}=e.options;h===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const fu={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Qf=["","X","Y","Z"],jk=1e3;let Sk=0;function ep(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function k2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=QS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Qe,!(o||c))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&k2(i)}function M2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},h=e?.()){this.id=Sk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ck),this.nodes.forEach(Ok),this.nodes.forEach(Ak),this.nodes.forEach(Tk)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new xk)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Om),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Ym(u)&&!_R(u),this.instance=u;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let v,x=0;const b=()=>this.root.updateBlockedByResize=!1;Qe.read(()=>{x=window.innerWidth}),t(u,()=>{const w=window.innerWidth;w!==x&&(x=w,this.root.updateBlockedByResize=!0,v&&v(),v=bk(b,250),fu.hasAnimatedSinceResize&&(fu.hasAnimatedSinceResize=!1,this.nodes.forEach(s1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||Pk,{onLayoutAnimationStart:_,onLayoutAnimationComplete:E}=p.getProps(),C=!this.targetLayout||!O2(this.targetLayout,w),N=!x&&b;if(this.options.layoutRoot||this.resumeFrom||N||x&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...Vm(j,"layout"),onPlay:_,onComplete:E};(p.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(v,N)}else x||s1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Rk),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&k2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const x=this.path[v];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(n1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Lk),this.nodes.forEach(Ek),this.nodes.forEach(_k)):this.nodes.forEach(n1),this.clearAllSnapshots();const h=$t.now();kt.delta=ts(0,1e3/60,h-kt.timestamp),kt.timestamp=h,kt.isProcessing=!0,Ff.update.process(kt),Ff.preRender.process(kt),Ff.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Nk),this.sharedNodes.forEach(kk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vt(this.snapshot.measuredBox.x)&&!Vt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!L2(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Zi(this.latestValues)||v)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),zk(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return jt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Uk))){const{scroll:p}=this.root;p&&(ya(h.x,p.offset.x),ya(h.y,p.offset.y))}return h}removeElementScroll(u){const h=jt();if(Mn(h,u),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:v,options:x}=p;p!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&Mn(h,u),ya(h.x,v.offset.x),ya(h.y,v.offset.y))}return h}applyTransform(u,h=!1){const f=jt();Mn(f,u);for(let p=0;p<this.path.length;p++){const v=this.path[p];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&xa(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Zi(v.latestValues)&&xa(f,v.latestValues)}return Zi(this.latestValues)&&xa(f,this.latestValues),f}removeTransform(u){const h=jt();Mn(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Zi(p.latestValues))continue;Jp(p.latestValues)&&p.updateSnapshot();const v=jt(),x=p.measurePageBox();Mn(v,x),Gb(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Zi(this.latestValues)&&Gb(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!this.layout||!(v||x))return;this.resolvedRelativeTargetAt=kt.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ok(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mn(this.target,this.layout.layoutBox),v2(this.target,this.targetDelta)):Mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Jp(this.parent.latestValues)||g2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,f){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Lu(this.relativeTargetOrigin,h,f),Mn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Mn(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;PR(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=jt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ib(this.prevProjectionDelta.x,this.projectionDelta.x),Ib(this.prevProjectionDelta.y,this.projectionDelta.y)),Zo(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!Xb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Xb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=va(),this.projectionDelta=va(),this.projectionDeltaWithTransform=va()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},v={...this.latestValues},x=va();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=jt(),w=f?f.source:void 0,j=this.layout?this.layout.source:void 0,_=w!==j,E=this.getStack(),C=!E||E.members.length<=1,N=!!(_&&!C&&this.options.crossfade===!0&&!this.path.some(Dk));this.animationProgress=0;let T;this.mixTargetDelta=k=>{const A=k/1e3;i1(x.x,u.x,A),i1(x.y,u.y,A),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Mk(this.relativeTarget,this.relativeTargetOrigin,b,A),T&&dk(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=jt()),Mn(T,this.relativeTarget)),_&&(this.animationValues=v,pk(v,p,this.latestValues,A,N,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(pi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{fu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_a(0)),this.currentAnimation=vk(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:v}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&D2(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||jt();const x=Vt(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+x;const b=Vt(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+b}Mn(h,f),xa(h,v),Zo(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new wk),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&ep("z",u,p,this.animationValues);for(let v=0;v<Qf.length;v++)ep(`rotate${Qf[v]}`,u,p,this.animationValues),ep(`skew${Qf[v]}`,u,p,this.animationValues);u.render();for(const v in p)u.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=hu(h?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=hu(h?.pointerEvents)||""),this.hasProjected&&!Zi(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let x=hk(this.projectionDeltaWithTransform,this.treeScale,v);f&&(x=f(v,x)),u.transform=x;const{x:b,y:w}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,p.animationValues?u.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const j in em){if(v[j]===void 0)continue;const{correct:_,applyTo:E,isCSSVariable:C}=em[j],N=x==="none"?v[j]:_(v[j],p);if(E){const T=E.length;for(let k=0;k<T;k++)u[E[k]]=N}else C?this.options.visualElement.renderState.vars[j]=N:u[j]=N}this.options.layoutId&&(u.pointerEvents=p===this?hu(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(t1),this.root.sharedNodes.clear()}}}function Ek(t){t.updateLayout()}function _k(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?Xn(v=>{const x=c?e.measuredBox[v]:e.layoutBox[v],b=Vt(x);x.min=n[v].min,x.max=x.min+b}):D2(o,e.layoutBox,n)&&Xn(v=>{const x=c?e.measuredBox[v]:e.layoutBox[v],b=Vt(n[v]);x.max=x.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+b)});const u=va();Zo(u,n,e.layoutBox);const h=va();c?Zo(h,t.applyTransform(i,!0),e.measuredBox):Zo(h,n,e.layoutBox);const f=!L2(u);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:b}=v;if(x&&b){const w=jt();Lu(w,e.layoutBox,x.layoutBox);const j=jt();Lu(j,n,b.layoutBox),O2(w,j)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=w,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Ck(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Tk(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Nk(t){t.clearSnapshot()}function t1(t){t.clearMeasurements()}function n1(t){t.isLayoutDirty=!1}function Lk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function s1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ok(t){t.resolveTargetDelta()}function Ak(t){t.calcProjection()}function Rk(t){t.resetSkewAndRotation()}function kk(t){t.removeLeadSnapshot()}function i1(t,e,n){t.translate=at(e.translate,0,n),t.scale=at(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function r1(t,e,n,i){t.min=at(e.min,n.min,i),t.max=at(e.max,n.max,i)}function Mk(t,e,n,i){r1(t.x,e.x,n.x,i),r1(t.y,e.y,n.y,i)}function Dk(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Pk={duration:.45,ease:[.4,0,.1,1]},a1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),o1=a1("applewebkit/")&&!a1("chrome/")?Math.round:Nn;function l1(t){t.min=o1(t.min),t.max=o1(t.max)}function zk(t){l1(t.x),l1(t.y)}function D2(t,e,n){return t==="position"||t==="preserve-aspect"&&!ak(Zb(e),Zb(n),.2)}function Uk(t){return t!==t.root&&t.scroll?.wasRoot}const Bk=M2({attachResizeListener:(t,e)=>dl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),tp={current:void 0},P2=M2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tp.current){const t=new Bk({});t.mount(window),t.setOptions({layoutScroll:!0}),tp.current=t}return tp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),eg=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function c1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ik(...t){return e=>{let n=!1;const i=t.map(o=>{const c=c1(o,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():c1(t[o],null)}}}}function $k(...t){return g.useCallback(Ik(...t),t)}class Vk extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,o=Zp(i)&&i.offsetWidth||0,c=Zp(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left,u.bottom=c-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Hk({children:t,isPresent:e,anchorX:n,anchorY:i,root:o,pop:c}){const u=g.useId(),h=g.useRef(null),f=g.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=g.useContext(eg),v=t.props?.ref??t?.ref,x=$k(h,v);return g.useInsertionEffect(()=>{const{width:b,height:w,top:j,left:_,right:E,bottom:C}=f.current;if(e||c===!1||!h.current||!b||!w)return;const N=n==="left"?`left: ${_}`:`right: ${E}`,T=i==="bottom"?`bottom: ${C}`:`top: ${j}`;h.current.dataset.motionPopId=u;const k=document.createElement("style");p&&(k.nonce=p);const A=o??document.head;return A.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${w}px !important;
            ${N}px !important;
            ${T}px !important;
          }
        `),()=>{A.contains(k)&&A.removeChild(k)}},[e]),l.jsx(Vk,{isPresent:e,childRef:h,sizeRef:f,pop:c,children:c===!1?t:g.cloneElement(t,{ref:x})})}const qk=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:c,mode:u,anchorX:h,anchorY:f,root:p})=>{const v=Cm(Fk),x=g.useId();let b=!0,w=g.useMemo(()=>(b=!1,{id:x,initial:e,isPresent:n,custom:o,onExitComplete:j=>{v.set(j,!0);for(const _ of v.values())if(!_)return;i&&i()},register:j=>(v.set(j,!1),()=>v.delete(j))}),[n,v,i]);return c&&b&&(w={...w}),g.useMemo(()=>{v.forEach((j,_)=>v.set(_,!1))},[n]),g.useEffect(()=>{!n&&!v.size&&i&&i()},[n]),t=l.jsx(Hk,{pop:u==="popLayout",isPresent:n,anchorX:h,anchorY:f,root:p,children:t}),l.jsx(od.Provider,{value:w,children:t})};function Fk(){return new Map}function z2(t=!0){const e=g.useContext(od);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,c=g.useId();g.useEffect(()=>{if(t)return o(c)},[t]);const u=g.useCallback(()=>t&&i&&i(c),[c,i,t]);return!n&&i?[!1,u]:[!0]}const tu=t=>t.key||"";function u1(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const Gk=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:h="left",anchorY:f="top",root:p})=>{const[v,x]=z2(u),b=g.useMemo(()=>u1(t),[t]),w=u&&!v?[]:b.map(tu),j=g.useRef(!0),_=g.useRef(b),E=Cm(()=>new Map),C=g.useRef(new Set),[N,T]=g.useState(b),[k,A]=g.useState(b);fS(()=>{j.current=!1,_.current=b;for(let I=0;I<k.length;I++){const P=tu(k[I]);w.includes(P)?(E.delete(P),C.current.delete(P)):E.get(P)!==!0&&E.set(P,!1)}},[k,w.length,w.join("-")]);const O=[];if(b!==N){let I=[...b];for(let P=0;P<k.length;P++){const G=k[P],se=tu(G);w.includes(se)||(I.splice(P,0,G),O.push(G))}return c==="wait"&&O.length&&(I=O),A(u1(I)),T(b),null}const{forceRender:R}=g.useContext(_m);return l.jsx(l.Fragment,{children:k.map(I=>{const P=tu(I),G=u&&!v?!1:b===k||w.includes(P),se=()=>{if(C.current.has(P))return;if(C.current.add(P),E.has(P))E.set(P,!0);else return;let re=!0;E.forEach(ee=>{ee||(re=!1)}),re&&(R?.(),A(_.current),u&&x?.(),i&&i())};return l.jsx(qk,{isPresent:G,initial:!j.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:c,root:p,onExitComplete:G?void 0:se,anchorX:h,anchorY:f,children:I},P)})})},U2=g.createContext({strict:!1}),d1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let h1=!1;function Wk(){if(h1)return;const t={};for(const e in d1)t[e]={isEnabled:n=>d1[e].some(i=>!!n[i])};f2(t),h1=!0}function B2(){return Wk(),RR()}function Kk(t){const e=B2();for(const n in t)e[n]={...e[n],...t[n]};f2(e)}const Yk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Ou(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Yk.has(t)}let I2=t=>!Ou(t);function Zk(t){typeof t=="function"&&(I2=e=>e.startsWith("on")?!Ou(e):t(e))}try{Zk(require("@emotion/is-prop-valid").default)}catch{}function Xk(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(I2(o)||n===!0&&Ou(o)||!e&&!Ou(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const ud=g.createContext({});function Jk(t,e){if(cd(t)){const{initial:n,animate:i}=t;return{initial:n===!1||ul(n)?n:void 0,animate:ul(i)?i:void 0}}return t.inherit!==!1?e:{}}function Qk(t){const{initial:e,animate:n}=Jk(t,g.useContext(ud));return g.useMemo(()=>({initial:e,animate:n}),[f1(e),f1(n)])}function f1(t){return Array.isArray(t)?t.join(" "):t}const tg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $2(t,e,n){for(const i in e)!Ut(e[i])&&!b2(i,n)&&(t[i]=e[i])}function eM({transformTemplate:t},e){return g.useMemo(()=>{const n=tg();return Jm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function tM(t,e){const n=t.style||{},i={};return $2(i,n,t),Object.assign(i,eM(t,e)),i}function nM(t,e){const n={},i=tM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const V2=()=>({...tg(),attrs:{}});function sM(t,e,n,i){const o=g.useMemo(()=>{const c=V2();return w2(c,e,S2(i),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};$2(c,t.style,t),o.style={...c,...o.style}}return o}const iM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ng(t){return typeof t!="string"||t.includes("-")?!1:!!(iM.indexOf(t)>-1||/[A-Z]/u.test(t))}function rM(t,e,n,{latestValues:i},o,c=!1,u){const f=(u??ng(t)?sM:nM)(e,i,o,t),p=Xk(e,typeof t=="string",c),v=t!==g.Fragment?{...p,...f,ref:n}:{},{children:x}=e,b=g.useMemo(()=>Ut(x)?x.get():x,[x]);return g.createElement(t,{...v,children:b})}function aM({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:oM(n,i,o,t),renderState:e()}}function oM(t,e,n,i){const o={},c=i(t,{});for(const b in c)o[b]=hu(c[b]);let{initial:u,animate:h}=t;const f=cd(t),p=d2(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const x=v?h:u;if(x&&typeof x!="boolean"&&!ld(x)){const b=Array.isArray(x)?x:[x];for(let w=0;w<b.length;w++){const j=qm(t,b[w]);if(j){const{transitionEnd:_,transition:E,...C}=j;for(const N in C){let T=C[N];if(Array.isArray(T)){const k=v?T.length-1:0;T=T[k]}T!==null&&(o[N]=T)}for(const N in _)o[N]=_[N]}}}return o}const H2=t=>(e,n)=>{const i=g.useContext(ud),o=g.useContext(od),c=()=>aM(t,e,i,o);return n?c():Cm(c)},lM=H2({scrapeMotionValuesFromProps:Qm,createRenderState:tg}),cM=H2({scrapeMotionValuesFromProps:E2,createRenderState:V2}),uM=Symbol.for("motionComponentSymbol");function dM(t,e,n){const i=g.useRef(n);g.useInsertionEffect(()=>{i.current=n});const o=g.useRef(null);return g.useCallback(c=>{c&&t.onMount?.(c),e&&(c?e.mount(c):e.unmount());const u=i.current;if(typeof u=="function")if(c){const h=u(c);typeof h=="function"&&(o.current=h)}else o.current?(o.current(),o.current=null):u(c);else u&&(u.current=c)},[e])}const q2=g.createContext({});function fa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function hM(t,e,n,i,o,c){const{visualElement:u}=g.useContext(ud),h=g.useContext(U2),f=g.useContext(od),p=g.useContext(eg),v=p.reducedMotion,x=p.skipAnimations,b=g.useRef(null),w=g.useRef(!1);i=i||h.renderer,!b.current&&i&&(b.current=i(t,{visualState:e,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:v,skipAnimations:x,isSVG:c}),w.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const j=b.current,_=g.useContext(q2);j&&!j.projection&&o&&(j.type==="html"||j.type==="svg")&&fM(b.current,n,o,_);const E=g.useRef(!1);g.useInsertionEffect(()=>{j&&E.current&&j.update(n,f)});const C=n[JS],N=g.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return fS(()=>{w.current=!0,j&&(E.current=!0,window.MotionIsMounted=!0,j.updateFeatures(),j.scheduleRenderMicrotask(),N.current&&j.animationState&&j.animationState.animateChanges())}),g.useEffect(()=>{j&&(!N.current&&j.animationState&&j.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),N.current=!1),j.enteringChildren=void 0)}),j}function fM(t,e,n,i){const{layoutId:o,layout:c,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:F2(t.parent)),t.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||h&&fa(h),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:f,layoutRoot:p})}function F2(t){if(t)return t.options.allowProjection!==!1?t.projection:F2(t.parent)}function np(t,{forwardMotionProps:e=!1,type:n}={},i,o){i&&Kk(i);const c=n?n==="svg":ng(t),u=c?cM:lM;function h(p,v){let x;const b={...g.useContext(eg),...p,layoutId:pM(p)},{isStatic:w}=b,j=Qk(p),_=u(p,w);if(!w&&hS){mM();const E=gM(b);x=E.MeasureLayout,j.visualElement=hM(t,_,b,o,E.ProjectionNode,c)}return l.jsxs(ud.Provider,{value:j,children:[x&&j.visualElement?l.jsx(x,{visualElement:j.visualElement,...b}):null,rM(t,p,dM(_,j.visualElement,v),_,w,e,c)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=g.forwardRef(h);return f[uM]=t,f}function pM({layoutId:t}){const e=g.useContext(_m).id;return e&&t!==void 0?e+"-"+t:t}function mM(t,e){g.useContext(U2).strict}function gM(t){const e=B2(),{drag:n,layout:i}=e;if(!n&&!i)return{};const o={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function vM(t,e){if(typeof Proxy>"u")return np;const n=new Map,i=(c,u)=>np(c,u,t,e),o=(c,u)=>i(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?i:(n.has(u)||n.set(u,np(u,void 0,t,e)),n.get(u))})}const yM=(t,e)=>e.isSVG??ng(t)?new YR(e):new HR(e,{allowProjection:t!==g.Fragment});class xM extends vi{constructor(e){super(e),e.animationState||(e.animationState=ek(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ld(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let bM=0;class wM extends vi{constructor(){super(...arguments),this.id=bM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const jM={animation:{Feature:xM},exit:{Feature:wM}};function _l(t){return{point:{x:t.pageX,y:t.pageY}}}const SM=t=>e=>Km(e)&&t(e,_l(e));function Xo(t,e,n,i){return dl(t,e,SM(n),i)}const G2=({current:t})=>t?t.ownerDocument.defaultView:null,p1=(t,e)=>Math.abs(t-e);function EM(t,e){const n=p1(t.x,e.x),i=p1(t.y,e.y);return Math.sqrt(n**2+i**2)}const m1=new Set(["auto","scroll"]);class W2{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=ip(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,_=EM(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!_)return;const{point:E}=w,{timestamp:C}=kt;this.history.push({...E,timestamp:C});const{onStart:N,onMove:T}=this.handlers;j||(N&&N(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,w)},this.handlePointerMove=(w,j)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=sp(j,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(w,j)=>{this.end();const{onEnd:_,onSessionEnd:E,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=ip(w.type==="pointercancel"?this.lastMoveEventInfo:sp(j,this.transformPagePoint),this.history);this.startEvent&&_&&_(w,N),E&&E(w,N)},!Km(e))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const f=_l(e),p=sp(f,this.transformPagePoint),{point:v}=p,{timestamp:x}=kt;this.history=[{...v,timestamp:x}];const{onSessionStart:b}=n;b&&b(e,ip(p,this.history)),this.removeListeners=jl(Xo(this.contextWindow,"pointermove",this.handlePointerMove),Xo(this.contextWindow,"pointerup",this.handlePointerUp),Xo(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(m1.has(i.overflowX)||m1.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,o=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},c={x:o.x-n.x,y:o.y-n.y};c.x===0&&c.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=c.x,this.lastMoveEventInfo.point.y+=c.y):this.history.length>0&&(this.history[0].x-=c.x,this.history[0].y-=c.y),this.scrollPositions.set(e,o),Qe.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),pi(this.updatePoint)}}function sp(t,e){return e?{point:e(t.point)}:t}function g1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ip({point:t},e){return{point:t,delta:g1(t,K2(e)),offset:g1(t,_M(e)),velocity:CM(e,.1)}}function _M(t){return t[0]}function K2(t){return t[t.length-1]}function CM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=K2(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>$n(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&o.timestamp-i.timestamp>$n(e)*2&&(i=t[1]);const c=Tn(o.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-i.x)/c,y:(o.y-i.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function TM(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?at(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?at(n,t,i.max):Math.min(t,n)),t}function v1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function NM(t,{top:e,left:n,bottom:i,right:o}){return{x:v1(t.x,n,o),y:v1(t.y,e,i)}}function y1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function LM(t,e){return{x:y1(t.x,e.x),y:y1(t.y,e.y)}}function OM(t,e){let n=.5;const i=Vt(t),o=Vt(e);return o>i?n=ol(e.min,e.max-i,t.min):i>o&&(n=ol(t.min,t.max-o,e.min)),ts(0,1,n)}function AM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const tm=.35;function RM(t=tm){return t===!1?t=0:t===!0&&(t=tm),{x:x1(t,"left","right"),y:x1(t,"top","bottom")}}function x1(t,e,n){return{min:b1(t,e),max:b1(t,n)}}function b1(t,e){return typeof t=="number"?t:t[e]||0}const kM=new WeakMap;class MM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=x=>{n&&this.snapToCursor(_l(x).point),this.stopAnimation()},u=(x,b)=>{const{drag:w,dragPropagation:j,onDragStart:_}=this.getProps();if(w&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lR(w),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(C=>{let N=this.getAxisMotionValue(C).get()||0;if(es.test(N)){const{projection:T}=this.visualElement;if(T&&T.layout){const k=T.layout.layoutBox[C];k&&(N=Vt(k)*(parseFloat(N)/100))}}this.originPoint[C]=N}),_&&Qe.update(()=>_(x,b),!1,!0),Wp(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},h=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:j,onDirectionLock:_,onDrag:E}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:C}=b;if(j&&this.currentDirection===null){this.currentDirection=PM(C),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",b.point,C),this.updateAxis("y",b.point,C),this.visualElement.render(),E&&Qe.update(()=>E(x,b),!1,!0)},f=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b,this.stop(x,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:x}=this.getProps();(x||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new W2(e,{onSessionStart:c,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:G2(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Qe.postRender(()=>h(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!nu(e,o,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=TM(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&fa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=NM(i.layoutBox,e):this.constraints=!1,this.elastic=RM(n),o!==this.constraints&&!fa(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&Xn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=AM(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fa(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=zR(i,o.root,this.visualElement.getTransformPagePoint());let u=LM(o.layout.layoutBox,c);if(n){const h=n(MR(u));this.hasMutatedConstraints=!!h,h&&(u=m2(h))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Xn(v=>{if(!nu(v,n,this.currentDirection))return;let x=f&&f[v]||{};u&&(x={min:0,max:0});const b=o?200:1e6,w=o?40:1e7,j={type:"inertia",velocity:i?e[v]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...c,...x};return this.startAxisValueAnimation(v,j)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Wp(this.visualElement,e),i.start(Hm(e,i,0,n,this.visualElement,!1))}stopAnimation(){Xn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Xn(n=>{const{drag:i}=this.getProps();if(!nu(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:h}=o.layout.layoutBox[n],f=c.get()||0;c.set(e[n]-at(u,h,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!fa(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Xn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();o[u]=OM({min:f,max:f},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Xn(u=>{if(!nu(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(at(f,p,o[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;kM.set(this.visualElement,this);const e=this.visualElement.current,n=Xo(e,"pointerdown",p=>{const{drag:v,dragListener:x=!0}=this.getProps(),b=p.target,w=b!==e&&pR(b);v&&x&&!w&&this.start(p)});let i;const o=()=>{const{dragConstraints:p}=this.getProps();fa(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),i||(i=DM(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:c}=this.visualElement,u=c.addEventListener("measure",o);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),Qe.read(o);const h=dl(window,"resize",()=>this.scalePositionWithinConstraints()),f=c.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:v})=>{this.isDragging&&v&&(Xn(x=>{const b=this.getAxisMotionValue(x);b&&(this.originPoint[x]+=p[x].translate,b.set(b.get()+p[x].translate))}),this.visualElement.render())}));return()=>{h(),n(),u(),f&&f(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=tm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:h}}}function w1(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function DM(t,e,n){const i=Nb(t,w1(n)),o=Nb(e,w1(n));return()=>{i(),o()}}function nu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function PM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class zM extends vi{constructor(e){super(e),this.removeGroupControls=Nn,this.removeListeners=Nn,this.controls=new MM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const rp=t=>(e,n)=>{t&&Qe.update(()=>t(e,n),!1,!0)};class UM extends vi{constructor(){super(...arguments),this.removePointerDownListener=Nn}onPointerDown(e){this.session=new W2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:G2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:rp(e),onStart:rp(n),onMove:rp(i),onEnd:(c,u)=>{delete this.session,o&&Qe.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=Xo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let ap=!1;class BM extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:c}=e;c&&(n.group&&n.group.add(c),i&&i.register&&o&&i.register(c),ap&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),fu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:c}=this.props,{projection:u}=i;return u&&(u.isPresent=c,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),ap=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||Qe.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;ap=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y2(t){const[e,n]=z2(),i=g.useContext(_m);return l.jsx(BM,{...t,layoutGroup:i,switchLayoutGroup:g.useContext(q2),isPresent:e,safeToRemove:n})}const IM={pan:{Feature:UM},drag:{Feature:zM,ProjectionNode:P2,MeasureLayout:Y2}};function j1(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,c=i[o];c&&Qe.postRender(()=>c(e,_l(e)))}class $M extends vi{mount(){const{current:e}=this.node;e&&(this.unmount=uR(e,(n,i)=>(j1(this.node,i,"Start"),o=>j1(this.node,o,"End"))))}unmount(){}}class VM extends vi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jl(dl(this.node.current,"focus",()=>this.onFocus()),dl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function S1(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),c=i[o];c&&Qe.postRender(()=>c(e,_l(e)))}class HM extends vi{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=gR(e,(o,c)=>(S1(this.node,c,"Start"),(u,{success:h})=>S1(this.node,u,h?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const nm=new WeakMap,op=new WeakMap,qM=t=>{const e=nm.get(t.target);e&&e(t)},FM=t=>{t.forEach(qM)};function GM({root:t,...e}){const n=t||document;op.has(n)||op.set(n,{});const i=op.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(FM,{root:t,...e})),i[o]}function WM(t,e,n){const i=GM(e);return nm.set(t,n),i.observe(t),()=>{nm.delete(t),i.unobserve(t)}}const KM={some:0,all:1};class YM extends vi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:c}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:KM[o]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:x}=this.node.getProps(),b=p?v:x;b&&b(f)};return WM(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ZM(e,n))&&this.startObserver()}unmount(){}}function ZM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const XM={inView:{Feature:YM},tap:{Feature:HM},focus:{Feature:VM},hover:{Feature:$M}},JM={layout:{ProjectionNode:P2,MeasureLayout:Y2}},QM={...jM,...XM,...IM,...JM},Je=vM(QM,yM);function e8(){const{usuario:t}=ot(),e=Ze(),[n,i]=g.useState([]),[o,c]=g.useState(null),[u,h]=g.useState(!0),[f,p]=g.useState(!1),{modalState:v,showWarning:x,showSuccess:b,showError:w,closeModal:j}=Ra(),[_,E]=g.useState(!1),[C,N]=g.useState(""),[T,k]=g.useState(""),[A,O]=g.useState("efectivo");g.useEffect(()=>{R()},[]);const R=async()=>{if(t?.id)try{const{data:ee,error:ae}=await ce.from("vista_carrito").select("*").eq("usuario_id",t.id);if(ae)throw ae;const{data:oe,error:z}=await ce.from("vista_resumen_carrito").select("*").eq("usuario_id",t.id).single();if(z&&z.code!=="PGRST116")throw z;i(ee||[]),c(oe)}catch(ee){console.error("Error al cargar carrito:",ee)}finally{h(!1)}},I=async(ee,ae)=>{if(!(ae<1))try{const{error:oe}=await ce.from("carrito").update({cantidad:ae}).eq("id",ee);if(oe)throw oe;await R()}catch(oe){console.error("Error al actualizar cantidad:",oe)}},P=async ee=>{try{const{error:ae}=await ce.from("carrito").delete().eq("id",ee);if(ae)throw ae;await R()}catch(ae){console.error("Error al eliminar item:",ae)}},G=async()=>{t?.id&&E(!0)},se=async()=>{if(t?.id){E(!1);try{const{error:ee}=await ce.rpc("limpiar_carrito_usuario",{p_usuario_id:t.id});if(ee)throw ee;await R()}catch(ee){console.error("Error al vaciar carrito:",ee)}}},re=async()=>{if(!t?.id||!C.trim()){x("Por favor ingresa la direccin de entrega");return}if(!A){x("Por favor selecciona un mtodo de pago");return}p(!0);try{const{error:ee}=await ce.rpc("crear_pedido_desde_carrito",{p_usuario_id:t.id,p_direccion_entrega:C,p_latitud:19.4326,p_longitud:-99.1332,p_notas_cliente:T||null});if(ee)throw ee;b(`Pedido creado exitosamente! 
Mtodo de pago: ${A==="tarjeta"?"Tarjeta":A==="transferencia"?"Transferencia":"Efectivo"}`),setTimeout(()=>e("/pedidos"),1500)}catch(ee){console.error("Error al crear pedido:",ee),w(ee.message||"Error al crear el pedido")}finally{p(!1)}};return u?l.jsxs("div",{className:"cart-page",children:[l.jsx($e,{}),l.jsxs("div",{className:"cart-loading",children:[l.jsx(Je.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"loading-icon",children:""}),l.jsx("p",{className:"loading-text",children:"Cargando tu carrito..."})]})]}):n.length===0?l.jsxs("div",{className:"cart-page",children:[l.jsx($e,{}),l.jsx("div",{className:"cart-empty",children:l.jsxs(Je.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"empty-content",children:[l.jsx("div",{className:"empty-icon",children:""}),l.jsx("h2",{className:"empty-title",children:"Tu carrito est vaco"}),l.jsx("p",{className:"empty-description",children:"Agrega deliciosos platillos y comienza tu pedido!"}),l.jsxs(Je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/home"),className:"empty-button",children:[l.jsx("span",{className:"button-icon",children:""}),"Explorar Restaurantes"]})]})})]}):l.jsxs("div",{className:"cart-page",children:[l.jsx($e,{}),l.jsxs("div",{className:"cart-container",children:[l.jsxs(Je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"cart-header",children:[l.jsxs("div",{className:"header-left",children:[l.jsxs("h1",{className:"cart-title",children:[l.jsx("span",{className:"title-icon",children:""}),"Mi Carrito"]}),l.jsxs("p",{className:"cart-subtitle",children:[o?.total_items," ",o?.total_items===1?"producto":"productos"]})]}),l.jsxs(Je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:G,className:"clear-cart-btn",children:[l.jsx("span",{children:""}),"Vaciar"]})]}),l.jsxs("div",{className:"cart-grid",children:[l.jsxs("div",{className:"items-column",children:[o&&l.jsxs(Je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"restaurant-banner",children:[l.jsx("div",{className:"banner-emoji",children:o.restaurante_emoji}),l.jsxs("div",{className:"banner-info",children:[l.jsx("h3",{className:"banner-name",children:o.restaurante_nombre}),l.jsxs("p",{className:"banner-meta",children:[l.jsxs("span",{children:[" ",o.tiempo_entrega_estimado," min"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[" L ",o.costo_envio.toFixed(2)]})]})]})]}),l.jsx("div",{className:"items-list",children:l.jsx(Gk,{children:n.map((ee,ae)=>l.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:ae*.05},className:"cart-item",children:[ee.platillo_imagen&&l.jsxs("div",{className:"item-image-wrapper",children:[l.jsx("img",{src:ee.platillo_imagen,alt:ee.platillo_nombre,className:"item-image"}),!ee.platillo_disponible&&l.jsx("div",{className:"unavailable-badge",children:"No disponible"})]}),l.jsxs("div",{className:"item-details",children:[l.jsx("h4",{className:"item-name",children:ee.platillo_nombre}),l.jsx("p",{className:"item-description",children:ee.platillo_descripcion}),l.jsxs("p",{className:"item-price",children:["L ",ee.precio_unitario.toFixed(2)]}),ee.notas&&l.jsxs("div",{className:"item-notes",children:[l.jsx("span",{children:""}),ee.notas]}),l.jsxs("div",{className:"item-actions",children:[l.jsxs("div",{className:"quantity-controls",children:[l.jsx(Je.button,{whileTap:{scale:.9},onClick:()=>I(ee.id,ee.cantidad-1),disabled:ee.cantidad<=1,className:"qty-btn",children:""}),l.jsx("span",{className:"qty-value",children:ee.cantidad}),l.jsx(Je.button,{whileTap:{scale:.9},onClick:()=>I(ee.id,ee.cantidad+1),className:"qty-btn",children:"+"})]}),l.jsxs("div",{className:"item-footer",children:[l.jsxs("span",{className:"item-subtotal",children:["L ",ee.subtotal.toFixed(2)]}),l.jsx(Je.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>P(ee.id),className:"delete-btn",children:""})]})]})]})]},ee.id))})})]}),l.jsx("div",{className:"checkout-column",children:l.jsxs(Je.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"checkout-card",children:[l.jsxs("div",{className:"checkout-section",children:[l.jsxs("h3",{className:"section-title",children:[l.jsx("span",{children:""}),"Datos de Entrega"]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Direccin de entrega *"}),l.jsx("input",{type:"text",value:C,onChange:ee=>N(ee.target.value),placeholder:"Calle, nmero, colonia...",className:"form-input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Notas adicionales"}),l.jsx("textarea",{value:T,onChange:ee=>k(ee.target.value),placeholder:"Indicaciones, referencias...",rows:3,className:"form-textarea"})]})]}),l.jsx("div",{className:"section-divider"}),l.jsxs("div",{className:"checkout-section",children:[l.jsxs("h3",{className:"section-title",children:[l.jsx("span",{children:""}),"Mtodo de Pago"]}),l.jsxs("div",{className:"payment-options",children:[l.jsxs(Je.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>O("tarjeta"),className:`payment-option ${A==="tarjeta"?"active":""}`,children:[l.jsx("div",{className:"payment-icon",children:""}),l.jsxs("div",{className:"payment-text",children:[l.jsx("div",{className:"payment-name",children:"Tarjeta"}),l.jsx("div",{className:"payment-desc",children:"Dbito o Crdito"})]}),A==="tarjeta"&&l.jsx("div",{className:"payment-check",children:""})]}),l.jsxs(Je.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>O("transferencia"),className:`payment-option ${A==="transferencia"?"active":""}`,children:[l.jsx("div",{className:"payment-icon",children:""}),l.jsxs("div",{className:"payment-text",children:[l.jsx("div",{className:"payment-name",children:"Transferencia"}),l.jsx("div",{className:"payment-desc",children:"Bancaria"})]}),A==="transferencia"&&l.jsx("div",{className:"payment-check",children:""})]}),l.jsxs(Je.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>O("efectivo"),className:`payment-option ${A==="efectivo"?"active":""}`,children:[l.jsx("div",{className:"payment-icon",children:""}),l.jsxs("div",{className:"payment-text",children:[l.jsx("div",{className:"payment-name",children:"Efectivo"}),l.jsx("div",{className:"payment-desc",children:"Pago al recibir"})]}),A==="efectivo"&&l.jsx("div",{className:"payment-check",children:""})]})]})]}),l.jsx("div",{className:"section-divider"}),l.jsxs("div",{className:"checkout-section",children:[l.jsx("h3",{className:"section-title",children:"Resumen del Pedido"}),l.jsxs("div",{className:"summary-row",children:[l.jsxs("span",{className:"summary-label",children:["Subtotal (",o?.total_items," productos)"]}),l.jsxs("span",{className:"summary-value",children:["L ",o?.subtotal_productos.toFixed(2)]})]}),l.jsxs("div",{className:"summary-row",children:[l.jsx("span",{className:"summary-label",children:"Costo de envo"}),l.jsxs("span",{className:"summary-value",children:["L ",o?.costo_envio.toFixed(2)]})]}),l.jsx("div",{className:"section-divider"}),l.jsxs("div",{className:"total-row",children:[l.jsx("span",{className:"total-label",children:"Total"}),l.jsxs("span",{className:"total-value",children:["L ",o?.total_carrito.toFixed(2)]})]}),o&&l.jsxs("div",{className:"estimated-time",children:[" Tiempo estimado: ",o.tiempo_entrega_estimado," min"]})]}),l.jsx(Je.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:re,disabled:f||!C.trim(),className:`checkout-btn ${f||!C.trim()?"disabled":""}`,children:f?l.jsxs(l.Fragment,{children:[l.jsx(Je.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"btn-icon",children:""}),"Procesando..."]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"btn-icon",children:""}),"Realizar Pedido"]})})]})})]})]}),l.jsx(Aa,{isOpen:v.isOpen,onClose:j,title:v.title,message:v.message,type:v.type}),l.jsx(ad,{visible:_,title:"Vaciar Carrito",description:"Seguro que quieres vaciar el carrito? Esta accin no se puede deshacer.",onCancel:()=>E(!1),onConfirm:se,confirmLabel:"S, vaciar",cancelLabel:"Cancelar"})]})}function t8(){const{usuario:t}=ot(),e=Ze(),[n,i]=g.useState([]),[o,c]=g.useState(!0),[u,h]=g.useState("todos"),[f,p]=g.useState("");g.useEffect(()=>{v();const C=ce.channel("mis-pedidos").on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`usuario_id=eq.${t?.id}`},()=>{v()}).subscribe();return()=>{ce.removeChannel(C)}},[t?.id]);const v=async()=>{if(t?.id)try{const{data:C,error:N}=await ce.from("vista_pedidos_cliente").select("*").eq("usuario_id",t.id).order("creado_en",{ascending:!1});if(N)throw N;i(C||[])}catch(C){console.error("Error al cargar pedidos:",C)}finally{c(!1)}},x=C=>({pendiente:"Pendiente",confirmado:"Confirmado",en_preparacion:"En Preparacin",listo:"Listo",en_camino:"En Camino",entregado:"Entregado",cancelado:"Cancelado"})[C]||C,b=C=>({pendiente:"",confirmado:"",en_preparacion:"",listo:"",en_camino:"",entregado:"",cancelado:""})[C]||"",w=n.filter(C=>{const N=u==="todos"||C.estado===u,T=f===""||C.numero_pedido.toLowerCase().includes(f.toLowerCase())||C.restaurante_nombre.toLowerCase().includes(f.toLowerCase());return N&&T}),j=C=>C==="todos"?n.length:n.filter(N=>N.estado===C).length,_=["en_camino","listo","en_preparacion","confirmado"],E=n.filter(C=>_.includes(C.estado));return o?l.jsxs("div",{className:"pedidos-page",children:[l.jsx($e,{}),l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"loader"}),l.jsx("p",{className:"loading-text",children:"Cargando tus pedidos..."})]})]}):l.jsxs("div",{className:"pedidos-page",children:[l.jsx($e,{}),l.jsxs("div",{className:"pedidos-wrapper",children:[l.jsx("div",{className:"pedidos-header",children:l.jsxs("div",{children:[l.jsxs("h1",{className:"page-title",children:[l.jsx("span",{className:"title-icon",children:""}),"Mis Pedidos"]}),l.jsx("p",{className:"page-subtitle",children:E.length>0?`Tienes ${E.length} pedido${E.length>1?"s":""} activo${E.length>1?"s":""}`:"Historial de pedidos"})]})}),n.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-icon",children:""}),l.jsx("h2",{className:"empty-title",children:"No tienes pedidos an"}),l.jsx("p",{className:"empty-description",children:"Explora nuestros restaurantes y haz tu primer pedido!"}),l.jsxs("button",{onClick:()=>e("/home"),className:"cta-button",children:[l.jsx("span",{children:""}),"Explorar Restaurantes"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"search-filter-container",children:[l.jsxs("div",{className:"search-box",children:[l.jsx("span",{className:"search-icon",children:""}),l.jsx("input",{type:"text",placeholder:"Buscar por nmero o restaurante...",value:f,onChange:C=>p(C.target.value),className:"search-input"}),f&&l.jsx("button",{onClick:()=>p(""),className:"clear-search",children:""})]}),l.jsxs("div",{className:"filter-chips",children:[l.jsxs("button",{onClick:()=>h("todos"),className:`filter-chip ${u==="todos"?"active":""}`,children:["Todos",l.jsx("span",{className:"chip-count",children:j("todos")})]}),l.jsxs("button",{onClick:()=>h("en_camino"),className:`filter-chip ${u==="en_camino"?"active":""}`,children:[" En Camino",l.jsx("span",{className:"chip-count",children:j("en_camino")})]}),l.jsxs("button",{onClick:()=>h("en_preparacion"),className:`filter-chip ${u==="en_preparacion"?"active":""}`,children:[" Preparando",l.jsx("span",{className:"chip-count",children:j("en_preparacion")})]}),l.jsxs("button",{onClick:()=>h("entregado"),className:`filter-chip ${u==="entregado"?"active":""}`,children:[" Entregados",l.jsx("span",{className:"chip-count",children:j("entregado")})]})]})]}),w.length===0?l.jsxs("div",{className:"no-results",children:[l.jsx("p",{className:"no-results-icon",children:""}),l.jsx("p",{className:"no-results-text",children:"No se encontraron pedidos con estos filtros"}),l.jsx("button",{onClick:()=>{h("todos"),p("")},className:"reset-filters-btn",children:"Limpiar filtros"})]}):l.jsx("div",{className:"pedidos-grid",children:w.map(C=>l.jsxs("div",{onClick:()=>e(`/pedido/${C.pedido_id}`),className:"pedido-card",children:[l.jsxs("div",{className:"card-header",children:[l.jsxs("div",{className:"restaurant-info",children:[l.jsx("span",{className:"restaurant-emoji",children:C.restaurante_emoji}),l.jsxs("div",{children:[l.jsx("h3",{className:"restaurant-name",children:C.restaurante_nombre}),l.jsxs("p",{className:"order-number",children:["Pedido #",C.numero_pedido]})]})]}),l.jsxs("div",{className:"order-total",children:[l.jsxs("p",{className:"total-amount",children:["L ",C.total.toFixed(2)]}),l.jsxs("p",{className:"total-items",children:[C.total_items," item",C.total_items>1?"s":""]})]})]}),l.jsxs("div",{className:`status-badge status-${C.estado}`,children:[l.jsx("span",{className:"status-icon",children:b(C.estado)}),l.jsx("span",{className:"status-text",children:x(C.estado)})]}),C.tiene_repartidor&&C.repartidor_nombre&&l.jsxs("div",{className:"delivery-info",children:[l.jsx("span",{className:"delivery-icon",children:""}),l.jsx("span",{className:"delivery-text",children:C.repartidor_nombre})]}),C.tracking_activo&&l.jsxs("div",{className:"tracking-badge",children:[l.jsx("span",{className:"tracking-pulse"}),l.jsx("span",{className:"tracking-text",children:" Seguimiento en vivo"}),l.jsx("span",{className:"tracking-arrow",children:""})]}),l.jsx("div",{className:"card-footer",children:l.jsxs("span",{className:"order-date",children:[""," ",new Date(C.creado_en).toLocaleString("es-MX",{dateStyle:"medium",timeStyle:"short"})]})})]},C.pedido_id))})]})]})]})}function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function n8(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(hl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s8(t){var e=n8(t,"string");return hl(e)=="symbol"?e:e+""}function Z(t,e,n){return(e=s8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lp,E1;function i8(){if(E1)return lp;E1=1;var t=function(n,i,o,c,u,h,f,p){if(!n){var v;if(i===void 0)v=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var x=[o,c,u,h,f,p],b=0;v=new Error(i.replace(/%s/g,function(){return x[b++]})),v.name="Invariant Violation"}throw v.framesToPop=1,v}};return lp=t,lp}var r8=i8(),St=Z2(r8),Ne=g.createContext(null);function a8(){St(!!g.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=g.useContext(Ne);return St(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function o8(t,e,n){return Object.keys(t).reduce(function(o,c){return e(o,t[c],c)},n)}function l8(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function c8(t,e,n,i){var o={},c=(u,h)=>{var f=n[h];f!==e[h]&&(o[h]=f,u(i,f))};return l8(t,c),o}function u8(t,e,n){var i=o8(n,function(c,u,h){return typeof t[h]=="function"&&c.push(google.maps.event.addListener(e,u,t[h])),c},[]);return i}function d8(t){google.maps.event.removeListener(t)}function ke(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(d8)}function Le(t){var{updaterMap:e,eventMap:n,prevProps:i,nextProps:o,instance:c}=t,u=u8(o,c,n);return c8(e,i,o,c),u}var _1={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},C1={extraMapTypes(t,e){e.forEach(function(i,o){t.mapTypes.set(String(o),i)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function h8(t){var{children:e,options:n,id:i,mapContainerStyle:o,mapContainerClassName:c,center:u,onClick:h,onDblClick:f,onDrag:p,onDragEnd:v,onDragStart:x,onMouseMove:b,onMouseOut:w,onMouseOver:j,onMouseDown:_,onMouseUp:E,onRightClick:C,onCenterChanged:N,onLoad:T,onUnmount:k}=t,[A,O]=g.useState(null),R=g.useRef(null),[I,P]=g.useState(null),[G,se]=g.useState(null),[re,ee]=g.useState(null),[ae,oe]=g.useState(null),[z,Y]=g.useState(null),[ne,J]=g.useState(null),[le,M]=g.useState(null),[W,q]=g.useState(null),[ie,H]=g.useState(null),[he,pe]=g.useState(null),[me,Se]=g.useState(null),[ye,Oe]=g.useState(null);return g.useEffect(()=>{n&&A!==null&&A.setOptions(n)},[A,n]),g.useEffect(()=>{A!==null&&typeof u<"u"&&A.setCenter(u)},[A,u]),g.useEffect(()=>{A&&f&&(G!==null&&google.maps.event.removeListener(G),se(google.maps.event.addListener(A,"dblclick",f)))},[f]),g.useEffect(()=>{A&&v&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(A,"dragend",v)))},[v]),g.useEffect(()=>{A&&x&&(ae!==null&&google.maps.event.removeListener(ae),oe(google.maps.event.addListener(A,"dragstart",x)))},[x]),g.useEffect(()=>{A&&_&&(z!==null&&google.maps.event.removeListener(z),Y(google.maps.event.addListener(A,"mousedown",_)))},[_]),g.useEffect(()=>{A&&b&&(ne!==null&&google.maps.event.removeListener(ne),J(google.maps.event.addListener(A,"mousemove",b)))},[b]),g.useEffect(()=>{A&&w&&(le!==null&&google.maps.event.removeListener(le),M(google.maps.event.addListener(A,"mouseout",w)))},[w]),g.useEffect(()=>{A&&j&&(W!==null&&google.maps.event.removeListener(W),q(google.maps.event.addListener(A,"mouseover",j)))},[j]),g.useEffect(()=>{A&&E&&(ie!==null&&google.maps.event.removeListener(ie),H(google.maps.event.addListener(A,"mouseup",E)))},[E]),g.useEffect(()=>{A&&C&&(he!==null&&google.maps.event.removeListener(he),pe(google.maps.event.addListener(A,"rightclick",C)))},[C]),g.useEffect(()=>{A&&h&&(me!==null&&google.maps.event.removeListener(me),Se(google.maps.event.addListener(A,"click",h)))},[h]),g.useEffect(()=>{A&&p&&(ye!==null&&google.maps.event.removeListener(ye),Oe(google.maps.event.addListener(A,"drag",p)))},[p]),g.useEffect(()=>{A&&N&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(A,"center_changed",N)))},[h]),g.useEffect(()=>{var Bt=R.current===null?null:new google.maps.Map(R.current,n);return O(Bt),Bt!==null&&T&&T(Bt),()=>{Bt!==null&&k&&k(Bt)}},[]),l.jsx("div",{id:i,ref:R,style:o,className:c,children:l.jsx(Ne.Provider,{value:A,children:A!==null?e:null})})}g.memo(h8);class f8 extends g.PureComponent{constructor(){super(...arguments),Z(this,"state",{map:null}),Z(this,"registeredEvents",[]),Z(this,"mapRef",null),Z(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),Z(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),Z(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),Z(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Le({updaterMap:C1,eventMap:_1,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:C1,eventMap:_1,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),ke(this.registeredEvents))}render(){return l.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:l.jsx(Ne.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function T1(t,e,n,i,o,c,u){try{var h=t[c](u),f=h.value}catch(p){return void n(p)}h.done?e(f):Promise.resolve(f).then(i,o)}function X2(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var c=t.apply(e,n);function u(f){T1(c,i,o,u,h,"next",f)}function h(f){T1(c,i,o,u,h,"throw",f)}u(void 0)})}}function J2(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:i="weekly",language:o,region:c,libraries:u,channel:h,mapIds:f,authReferrerPolicy:p,apiUrl:v="https://maps.googleapis.com"}=t,x=[];return St(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?x.push("key=".concat(e)):n&&x.push("client=".concat(n)),i&&x.push("v=".concat(i)),o&&x.push("language=".concat(o)),c&&x.push("region=".concat(c)),u&&u.length&&x.push("libraries=".concat(u.sort().join(","))),h&&x.push("channel=".concat(h)),f&&f.length&&x.push("map_ids=".concat(f.join(","))),p&&x.push("auth_referrer_policy=".concat(p)),x.push("loading=async"),x.push("callback=initMap"),"".concat(v,"/maps/api/js?").concat(x.join("&"))}var di=typeof document<"u";function Q2(t){var{url:e,id:n,nonce:i}=t;return di?new Promise(function(c,u){var h=document.getElementById(n),f=window;if(h){var p=h.getAttribute("data-state");if(h.src===e&&p!=="error"){if(p==="ready")return c(n);var v=f.initMap,x=h.onerror;f.initMap=function(){v&&v(),c(n)},h.onerror=function(w){x&&x(w),u(w)};return}else h.remove()}var b=document.createElement("script");b.type="text/javascript",b.src=e,b.id=n,b.async=!0,b.nonce=i||"",b.onerror=function(j){b.setAttribute("data-state","error"),u(j)},f.initMap=function(){b.setAttribute("data-state","ready"),c(n)},document.head.appendChild(b)}).catch(o=>{throw console.error("injectScript error: ",o),o}):Promise.reject(new Error("document is undefined"))}function N1(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function sg(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(o,c){return N1(o)||Reflect.apply(e,t,[o,c]),o};var n=t.appendChild.bind(t);t.appendChild=function(o){return N1(o)||Reflect.apply(n,t,[o]),o}}}var Do=!1;function eE(){return l.jsx("div",{children:"Loading..."})}var fl={id:"script-loader",version:"weekly"};class p8 extends g.PureComponent{constructor(){super(...arguments),Z(this,"check",null),Z(this,"state",{loaded:!1}),Z(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),Z(this,"isCleaningUp",X2(function*(){function e(n){if(!Do)n();else if(di)var i=window.setInterval(function(){Do||(window.clearInterval(i),n())},1)}return new Promise(e)})),Z(this,"cleanup",()=>{Do=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(i){return typeof i.src=="string"&&i.src.includes("maps.googleapis")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(i){return i.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(i){return i.innerText!==void 0&&i.innerText.length>0&&i.innerText.includes(".gm-")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)})}),Z(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&sg(),St(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:J2(this.props)};Q2(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),Z(this,"getRef",e=>{this.check=e})}componentDidMount(){if(di){if(window.google&&window.google.maps&&!Do){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),di&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(di){this.cleanup();var e=()=>{this.check||(delete window.google,Do=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||l.jsx(eE,{})]})}}Z(p8,"defaultProps",fl);function m8(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}function ig(t,e){if(t==null)return{};var n,i,o=m8(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)n=c[i],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var L1;function g8(t){var{id:e=fl.id,version:n=fl.version,nonce:i,googleMapsApiKey:o,googleMapsClientId:c,language:u,region:h,libraries:f,preventGoogleFontsLoading:p,channel:v,mapIds:x,authReferrerPolicy:b,apiUrl:w="https://maps.googleapis.com"}=t,j=g.useRef(!1),[_,E]=g.useState(!1),[C,N]=g.useState(void 0);g.useEffect(function(){return j.current=!0,()=>{j.current=!1}},[]),g.useEffect(function(){di&&p&&sg()},[p]),g.useEffect(function(){_&&St(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[_]);var T=J2({version:n,googleMapsApiKey:o,googleMapsClientId:c,language:u,region:h,libraries:f,channel:v,mapIds:x,authReferrerPolicy:b,apiUrl:w});g.useEffect(function(){if(!di)return;function O(){j.current&&(E(!0),L1=T)}if(window.google&&window.google.maps&&L1===T){O();return}Q2({id:e,url:T,nonce:i}).then(O).catch(function(I){j.current&&N(I),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(o||"-",") or Client ID (").concat(c||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(I)})},[e,T,i]);var k=g.useRef(void 0);return g.useEffect(function(){k.current&&f!==k.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),k.current=f},[f]),{isLoaded:_,loadError:C,url:T}}var v8=["loadingElement","onLoad","onError","onUnmount","children"],y8=l.jsx(eE,{});function x8(t){var{loadingElement:e,onLoad:n,onError:i,onUnmount:o,children:c}=t,u=ig(t,v8),{isLoaded:h,loadError:f}=g8(u);return g.useEffect(function(){h&&typeof n=="function"&&n()},[h,n]),g.useEffect(function(){f&&typeof i=="function"&&i(f)},[f,i]),g.useEffect(function(){return()=>{o&&o()}},[o]),h?c:e||y8}g.memo(x8);function b8(t,e,n,i){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(v){try{p(i.next(v))}catch(x){u(x)}}function f(v){try{p(i.throw(v))}catch(x){u(x)}}function p(v){v.done?c(v.value):o(v.value).then(h,f)}p((i=i.apply(t,[])).next())})}function w8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j8=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,o,c;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(o=i;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(c=Object.keys(e),i=c.length,i!==Object.keys(n).length)return!1;for(o=i;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,c[o]))return!1;for(o=i;o--!==0;){var u=c[o];if(!t(e[u],n[u]))return!1}return!0}return e!==e&&n!==n},S8=w8(j8),O1="__googleMapsScriptId",ba;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(ba||(ba={}));class er{constructor(e){var{apiKey:n,authReferrerPolicy:i,channel:o,client:c,id:u=O1,language:h,libraries:f=[],mapIds:p,nonce:v,region:x,retries:b=3,url:w="https://maps.googleapis.com/maps/api/js",version:j}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=i,this.channel=o,this.client=c,this.id=u||O1,this.language=h,this.libraries=f,this.mapIds=p,this.nonce=v,this.region=x,this.retries=b,this.url=w,this.version=j,er.instance){if(!S8(this.options,er.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(er.instance.options)));return er.instance}er.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?ba.FAILURE:this.done?ba.SUCCESS:this.loading?ba.LOADING:ba.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(i=>{i?n(i.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var i={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(i).forEach(c=>!i[c]&&delete i[c]),!((n=(e=window?.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(c=>{var u,h,f,p="The Google Maps JavaScript API",v="google",x="importLibrary",b="__ib__",w=document,j=window;j=j[v]||(j[v]={});var _=j.maps||(j.maps={}),E=new Set,C=new URLSearchParams,N=()=>u||(u=new Promise((T,k)=>b8(this,void 0,void 0,function*(){var A;yield h=w.createElement("script"),h.id=this.id,C.set("libraries",[...E]+"");for(f in c)C.set(f.replace(/[A-Z]/g,O=>"_"+O[0].toLowerCase()),c[f]);C.set("callback",v+".maps."+b),h.src=this.url+"?"+C,_[b]=T,h.onerror=()=>u=k(Error(p+" could not load.")),h.nonce=this.nonce||((A=w.querySelector("script[nonce]"))===null||A===void 0?void 0:A.nonce)||"",w.head.append(h)})));_[x]?console.warn(p+" only loads once. Ignoring:",c):_[x]=function(T){for(var k=arguments.length,A=new Array(k>1?k-1:0),O=1;O<k;O++)A[O-1]=arguments[O];return E.add(T)&&N().then(()=>_[x](T,...A))}})(i);var o=this.libraries.map(c=>this.importLibrary(c));o.length||o.push(this.importLibrary("core")),Promise.all(o).then(()=>this.callback(),c=>{var u=new ErrorEvent("error",{error:c});this.loadErrorCallback(u)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var E8=["maps"];function _8(t){var{id:e=fl.id,version:n=fl.version,nonce:i,googleMapsApiKey:o,language:c,region:u,libraries:h=E8,preventGoogleFontsLoading:f,mapIds:p,authReferrerPolicy:v}=t,x=g.useRef(!1),[b,w]=g.useState(!1),[j,_]=g.useState(void 0);g.useEffect(function(){return x.current=!0,()=>{x.current=!1}},[]);var E=g.useMemo(()=>new er({id:e,apiKey:o,version:n,libraries:h,language:c||"en",region:u||"US",mapIds:p||[],nonce:i||"",authReferrerPolicy:v||"origin"}),[e,o,n,h,c,u,p,i,v]);g.useEffect(function(){b||E.load().then(()=>{x.current&&w(!0)}).catch(T=>{_(T)})},[]),g.useEffect(()=>{di&&f&&sg()},[f]);var C=g.useRef();return g.useEffect(()=>{C.current&&h!==C.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),C.current=h},[h]),{isLoaded:b,loadError:j}}function A1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A1(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var R1={},k1={options(t,e){t.setOptions(e)}};function C8(t){var{options:e,onLoad:n,onUnmount:i}=t,o=g.useContext(Ne),[c,u]=g.useState(null);return g.useEffect(()=>{c!==null&&c.setMap(o)},[o]),g.useEffect(()=>{e&&c!==null&&c.setOptions(e)},[c,e]),g.useEffect(()=>{var h=new google.maps.TrafficLayer(Au(Au({},e),{},{map:o}));return u(h),n&&n(h),()=>{c!==null&&(i&&i(c),c.setMap(null))}},[]),null}g.memo(C8);class T8 extends g.PureComponent{constructor(){super(...arguments),Z(this,"state",{trafficLayer:null}),Z(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),Z(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Au(Au({},this.props.options),{},{map:this.context}));this.registeredEvents=Le({updaterMap:k1,eventMap:R1,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:k1,eventMap:R1,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),ke(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Z(T8,"contextType",Ne);function N8(t){var{onLoad:e,onUnmount:n}=t,i=g.useContext(Ne),[o,c]=g.useState(null);return g.useEffect(()=>{o!==null&&o.setMap(i)},[i]),g.useEffect(()=>{var u=new google.maps.BicyclingLayer;return c(u),u.setMap(i),e&&e(u),()=>{u!==null&&(n&&n(u),u.setMap(null))}},[]),null}g.memo(N8);class L8 extends g.PureComponent{constructor(){super(...arguments),Z(this,"state",{bicyclingLayer:null}),Z(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Z(L8,"contextType",Ne);function O8(t){var{onLoad:e,onUnmount:n}=t,i=g.useContext(Ne),[o,c]=g.useState(null);return g.useEffect(()=>{o!==null&&o.setMap(i)},[i]),g.useEffect(()=>{var u=new google.maps.TransitLayer;return c(u),u.setMap(i),e&&e(u),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}g.memo(O8);class A8 extends g.PureComponent{constructor(){super(...arguments),Z(this,"state",{transitLayer:null}),Z(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}Z(A8,"contextType",Ne);function M1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M1(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var D1={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},P1={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function R8(t){var{options:e,drawingMode:n,onCircleComplete:i,onMarkerComplete:o,onOverlayComplete:c,onPolygonComplete:u,onPolylineComplete:h,onRectangleComplete:f,onLoad:p,onUnmount:v}=t,x=g.useContext(Ne),[b,w]=g.useState(null),[j,_]=g.useState(null),[E,C]=g.useState(null),[N,T]=g.useState(null),[k,A]=g.useState(null),[O,R]=g.useState(null),[I,P]=g.useState(null);return g.useEffect(()=>{b!==null&&b.setMap(x)},[x]),g.useEffect(()=>{e&&b!==null&&b.setOptions(e)},[b,e]),g.useEffect(()=>{b!==null&&b.setDrawingMode(n??null)},[b,n]),g.useEffect(()=>{b&&i&&(j!==null&&google.maps.event.removeListener(j),_(google.maps.event.addListener(b,"circlecomplete",i)))},[b,i]),g.useEffect(()=>{b&&o&&(E!==null&&google.maps.event.removeListener(E),C(google.maps.event.addListener(b,"markercomplete",o)))},[b,o]),g.useEffect(()=>{b&&c&&(N!==null&&google.maps.event.removeListener(N),T(google.maps.event.addListener(b,"overlaycomplete",c)))},[b,c]),g.useEffect(()=>{b&&u&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(b,"polygoncomplete",u)))},[b,u]),g.useEffect(()=>{b&&h&&(O!==null&&google.maps.event.removeListener(O),R(google.maps.event.addListener(b,"polylinecomplete",h)))},[b,h]),g.useEffect(()=>{b&&f&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(b,"rectanglecomplete",f)))},[b,f]),g.useEffect(()=>{St(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var G=new google.maps.drawing.DrawingManager(Ru(Ru({},e),{},{map:x}));return n&&G.setDrawingMode(n),i&&_(google.maps.event.addListener(G,"circlecomplete",i)),o&&C(google.maps.event.addListener(G,"markercomplete",o)),c&&T(google.maps.event.addListener(G,"overlaycomplete",c)),u&&A(google.maps.event.addListener(G,"polygoncomplete",u)),h&&R(google.maps.event.addListener(G,"polylinecomplete",h)),f&&P(google.maps.event.addListener(G,"rectanglecomplete",f)),w(G),p&&p(G),()=>{b!==null&&(j&&google.maps.event.removeListener(j),E&&google.maps.event.removeListener(E),N&&google.maps.event.removeListener(N),k&&google.maps.event.removeListener(k),O&&google.maps.event.removeListener(O),I&&google.maps.event.removeListener(I),v&&v(b),b.setMap(null))}},[]),null}g.memo(R8);class k8 extends g.PureComponent{constructor(e){super(e),Z(this,"registeredEvents",[]),Z(this,"state",{drawingManager:null}),Z(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),St(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Ru(Ru({},this.props.options),{},{map:this.context}));this.registeredEvents=Le({updaterMap:P1,eventMap:D1,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:P1,eventMap:D1,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),ke(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}Z(k8,"contextType",Ne);function z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var U1={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},B1={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},ku={};function M8(t){var{position:e,options:n,clusterer:i,noClustererRedraw:o,children:c,draggable:u,visible:h,animation:f,clickable:p,cursor:v,icon:x,label:b,opacity:w,shape:j,title:_,zIndex:E,onClick:C,onDblClick:N,onDrag:T,onDragEnd:k,onDragStart:A,onMouseOut:O,onMouseOver:R,onMouseUp:I,onMouseDown:P,onRightClick:G,onClickableChanged:se,onCursorChanged:re,onAnimationChanged:ee,onDraggableChanged:ae,onFlatChanged:oe,onIconChanged:z,onPositionChanged:Y,onShapeChanged:ne,onTitleChanged:J,onVisibleChanged:le,onZindexChanged:M,onLoad:W,onUnmount:q}=t,ie=g.useContext(Ne),[H,he]=g.useState(null),[pe,me]=g.useState(null),[Se,ye]=g.useState(null),[Oe,Bt]=g.useState(null),[fn,Jt]=g.useState(null),[ze,dr]=g.useState(null),[hr,za]=g.useState(null),[Os,fr]=g.useState(null),[As,Cl]=g.useState(null),[pr,Mt]=g.useState(null),[Tl,Ua]=g.useState(null),[yi,xi]=g.useState(null),[mr,Ba]=g.useState(null),[gr,Nl]=g.useState(null),[qn,Dt]=g.useState(null),[Qt,Pt]=g.useState(null),[vr,Ll]=g.useState(null),[yr,bi]=g.useState(null),[wi,ji]=g.useState(null),[pn,Si]=g.useState(null),[Fn,Ol]=g.useState(null),[Ei,xr]=g.useState(null);g.useEffect(()=>{H!==null&&H.setMap(ie)},[ie]),g.useEffect(()=>{typeof n<"u"&&H!==null&&H.setOptions(n)},[H,n]),g.useEffect(()=>{typeof u<"u"&&H!==null&&H.setDraggable(u)},[H,u]),g.useEffect(()=>{e&&H!==null&&H.setPosition(e)},[H,e]),g.useEffect(()=>{typeof h<"u"&&H!==null&&H.setVisible(h)},[H,h]),g.useEffect(()=>{H?.setAnimation(f)},[H,f]),g.useEffect(()=>{H&&p!==void 0&&H.setClickable(p)},[H,p]),g.useEffect(()=>{H&&v!==void 0&&H.setCursor(v)},[H,v]),g.useEffect(()=>{H&&x!==void 0&&H.setIcon(x)},[H,x]),g.useEffect(()=>{H&&b!==void 0&&H.setLabel(b)},[H,b]),g.useEffect(()=>{H&&w!==void 0&&H.setOpacity(w)},[H,w]),g.useEffect(()=>{H&&j!==void 0&&H.setShape(j)},[H,j]),g.useEffect(()=>{H&&_!==void 0&&H.setTitle(_)},[H,_]),g.useEffect(()=>{H&&E!==void 0&&H.setZIndex(E)},[H,E]),g.useEffect(()=>{H&&N&&(pe!==null&&google.maps.event.removeListener(pe),me(google.maps.event.addListener(H,"dblclick",N)))},[N]),g.useEffect(()=>{H&&k&&(Se!==null&&google.maps.event.removeListener(Se),ye(google.maps.event.addListener(H,"dragend",k)))},[k]),g.useEffect(()=>{H&&A&&(Oe!==null&&google.maps.event.removeListener(Oe),Bt(google.maps.event.addListener(H,"dragstart",A)))},[A]),g.useEffect(()=>{H&&P&&(fn!==null&&google.maps.event.removeListener(fn),Jt(google.maps.event.addListener(H,"mousedown",P)))},[P]),g.useEffect(()=>{H&&O&&(ze!==null&&google.maps.event.removeListener(ze),dr(google.maps.event.addListener(H,"mouseout",O)))},[O]),g.useEffect(()=>{H&&R&&(hr!==null&&google.maps.event.removeListener(hr),za(google.maps.event.addListener(H,"mouseover",R)))},[R]),g.useEffect(()=>{H&&I&&(Os!==null&&google.maps.event.removeListener(Os),fr(google.maps.event.addListener(H,"mouseup",I)))},[I]),g.useEffect(()=>{H&&G&&(As!==null&&google.maps.event.removeListener(As),Cl(google.maps.event.addListener(H,"rightclick",G)))},[G]),g.useEffect(()=>{H&&C&&(pr!==null&&google.maps.event.removeListener(pr),Mt(google.maps.event.addListener(H,"click",C)))},[C]),g.useEffect(()=>{H&&T&&(Tl!==null&&google.maps.event.removeListener(Tl),Ua(google.maps.event.addListener(H,"drag",T)))},[T]),g.useEffect(()=>{H&&se&&(yi!==null&&google.maps.event.removeListener(yi),xi(google.maps.event.addListener(H,"clickable_changed",se)))},[se]),g.useEffect(()=>{H&&re&&(mr!==null&&google.maps.event.removeListener(mr),Ba(google.maps.event.addListener(H,"cursor_changed",re)))},[re]),g.useEffect(()=>{H&&ee&&(gr!==null&&google.maps.event.removeListener(gr),Nl(google.maps.event.addListener(H,"animation_changed",ee)))},[ee]),g.useEffect(()=>{H&&ae&&(qn!==null&&google.maps.event.removeListener(qn),Dt(google.maps.event.addListener(H,"draggable_changed",ae)))},[ae]),g.useEffect(()=>{H&&oe&&(Qt!==null&&google.maps.event.removeListener(Qt),Pt(google.maps.event.addListener(H,"flat_changed",oe)))},[oe]),g.useEffect(()=>{H&&z&&(vr!==null&&google.maps.event.removeListener(vr),Ll(google.maps.event.addListener(H,"icon_changed",z)))},[z]),g.useEffect(()=>{H&&Y&&(yr!==null&&google.maps.event.removeListener(yr),bi(google.maps.event.addListener(H,"position_changed",Y)))},[Y]),g.useEffect(()=>{H&&ne&&(wi!==null&&google.maps.event.removeListener(wi),ji(google.maps.event.addListener(H,"shape_changed",ne)))},[ne]),g.useEffect(()=>{H&&J&&(pn!==null&&google.maps.event.removeListener(pn),Si(google.maps.event.addListener(H,"title_changed",J)))},[J]),g.useEffect(()=>{H&&le&&(Fn!==null&&google.maps.event.removeListener(Fn),Ol(google.maps.event.addListener(H,"visible_changed",le)))},[le]),g.useEffect(()=>{H&&M&&(Ei!==null&&google.maps.event.removeListener(Ei),xr(google.maps.event.addListener(H,"zindex_changed",M)))},[M]),g.useEffect(()=>{var Ci=Ea(Ea(Ea({},n||ku),i?ku:{map:ie}),{},{position:e}),Ee=new google.maps.Marker(Ci);return i?i.addMarker(Ee,!!o):Ee.setMap(ie),e&&Ee.setPosition(e),typeof h<"u"&&Ee.setVisible(h),typeof u<"u"&&Ee.setDraggable(u),typeof p<"u"&&Ee.setClickable(p),typeof v=="string"&&Ee.setCursor(v),x&&Ee.setIcon(x),typeof b<"u"&&Ee.setLabel(b),typeof w<"u"&&Ee.setOpacity(w),j&&Ee.setShape(j),typeof _=="string"&&Ee.setTitle(_),typeof E=="number"&&Ee.setZIndex(E),N&&me(google.maps.event.addListener(Ee,"dblclick",N)),k&&ye(google.maps.event.addListener(Ee,"dragend",k)),A&&Bt(google.maps.event.addListener(Ee,"dragstart",A)),P&&Jt(google.maps.event.addListener(Ee,"mousedown",P)),O&&dr(google.maps.event.addListener(Ee,"mouseout",O)),R&&za(google.maps.event.addListener(Ee,"mouseover",R)),I&&fr(google.maps.event.addListener(Ee,"mouseup",I)),G&&Cl(google.maps.event.addListener(Ee,"rightclick",G)),C&&Mt(google.maps.event.addListener(Ee,"click",C)),T&&Ua(google.maps.event.addListener(Ee,"drag",T)),se&&xi(google.maps.event.addListener(Ee,"clickable_changed",se)),re&&Ba(google.maps.event.addListener(Ee,"cursor_changed",re)),ee&&Nl(google.maps.event.addListener(Ee,"animation_changed",ee)),ae&&Dt(google.maps.event.addListener(Ee,"draggable_changed",ae)),oe&&Pt(google.maps.event.addListener(Ee,"flat_changed",oe)),z&&Ll(google.maps.event.addListener(Ee,"icon_changed",z)),Y&&bi(google.maps.event.addListener(Ee,"position_changed",Y)),ne&&ji(google.maps.event.addListener(Ee,"shape_changed",ne)),J&&Si(google.maps.event.addListener(Ee,"title_changed",J)),le&&Ol(google.maps.event.addListener(Ee,"visible_changed",le)),M&&xr(google.maps.event.addListener(Ee,"zindex_changed",M)),he(Ee),W&&W(Ee),()=>{pe!==null&&google.maps.event.removeListener(pe),Se!==null&&google.maps.event.removeListener(Se),Oe!==null&&google.maps.event.removeListener(Oe),fn!==null&&google.maps.event.removeListener(fn),ze!==null&&google.maps.event.removeListener(ze),hr!==null&&google.maps.event.removeListener(hr),Os!==null&&google.maps.event.removeListener(Os),As!==null&&google.maps.event.removeListener(As),pr!==null&&google.maps.event.removeListener(pr),yi!==null&&google.maps.event.removeListener(yi),mr!==null&&google.maps.event.removeListener(mr),gr!==null&&google.maps.event.removeListener(gr),qn!==null&&google.maps.event.removeListener(qn),Qt!==null&&google.maps.event.removeListener(Qt),vr!==null&&google.maps.event.removeListener(vr),yr!==null&&google.maps.event.removeListener(yr),pn!==null&&google.maps.event.removeListener(pn),Fn!==null&&google.maps.event.removeListener(Fn),Ei!==null&&google.maps.event.removeListener(Ei),q&&q(Ee),i?i.removeMarker(Ee,!!o):Ee&&Ee.setMap(null)}},[]);var _i=g.useMemo(()=>c?g.Children.map(c,Ci=>{if(!g.isValidElement(Ci))return Ci;var Ee=Ci;return g.cloneElement(Ee,{anchor:H})}):null,[c,H]);return l.jsx(l.Fragment,{children:_i})||null}g.memo(M8);class pu extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[])}componentDidMount(){var e=this;return X2(function*(){var n=Ea(Ea(Ea({},e.props.options||ku),e.props.clusterer?ku:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Le({updaterMap:B1,eventMap:U1,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:B1,eventMap:U1,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),ke(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?g.Children.map(this.props.children,n=>{if(!g.isValidElement(n))return n;var i=n;return g.cloneElement(i,{anchor:this.marker})}):null;return e||null}}Z(pu,"contextType",Ne);var D8=(function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var i=n.getMaxZoom(),o=this.cluster.getBounds(),c=n.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(o),this.timeOut=window.setTimeout(function(){var u=n.getMap();if(u!==null){"fitBounds"in u&&u.fitBounds(o);var h=u.getZoom()||0;i!==null&&h>i&&u.setZoom(i+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,i,o,c,u;if(this.div&&this.center){var h=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,f=this.backgroundPosition.split(" "),p=parseInt(((e=f[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),v=parseInt(((n=f[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),x=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(x!==null?"".concat(x.y,"px"):"0","; left: ").concat(x!==null?"".concat(x.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var b=document.createElement("img");b.alt=h,b.src=this.url,b.width=this.width,b.height=this.height,b.setAttribute("style","position: absolute; top: ".concat(v,"px; left: ").concat(p,"px")),this.cluster.getClusterer().enableRetinaIcons||(b.style.clip="rect(-".concat(v,"px, -").concat(p+this.width,"px, -").concat(v+this.height,", -").concat(p,")"));var w=document.createElement("div");w.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((i=this.sums)===null||i===void 0)&&i.text&&(w.innerText="".concat((o=this.sums)===null||o===void 0?void 0:o.text)),!((c=this.sums)===null||c===void 0)&&c.html&&(w.innerHTML="".concat((u=this.sums)===null||u===void 0?void 0:u.html)),this.div.innerHTML="",this.div.appendChild(b),this.div.appendChild(w),this.div.title=h,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),i=n[Math.min(n.length-1,Math.max(0,e.index-1))];i&&(this.url=i.url,this.height=i.height,this.width=i.width,i.className&&(this.className="".concat(this.clusterClassName," ").concat(i.className)),this.anchorText=i.anchorText||[0,0],this.anchorIcon=i.anchorIcon||[this.height/2,this.width/2],this.textColor=i.textColor||"black",this.textSize=i.textSize||11,this.textDecoration=i.textDecoration||"none",this.fontWeight=i.fontWeight||"bold",this.fontStyle=i.fontStyle||"normal",this.fontFamily=i.fontFamily||"Arial,sans-serif",this.backgroundPosition=i.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t})(),P8=(function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new D8(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),i=0,o=n;i<o.length;i++){var c=o[i],u=c.getPosition();u&&e.extend(u)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var i=e.getPosition();if(i){var o=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(o-1)+i.lat())/o,(this.center.lng()*(o-1)+i.lng())/o),this.calculateBounds()}}}else{var i=e.getPosition();i&&(this.center=i,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var c=this.markers.length,u=this.markerClusterer.getMaxZoom(),h=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(u!==null&&typeof h<"u"&&h>u)e.getMap()!==this.map&&e.setMap(this.map);else if(c<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(c===this.minClusterSize)for(var f=0,p=this.markers;f<p.length;f++){var v=p[f];v.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,i=this.markerClusterer.getMaxZoom(),o=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(i!==null&&typeof o<"u"&&o>i){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t})();function z8(t,e){var n=t.length,i=n.toString().length,o=Math.min(i,e);return{text:n.toString(),index:o,title:""}}var U8=2e3,B8=500,I8="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",$8="png",V8=[53,56,66,78,90],H8="cluster",tE=(function(){function t(e,n,i){n===void 0&&(n=[]),i===void 0&&(i={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=i.gridSize||60,this.minClusterSize=i.minimumClusterSize||2,this.maxZoom=i.maxZoom||null,this.styles=i.styles||[],this.title=i.title||"",this.zoomOnClick=!0,i.zoomOnClick!==void 0&&(this.zoomOnClick=i.zoomOnClick),this.averageCenter=!1,i.averageCenter!==void 0&&(this.averageCenter=i.averageCenter),this.ignoreHidden=!1,i.ignoreHidden!==void 0&&(this.ignoreHidden=i.ignoreHidden),this.enableRetinaIcons=!1,i.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=i.enableRetinaIcons),this.imagePath=i.imagePath||I8,this.imageExtension=i.imageExtension||$8,this.imageSizes=i.imageSizes||V8,this.calculator=i.calculator||z8,this.batchSize=i.batchSize||U8,this.batchSizeIE=i.batchSizeIE||B8,this.clusterClass=i.clusterClass||H8,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var i=n[e];i.getMap()!==this.activeMap&&i.setMap(this.activeMap)}for(var o=0,c=this.clusters;o<c.length;o++){var u=c[o];u.remove()}this.clusters=[];for(var h=0,f=this.listeners;h<f.length;h++){var p=f[h];google.maps.event.removeListener(p)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,i=0,o=e;i<o.length;i++){var c=o[i],u=c.getPosition();u&&n.extend(u)}var h=this.getMap();h!==null&&"fitBounds"in h&&h.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=e[i];o&&this.pushMarkerTo(o)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var i=0;i<this.markers.length;i++)if(e===this.markers[i]){n=i;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var i=this.removeMarker_(e);return!n&&i&&this.repaint(),i},t.prototype.removeMarkers=function(e,n){for(var i=!1,o=0,c=e;o<c.length;o++){var u=c[o];i=i||this.removeMarker_(u)}return!n&&i&&this.repaint(),i},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var i=0,o=e;i<o.length;i++){var c=o[i];c.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));i!==null&&(i.x+=this.gridSize,i.y-=this.gridSize);var o=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(o!==null&&(o.x-=this.gridSize,o.y+=this.gridSize),i!==null){var c=n.fromDivPixelToLatLng(i);c!==null&&e.extend(c)}if(o!==null){var u=n.fromDivPixelToLatLng(o);u!==null&&e.extend(u)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,i=this.clusters;n<i.length;n++){var o=i[n];o.remove()}this.clusters=[];for(var c=0,u=this.markers;c<u.length;c++){var h=u[c];h.isAdded=!1,e&&h.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var i=6371,o=(n.lat()-e.lat())*Math.PI/180,c=(n.lng()-e.lng())*Math.PI/180,u=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2);return i*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},t.prototype.isMarkerInBounds=function(e,n){var i=e.getPosition();return i?n.contains(i):!1},t.prototype.addToClosestCluster=function(e){for(var n,i=4e4,o=null,c=0,u=this.clusters;c<u.length;c++){var h=u[c];n=h;var f=n.getCenter(),p=e.getPosition();if(f&&p){var v=this.distanceBetweenPoints(f,p);v<i&&(i=v,o=n)}}o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):(n=new P8(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var i=this.getMap(),o=i!==null&&("getBounds"in i)?i.getBounds():null,c=i?.getZoom()||0,u=c>3?new google.maps.LatLngBounds(o?.getSouthWest(),o?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),h=this.getExtendedBounds(u),f=Math.min(e+this.batchSize,this.markers.length),p=e;p<f;p++){var v=this.markers[p];v&&!v.isAdded&&this.isMarkerInBounds(v,h)&&(!this.ignoreHidden||this.ignoreHidden&&v.getVisible())&&this.addToClosestCluster(v)}if(f<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(f)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var x=0,b=this.clusters;x<b.length;x++){var w=b[x];w.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(o){for(var c in o.prototype){var u=c;this.prototype[u]=o.prototype[u]}return this}).apply(e,[n])},t})();function I1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function q8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I1(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Cn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Ie={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},F8={};function G8(t){var{children:e,options:n,averageCenter:i,batchSizeIE:o,calculator:c,clusterClass:u,enableRetinaIcons:h,gridSize:f,ignoreHidden:p,imageExtension:v,imagePath:x,imageSizes:b,maxZoom:w,minimumClusterSize:j,styles:_,title:E,zoomOnClick:C,onClick:N,onClusteringBegin:T,onClusteringEnd:k,onMouseOver:A,onMouseOut:O,onLoad:R,onUnmount:I}=t,[P,G]=g.useState(null),se=g.useContext(Ne),[re,ee]=g.useState(null),[ae,oe]=g.useState(null),[z,Y]=g.useState(null),[ne,J]=g.useState(null),[le,M]=g.useState(null);return g.useEffect(()=>{P&&O&&(ne!==null&&google.maps.event.removeListener(ne),J(google.maps.event.addListener(P,Cn.onMouseOut,O)))},[O]),g.useEffect(()=>{P&&A&&(le!==null&&google.maps.event.removeListener(le),M(google.maps.event.addListener(P,Cn.onMouseOver,A)))},[A]),g.useEffect(()=>{P&&N&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(P,Cn.onClick,N)))},[N]),g.useEffect(()=>{P&&T&&(ae!==null&&google.maps.event.removeListener(ae),oe(google.maps.event.addListener(P,Cn.onClusteringBegin,T)))},[T]),g.useEffect(()=>{P&&k&&(z!==null&&google.maps.event.removeListener(z),oe(google.maps.event.addListener(P,Cn.onClusteringEnd,k)))},[k]),g.useEffect(()=>{typeof i<"u"&&P!==null&&Ie.averageCenter(P,i)},[P,i]),g.useEffect(()=>{typeof o<"u"&&P!==null&&Ie.batchSizeIE(P,o)},[P,o]),g.useEffect(()=>{typeof c<"u"&&P!==null&&Ie.calculator(P,c)},[P,c]),g.useEffect(()=>{typeof u<"u"&&P!==null&&Ie.clusterClass(P,u)},[P,u]),g.useEffect(()=>{typeof h<"u"&&P!==null&&Ie.enableRetinaIcons(P,h)},[P,h]),g.useEffect(()=>{typeof f<"u"&&P!==null&&Ie.gridSize(P,f)},[P,f]),g.useEffect(()=>{typeof p<"u"&&P!==null&&Ie.ignoreHidden(P,p)},[P,p]),g.useEffect(()=>{typeof v<"u"&&P!==null&&Ie.imageExtension(P,v)},[P,v]),g.useEffect(()=>{typeof x<"u"&&P!==null&&Ie.imagePath(P,x)},[P,x]),g.useEffect(()=>{typeof b<"u"&&P!==null&&Ie.imageSizes(P,b)},[P,b]),g.useEffect(()=>{typeof w<"u"&&P!==null&&Ie.maxZoom(P,w)},[P,w]),g.useEffect(()=>{typeof j<"u"&&P!==null&&Ie.minimumClusterSize(P,j)},[P,j]),g.useEffect(()=>{typeof _<"u"&&P!==null&&Ie.styles(P,_)},[P,_]),g.useEffect(()=>{typeof E<"u"&&P!==null&&Ie.title(P,E)},[P,E]),g.useEffect(()=>{typeof C<"u"&&P!==null&&Ie.zoomOnClick(P,C)},[P,C]),g.useEffect(()=>{if(se){var W=q8({},n||F8),q=new tE(se,[],W);return i&&Ie.averageCenter(q,i),o&&Ie.batchSizeIE(q,o),c&&Ie.calculator(q,c),u&&Ie.clusterClass(q,u),h&&Ie.enableRetinaIcons(q,h),f&&Ie.gridSize(q,f),p&&Ie.ignoreHidden(q,p),v&&Ie.imageExtension(q,v),x&&Ie.imagePath(q,x),b&&Ie.imageSizes(q,b),w&&Ie.maxZoom(q,w),j&&Ie.minimumClusterSize(q,j),_&&Ie.styles(q,_),E&&Ie.title(q,E),C&&Ie.zoomOnClick(q,C),O&&J(google.maps.event.addListener(q,Cn.onMouseOut,O)),A&&M(google.maps.event.addListener(q,Cn.onMouseOver,A)),N&&ee(google.maps.event.addListener(q,Cn.onClick,N)),T&&oe(google.maps.event.addListener(q,Cn.onClusteringBegin,T)),k&&Y(google.maps.event.addListener(q,Cn.onClusteringEnd,k)),G(q),R&&R(q),()=>{ne!==null&&google.maps.event.removeListener(ne),le!==null&&google.maps.event.removeListener(le),re!==null&&google.maps.event.removeListener(re),ae!==null&&google.maps.event.removeListener(ae),z!==null&&google.maps.event.removeListener(z),I&&I(q)}}},[]),P!==null&&e(P)||null}g.memo(G8);class W8 extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[]),Z(this,"state",{markerClusterer:null}),Z(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new tE(this.context,[],this.props.options);this.registeredEvents=Le({updaterMap:Ie,eventMap:Cn,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:Ie,eventMap:Cn,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),ke(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}Z(W8,"contextType",Ne);function $1(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var nE=(function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(v){v.returnValue=!1,v.preventDefault&&v.preventDefault(),e.enableEventPropagation||$1(v)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var i=this.getPanes();if(i!==null&&i[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var o=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-o.left-o.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var c=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],u=0,h=c;u<h.length;u++){var f=h[u];this.eventListeners.push(google.maps.event.addListener(this.div,f,$1))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var i=0,o=0,c=n.getBounds();c&&!c.contains(this.position)&&n.setCenter(this.position);var u=n.getDiv(),h=u.offsetWidth,f=u.offsetHeight,p=this.pixelOffset.width,v=this.pixelOffset.height,x=this.div.offsetWidth,b=this.div.offsetHeight,w=this.infoBoxClearance.width,j=this.infoBoxClearance.height,_=this.getProjection(),E=_.fromLatLngToContainerPixel(this.position);E!==null&&(E.x<-p+w?i=E.x+p-w:E.x+x+p+w>h&&(i=E.x+x+p+w-h),this.alignBottom?E.y<-v+j+b?o=E.y+v-j-b:E.y+v+j>f&&(o=E.y+v+j-f):E.y<-v+j?o=E.y+v-j:E.y+b+v+j>f&&(o=E.y+b+v+j-f)),i===0&&o===0||n.panBy(i,o)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var i=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+i*100+')"',this.div.style.filter="alpha(opacity="+i*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,i=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var o=this.div.currentStyle;o&&(e.top=parseInt(o.borderTopWidth||"",10)||0,e.bottom=parseInt(o.borderBottomWidth||"",10)||0,e.left=parseInt(o.borderLeftWidth||"",10)||0,e.right=parseInt(o.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var i=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var o=n.getPosition();i.setPosition(o)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){i.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var i=n[e];google.maps.event.removeListener(i)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(o){for(var c in o.prototype)Object.prototype.hasOwnProperty.call(this,c)||(this.prototype[c]=o.prototype[c]);return this}).apply(e,[n])},t})(),K8=["position"],Y8=["position"];function V1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V1(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var H1={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},q1={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Z8={};function X8(t){var{children:e,anchor:n,options:i,position:o,zIndex:c,onCloseClick:u,onDomReady:h,onContentChanged:f,onPositionChanged:p,onZindexChanged:v,onLoad:x,onUnmount:b}=t,w=g.useContext(Ne),[j,_]=g.useState(null),[E,C]=g.useState(null),[N,T]=g.useState(null),[k,A]=g.useState(null),[O,R]=g.useState(null),[I,P]=g.useState(null),G=g.useRef(null);return g.useEffect(()=>{w&&j!==null&&(j.close(),n?j.open(w,n):j.getPosition()&&j.open(w))},[w,j,n]),g.useEffect(()=>{i&&j!==null&&j.setOptions(i)},[j,i]),g.useEffect(()=>{if(o&&j!==null){var se=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);j.setPosition(se)}},[o]),g.useEffect(()=>{typeof c=="number"&&j!==null&&j.setZIndex(c)},[c]),g.useEffect(()=>{j&&u&&(E!==null&&google.maps.event.removeListener(E),C(google.maps.event.addListener(j,"closeclick",u)))},[u]),g.useEffect(()=>{j&&h&&(N!==null&&google.maps.event.removeListener(N),T(google.maps.event.addListener(j,"domready",h)))},[h]),g.useEffect(()=>{j&&f&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(j,"content_changed",f)))},[f]),g.useEffect(()=>{j&&p&&(O!==null&&google.maps.event.removeListener(O),R(google.maps.event.addListener(j,"position_changed",p)))},[p]),g.useEffect(()=>{j&&v&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(j,"zindex_changed",v)))},[v]),g.useEffect(()=>{if(w){var se=i||Z8,{position:re}=se,ee=ig(se,K8),ae;re&&!(re instanceof google.maps.LatLng)&&(ae=new google.maps.LatLng(re.lat,re.lng));var oe=new nE(Mu(Mu({},ee),ae?{position:ae}:{}));G.current=document.createElement("div"),_(oe),u&&C(google.maps.event.addListener(oe,"closeclick",u)),h&&T(google.maps.event.addListener(oe,"domready",h)),f&&A(google.maps.event.addListener(oe,"content_changed",f)),p&&R(google.maps.event.addListener(oe,"position_changed",p)),v&&P(google.maps.event.addListener(oe,"zindex_changed",v)),oe.setContent(G.current),n?oe.open(w,n):oe.getPosition()?oe.open(w):St(!1,"You must provide either an anchor or a position prop for <InfoBox>."),x&&x(oe)}return()=>{j!==null&&(E&&google.maps.event.removeListener(E),k&&google.maps.event.removeListener(k),N&&google.maps.event.removeListener(N),O&&google.maps.event.removeListener(O),I&&google.maps.event.removeListener(I),b&&b(j),j.close())}},[]),G.current?cr.createPortal(g.Children.only(e),G.current):null}g.memo(X8);class J8 extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[]),Z(this,"containerElement",null),Z(this,"state",{infoBox:null}),Z(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):St(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),Z(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,i=ig(e,Y8),o;n&&!(n instanceof google.maps.LatLng)&&(o=new google.maps.LatLng(n.lat,n.lng));var c=new nE(Mu(Mu({},i),o?{position:o}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Le({updaterMap:q1,eventMap:H1,prevProps:{},nextProps:this.props,instance:c}),this.setState({infoBox:c},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:q1,eventMap:H1,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),ke(this.registeredEvents),n.close())}render(){return this.containerElement?cr.createPortal(g.Children.only(this.props.children),this.containerElement):null}}Z(J8,"contextType",Ne);var cp,F1;function Q8(){return F1||(F1=1,cp=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,o,c;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(o=i;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(c=Object.keys(e),i=c.length,i!==Object.keys(n).length)return!1;for(o=i;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,c[o]))return!1;for(o=i;o--!==0;){var u=c[o];if(!t(e[u],n[u]))return!1}return!0}return e!==e&&n!==n}),cp}var eD=Q8(),G1=Z2(eD),W1=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],up=1,Po=8;class rg{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,i]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var o=i>>4;if(o!==up)throw new Error("Got v".concat(o," data when expected v").concat(up,"."));var c=W1[i&15];if(!c)throw new Error("Unrecognized array type.");var[u]=new Uint16Array(e,2,1),[h]=new Uint32Array(e,4,1);return new rg(h,u,c,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,o=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=i,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var c=W1.indexOf(this.ArrayType),u=e*2*this.ArrayType.BYTES_PER_ELEMENT,h=e*this.IndexArrayType.BYTES_PER_ELEMENT,f=(8-h%8)%8;if(c<0)throw new Error("Unexpected typed array class: ".concat(i,"."));o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,Po,e),this.coords=new this.ArrayType(this.data,Po+h+f,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Po+u+h+f),this.ids=new this.IndexArrayType(this.data,Po,e),this.coords=new this.ArrayType(this.data,Po+h+f,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(up<<4)+c]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var i=this._pos>>1;return this.ids[i]=i,this.coords[this._pos++]=e,this.coords[this._pos++]=n,i}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return sm(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,i,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:c,coords:u,nodeSize:h}=this,f=[0,c.length-1,0],p=[];f.length;){var v=f.pop()||0,x=f.pop()||0,b=f.pop()||0;if(x-b<=h){for(var w=b;w<=x;w++){var j=u[2*w],_=u[2*w+1];j>=e&&j<=i&&_>=n&&_<=o&&p.push(c[w])}continue}var E=b+x>>1,C=u[2*E],N=u[2*E+1];C>=e&&C<=i&&N>=n&&N<=o&&p.push(c[E]),(v===0?e<=C:n<=N)&&(f.push(b),f.push(E-1),f.push(1-v)),(v===0?i>=C:o>=N)&&(f.push(E+1),f.push(x),f.push(1-v))}return p}within(e,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:c,nodeSize:u}=this,h=[0,o.length-1,0],f=[],p=i*i;h.length;){var v=h.pop()||0,x=h.pop()||0,b=h.pop()||0;if(x-b<=u){for(var w=b;w<=x;w++)K1(c[2*w],c[2*w+1],e,n)<=p&&f.push(o[w]);continue}var j=b+x>>1,_=c[2*j],E=c[2*j+1];K1(_,E,e,n)<=p&&f.push(o[j]),(v===0?e-i<=_:n-i<=E)&&(h.push(b),h.push(j-1),h.push(1-v)),(v===0?e+i>=_:n+i>=E)&&(h.push(j+1),h.push(x),h.push(1-v))}return f}}function sm(t,e,n,i,o,c){if(!(o-i<=n)){var u=i+o>>1;sE(t,e,u,i,o,c),sm(t,e,n,i,u-1,1-c),sm(t,e,n,u+1,o,1-c)}}function sE(t,e,n,i,o,c){for(;o>i;){if(o-i>600){var u=o-i+1,h=n-i+1,f=Math.log(u),p=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*p*(u-p)/u)*(h-u/2<0?-1:1),x=Math.max(i,Math.floor(n-h*p/u+v)),b=Math.min(o,Math.floor(n+(u-h)*p/u+v));sE(t,e,n,x,b,c)}var w=e[2*n+c],j=i,_=o;for(zo(t,e,i,n),e[2*o+c]>w&&zo(t,e,i,o);j<_;){for(zo(t,e,j,_),j++,_--;e[2*j+c]<w;)j++;for(;e[2*_+c]>w;)_--}e[2*i+c]===w?zo(t,e,i,_):(_++,zo(t,e,_,o)),_<=n&&(i=_+1),n<=_&&(o=_-1)}}function zo(t,e,n,i){dp(t,n,i),dp(e,2*n,2*i),dp(e,2*n+1,2*i+1)}function dp(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function K1(t,e,n,i){var o=t-n,c=e-i;return o*o+c*c}var tD={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Y1=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Wi=2,ri=3,hp=4,si=5,iE=6;class nD{constructor(e){this.options=Object.assign(Object.create(tD),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:i,maxZoom:o}=this.options;n&&console.time("total time");var c="prepare ".concat(e.length," points");n&&console.time(c),this.points=e;for(var u=[],h=0;h<e.length;h++){var f=e[h];if(f.geometry){var[p,v]=f.geometry.coordinates,x=Y1(su(p)),b=Y1(iu(v));u.push(x,b,1/0,h,-1,1),this.options.reduce&&u.push(0)}}var w=this.trees[o+1]=this._createTree(u);n&&console.timeEnd(c);for(var j=o;j>=i;j--){var _=+Date.now();w=this.trees[j]=this._createTree(this._cluster(w,j)),n&&console.log("z%d: %d clusters in %dms",j,w.numItems,+Date.now()-_)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var i=((e[0]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[1])),c=e[2]===180?180:((e[2]+180)%360+360)%360-180,u=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)i=-180,c=180;else if(i>c){var h=this.getClusters([i,o,180,u],n),f=this.getClusters([-180,o,c,u],n);return h.concat(f)}var p=this.trees[this._limitZoom(n)],v=p.range(su(i),iu(u),su(c),iu(o)),x=p.data,b=[];for(var w of v){var j=this.stride*w;b.push(x[j+si]>1?Z1(x,j,this.clusterProps):this.points[x[j+ri]])}return b}getChildren(e){var n=this._getOriginId(e),i=this._getOriginZoom(e),o="No cluster with the specified id.",c=this.trees[i];if(!c)throw new Error(o);var u=c.data;if(n*this.stride>=u.length)throw new Error(o);var h=this.options.radius/(this.options.extent*Math.pow(2,i-1)),f=u[n*this.stride],p=u[n*this.stride+1],v=c.within(f,p,h),x=[];for(var b of v){var w=b*this.stride;u[w+hp]===e&&x.push(u[w+si]>1?Z1(u,w,this.clusterProps):this.points[u[w+ri]])}if(x.length===0)throw new Error(o);return x}getLeaves(e,n,i){n=n||10,i=i||0;var o=[];return this._appendLeaves(o,e,n,i,0),o}getTile(e,n,i){var o=this.trees[this._limitZoom(e)],c=Math.pow(2,e),{extent:u,radius:h}=this.options,f=h/u,p=(i-f)/c,v=(i+1+f)/c,x={features:[]};return this._addTileFeatures(o.range((n-f)/c,p,(n+1+f)/c,v),o.data,n,i,c,x),n===0&&this._addTileFeatures(o.range(1-f/c,p,1,v),o.data,c,i,c,x),n===c-1&&this._addTileFeatures(o.range(0,p,f/c,v),o.data,-1,i,c,x),x.features.length?x:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var i=this.getChildren(e);if(n++,i.length!==1)break;e=i[0].properties.cluster_id}return n}_appendLeaves(e,n,i,o,c){var u=this.getChildren(n);for(var h of u){var f=h.properties;if(f&&f.cluster?c+f.point_count<=o?c+=f.point_count:c=this._appendLeaves(e,f.cluster_id,i,o,c):c<o?c++:e.push(h),e.length===i)break}return c}_createTree(e){for(var n=new rg(e.length/this.stride|0,this.options.nodeSize,Float32Array),i=0;i<e.length;i+=this.stride)n.add(e[i],e[i+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,i,o,c,u){for(var h of e){var f=h*this.stride,p=n[f+si]>1,v=void 0,x=void 0,b=void 0;if(p)v=rE(n,f,this.clusterProps),x=n[f],b=n[f+1];else{var w=this.points[n[f+ri]];v=w.properties;var[j,_]=w.geometry.coordinates;x=su(j),b=iu(_)}var E={type:1,geometry:[[Math.round(this.options.extent*(x*c-i)),Math.round(this.options.extent*(b*c-o))]],tags:v},C=void 0;p||this.options.generateId?C=n[f+ri]:C=this.points[n[f+ri]].id,C!==void 0&&(E.id=C),u.features.push(E)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:i,extent:o,reduce:c,minPoints:u}=this.options,h=i/(o*Math.pow(2,n)),f=e.data,p=[],v=this.stride,x=0;x<f.length;x+=v)if(!(f[x+Wi]<=n)){f[x+Wi]=n;var b=f[x],w=f[x+1],j=e.within(f[x],f[x+1],h),_=f[x+si],E=_;for(var C of j){var N=C*v;f[N+Wi]>n&&(E+=f[N+si])}if(E>_&&E>=u){var T=b*_,k=w*_,A=void 0,O=-1,R=((x/v|0)<<5)+(n+1)+this.points.length;for(var I of j){var P=I*v;if(!(f[P+Wi]<=n)){f[P+Wi]=n;var G=f[P+si];T+=f[P]*G,k+=f[P+1]*G,f[P+hp]=R,c&&(A||(A=this._map(f,x,!0),O=this.clusterProps.length,this.clusterProps.push(A)),c(A,this._map(f,P)))}}f[x+hp]=R,p.push(T/E,k/E,1/0,R,-1,E),c&&p.push(O)}else{for(var se=0;se<v;se++)p.push(f[x+se]);if(E>1)for(var re of j){var ee=re*v;if(!(f[ee+Wi]<=n)){f[ee+Wi]=n;for(var ae=0;ae<v;ae++)p.push(f[ee+ae])}}}}return p}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,i){if(e[n+si]>1){var o=this.clusterProps[e[n+iE]];return i?Object.assign({},o):o}var c=this.points[e[n+ri]].properties,u=this.options.map(c);return i&&u===c?Object.assign({},u):u}}function Z1(t,e,n){return{type:"Feature",id:t[e+ri],properties:rE(t,e,n),geometry:{type:"Point",coordinates:[sD(t[e]),iD(t[e+1])]}}}function rE(t,e,n){var i=t[e+si],o=i>=1e4?"".concat(Math.round(i/1e3),"k"):i>=1e3?"".concat(Math.round(i/100)/10,"k"):i,c=t[e+iE],u=c===-1?{}:Object.assign({},n[c]);return Object.assign(u,{cluster:!0,cluster_id:t[e+ri],point_count:i,point_count_abbreviated:o})}function su(t){return t/360+.5}function iu(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function sD(t){return(t-.5)*360}function iD(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function rD(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}class un{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class im{constructor(e){var{markers:n,position:i}=e;this.markers=n,i&&(i instanceof google.maps.LatLng?this._position=i:this._position=new google.maps.LatLng(i))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(un.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>un.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(un.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class aD{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return oD(n)}}var oD=t=>{var e=t.map(n=>new im({position:un.getPosition(n),markers:[n]}));return e};class lD extends aD{constructor(e){var{maxZoom:n,radius:i=60}=e,o=rD(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new nD(Object.assign({maxZoom:this.maxZoom,radius:i},o))}calculate(e){var n=!1,i={zoom:e.map.getZoom()};if(!G1(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var o=this.markers.map(c=>{var u=un.getPosition(c),h=[u.lng(),u.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:h},properties:{marker:c}}});this.superCluster.load(o)}return n||(this.state.zoom<=this.maxZoom||i.zoom<=this.maxZoom)&&(n=!G1(this.state,i)),this.state=i,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(i=>this.transformCluster(i))}transformCluster(e){var{geometry:{coordinates:[n,i]},properties:o}=e;if(o.cluster)return new im({markers:this.superCluster.getLeaves(o.cluster_id,1/0).map(u=>u.properties.marker),position:{lat:i,lng:n}});var c=o.marker;return new im({markers:[c],position:un.getPosition(c)})}}class cD{constructor(e,n){this.markers={sum:e.length};var i=n.map(c=>c.count),o=i.reduce((c,u)=>c+u,0);this.clusters={count:n.length,markers:{mean:o/n.length,sum:o,min:Math.min(...i),max:Math.max(...i)}}}}class uD{render(e,n,i){var{count:o,position:c}=e,u=o>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",h='<svg fill="'.concat(u,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(o,`</text>
</svg>`),f="Cluster of ".concat(o," markers"),p=Number(google.maps.Marker.MAX_ZINDEX)+o;if(un.isAdvancedMarkerAvailable(i)){var v=new DOMParser,x=v.parseFromString(h,"image/svg+xml").documentElement;x.setAttribute("transform","translate(0 25)");var b={map:i,position:c,zIndex:p,title:f,content:x};return new google.maps.marker.AdvancedMarkerElement(b)}var w={position:c,zIndex:p,title:f,icon:{url:"data:image/svg+xml;base64,".concat(btoa(h)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(w)}}function dD(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class ag{constructor(){dD(ag,google.maps.OverlayView)}}var Jo;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Jo||(Jo={}));var hD=(t,e,n)=>{n.fitBounds(e.bounds)};class fD extends ag{constructor(e){var{map:n,markers:i=[],algorithmOptions:o={},algorithm:c=new lD(o),renderer:u=new uD,onClusterClick:h=hD}=e;super(),this.markers=[...i],this.clusters=[],this.algorithm=c,this.renderer=u,this.onClusterClick=h,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(i=>{this.addMarker(i,!0)}),n||this.render()}removeMarker(e,n){var i=this.markers.indexOf(e);return i===-1?!1:(un.setMap(e,null),this.markers.splice(i,1),n||this.render(),!0)}removeMarkers(e,n){var i=!1;return e.forEach(o=>{i=this.removeMarker(o,!0)||i}),i&&!n&&this.render(),i}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Jo.CLUSTERING_BEGIN,this);var{clusters:n,changed:i}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(i||i==null){var o=new Set;for(var c of n)c.markers.length==1&&o.add(c.markers[0]);var u=[];for(var h of this.clusters)h.marker!=null&&(h.markers.length==1?o.has(h.marker)||un.setMap(h.marker,null):u.push(h.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>u.forEach(f=>un.setMap(f,null)))}google.maps.event.trigger(this,Jo.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>un.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new cD(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(i=>{i.markers.length===1?i.marker=i.markers[0]:(i.marker=this.renderer.render(i,e,n),i.markers.forEach(o=>un.setMap(o,null)),this.onClusterClick&&i.marker.addListener("click",o=>{google.maps.event.trigger(this,Jo.CLUSTER_CLICK,i),this.onClusterClick(o,i,n)})),un.setMap(i.marker,n)})}}function X1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function J1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X1(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function pD(t){var e=a8(),[n,i]=g.useState(null);return g.useEffect(()=>{if(e&&n===null){var o=new fD(J1(J1({},t),{},{map:e}));i(o)}},[e]),n}function mD(t){var{children:e,options:n}=t,i=pD(n);return i!==null?e(i):null}g.memo(mD);var Q1={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},ew={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function gD(t){var{children:e,anchor:n,options:i,position:o,zIndex:c,onCloseClick:u,onDomReady:h,onContentChanged:f,onPositionChanged:p,onZindexChanged:v,onLoad:x,onUnmount:b}=t,w=g.useContext(Ne),[j,_]=g.useState(null),[E,C]=g.useState(null),[N,T]=g.useState(null),[k,A]=g.useState(null),[O,R]=g.useState(null),[I,P]=g.useState(null),G=g.useRef(null);return g.useEffect(()=>{j!==null&&(j.close(),n?j.open(w,n):j.getPosition()&&j.open(w))},[w,j,n]),g.useEffect(()=>{i&&j!==null&&j.setOptions(i)},[j,i]),g.useEffect(()=>{o&&j!==null&&j.setPosition(o)},[o]),g.useEffect(()=>{typeof c=="number"&&j!==null&&j.setZIndex(c)},[c]),g.useEffect(()=>{j&&u&&(E!==null&&google.maps.event.removeListener(E),C(google.maps.event.addListener(j,"closeclick",u)))},[u]),g.useEffect(()=>{j&&h&&(N!==null&&google.maps.event.removeListener(N),T(google.maps.event.addListener(j,"domready",h)))},[h]),g.useEffect(()=>{j&&f&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(j,"content_changed",f)))},[f]),g.useEffect(()=>{j&&p&&(O!==null&&google.maps.event.removeListener(O),R(google.maps.event.addListener(j,"position_changed",p)))},[p]),g.useEffect(()=>{j&&v&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(j,"zindex_changed",v)))},[v]),g.useEffect(()=>{var se=new google.maps.InfoWindow(i);return _(se),G.current=document.createElement("div"),u&&C(google.maps.event.addListener(se,"closeclick",u)),h&&T(google.maps.event.addListener(se,"domready",h)),f&&A(google.maps.event.addListener(se,"content_changed",f)),p&&R(google.maps.event.addListener(se,"position_changed",p)),v&&P(google.maps.event.addListener(se,"zindex_changed",v)),se.setContent(G.current),o&&se.setPosition(o),c&&se.setZIndex(c),n?se.open(w,n):se.getPosition()?se.open(w):St(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),x&&x(se),()=>{E&&google.maps.event.removeListener(E),k&&google.maps.event.removeListener(k),N&&google.maps.event.removeListener(N),O&&google.maps.event.removeListener(O),I&&google.maps.event.removeListener(I),b&&b(se),se.close()}},[]),G.current?cr.createPortal(g.Children.only(e),G.current):null}g.memo(gD);class mu extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[]),Z(this,"containerElement",null),Z(this,"state",{infoWindow:null}),Z(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):St(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),Z(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Le({updaterMap:ew,eventMap:Q1,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:ew,eventMap:Q1,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(ke(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?cr.createPortal(g.Children.only(this.props.children),this.containerElement):null}}Z(mu,"contextType",Ne);function tw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tw(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var nw={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},sw={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},vD={};function yD(t){var{options:e,draggable:n,editable:i,visible:o,path:c,onDblClick:u,onDragEnd:h,onDragStart:f,onMouseDown:p,onMouseMove:v,onMouseOut:x,onMouseOver:b,onMouseUp:w,onRightClick:j,onClick:_,onDrag:E,onLoad:C,onUnmount:N}=t,T=g.useContext(Ne),[k,A]=g.useState(null),[O,R]=g.useState(null),[I,P]=g.useState(null),[G,se]=g.useState(null),[re,ee]=g.useState(null),[ae,oe]=g.useState(null),[z,Y]=g.useState(null),[ne,J]=g.useState(null),[le,M]=g.useState(null),[W,q]=g.useState(null),[ie,H]=g.useState(null),[he,pe]=g.useState(null);return g.useEffect(()=>{k!==null&&k.setMap(T)},[T]),g.useEffect(()=>{typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),g.useEffect(()=>{typeof n<"u"&&k!==null&&k.setDraggable(n)},[k,n]),g.useEffect(()=>{typeof i<"u"&&k!==null&&k.setEditable(i)},[k,i]),g.useEffect(()=>{typeof o<"u"&&k!==null&&k.setVisible(o)},[k,o]),g.useEffect(()=>{typeof c<"u"&&k!==null&&k.setPath(c)},[k,c]),g.useEffect(()=>{k&&u&&(O!==null&&google.maps.event.removeListener(O),R(google.maps.event.addListener(k,"dblclick",u)))},[u]),g.useEffect(()=>{k&&h&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(k,"dragend",h)))},[h]),g.useEffect(()=>{k&&f&&(G!==null&&google.maps.event.removeListener(G),se(google.maps.event.addListener(k,"dragstart",f)))},[f]),g.useEffect(()=>{k&&p&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(k,"mousedown",p)))},[p]),g.useEffect(()=>{k&&v&&(ae!==null&&google.maps.event.removeListener(ae),oe(google.maps.event.addListener(k,"mousemove",v)))},[v]),g.useEffect(()=>{k&&x&&(z!==null&&google.maps.event.removeListener(z),Y(google.maps.event.addListener(k,"mouseout",x)))},[x]),g.useEffect(()=>{k&&b&&(ne!==null&&google.maps.event.removeListener(ne),J(google.maps.event.addListener(k,"mouseover",b)))},[b]),g.useEffect(()=>{k&&w&&(le!==null&&google.maps.event.removeListener(le),M(google.maps.event.addListener(k,"mouseup",w)))},[w]),g.useEffect(()=>{k&&j&&(W!==null&&google.maps.event.removeListener(W),q(google.maps.event.addListener(k,"rightclick",j)))},[j]),g.useEffect(()=>{k&&_&&(ie!==null&&google.maps.event.removeListener(ie),H(google.maps.event.addListener(k,"click",_)))},[_]),g.useEffect(()=>{k&&E&&(he!==null&&google.maps.event.removeListener(he),pe(google.maps.event.addListener(k,"drag",E)))},[E]),g.useEffect(()=>{var me=new google.maps.Polyline(Du(Du({},e||vD),{},{map:T}));return c&&me.setPath(c),typeof o<"u"&&me.setVisible(o),typeof i<"u"&&me.setEditable(i),typeof n<"u"&&me.setDraggable(n),u&&R(google.maps.event.addListener(me,"dblclick",u)),h&&P(google.maps.event.addListener(me,"dragend",h)),f&&se(google.maps.event.addListener(me,"dragstart",f)),p&&ee(google.maps.event.addListener(me,"mousedown",p)),v&&oe(google.maps.event.addListener(me,"mousemove",v)),x&&Y(google.maps.event.addListener(me,"mouseout",x)),b&&J(google.maps.event.addListener(me,"mouseover",b)),w&&M(google.maps.event.addListener(me,"mouseup",w)),j&&q(google.maps.event.addListener(me,"rightclick",j)),_&&H(google.maps.event.addListener(me,"click",_)),E&&pe(google.maps.event.addListener(me,"drag",E)),A(me),C&&C(me),()=>{O!==null&&google.maps.event.removeListener(O),I!==null&&google.maps.event.removeListener(I),G!==null&&google.maps.event.removeListener(G),re!==null&&google.maps.event.removeListener(re),ae!==null&&google.maps.event.removeListener(ae),z!==null&&google.maps.event.removeListener(z),ne!==null&&google.maps.event.removeListener(ne),le!==null&&google.maps.event.removeListener(le),W!==null&&google.maps.event.removeListener(W),ie!==null&&google.maps.event.removeListener(ie),N&&N(me),me.setMap(null)}},[]),null}g.memo(yD);class aE extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[]),Z(this,"state",{polyline:null}),Z(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Du(Du({},this.props.options),{},{map:this.context}));this.registeredEvents=Le({updaterMap:sw,eventMap:nw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:sw,eventMap:nw,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),ke(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}Z(aE,"contextType",Ne);function iw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function rw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iw(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var aw={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ow={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function xD(t){var{options:e,draggable:n,editable:i,visible:o,path:c,paths:u,onDblClick:h,onDragEnd:f,onDragStart:p,onMouseDown:v,onMouseMove:x,onMouseOut:b,onMouseOver:w,onMouseUp:j,onRightClick:_,onClick:E,onDrag:C,onLoad:N,onUnmount:T,onEdit:k}=t,A=g.useContext(Ne),[O,R]=g.useState(null),[I,P]=g.useState(null),[G,se]=g.useState(null),[re,ee]=g.useState(null),[ae,oe]=g.useState(null),[z,Y]=g.useState(null),[ne,J]=g.useState(null),[le,M]=g.useState(null),[W,q]=g.useState(null),[ie,H]=g.useState(null),[he,pe]=g.useState(null),[me,Se]=g.useState(null);return g.useEffect(()=>{O!==null&&O.setMap(A)},[A]),g.useEffect(()=>{typeof e<"u"&&O!==null&&O.setOptions(e)},[O,e]),g.useEffect(()=>{typeof n<"u"&&O!==null&&O.setDraggable(n)},[O,n]),g.useEffect(()=>{typeof i<"u"&&O!==null&&O.setEditable(i)},[O,i]),g.useEffect(()=>{typeof o<"u"&&O!==null&&O.setVisible(o)},[O,o]),g.useEffect(()=>{typeof c<"u"&&O!==null&&O.setPath(c)},[O,c]),g.useEffect(()=>{typeof u<"u"&&O!==null&&O.setPaths(u)},[O,u]),g.useEffect(()=>{O&&typeof h=="function"&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(O,"dblclick",h)))},[h]),g.useEffect(()=>{O&&(google.maps.event.addListener(O.getPath(),"insert_at",()=>{k?.(O)}),google.maps.event.addListener(O.getPath(),"set_at",()=>{k?.(O)}),google.maps.event.addListener(O.getPath(),"remove_at",()=>{k?.(O)}))},[O,k]),g.useEffect(()=>{O&&typeof f=="function"&&(G!==null&&google.maps.event.removeListener(G),se(google.maps.event.addListener(O,"dragend",f)))},[f]),g.useEffect(()=>{O&&typeof p=="function"&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(O,"dragstart",p)))},[p]),g.useEffect(()=>{O&&typeof v=="function"&&(ae!==null&&google.maps.event.removeListener(ae),oe(google.maps.event.addListener(O,"mousedown",v)))},[v]),g.useEffect(()=>{O&&typeof x=="function"&&(z!==null&&google.maps.event.removeListener(z),Y(google.maps.event.addListener(O,"mousemove",x)))},[x]),g.useEffect(()=>{O&&typeof b=="function"&&(ne!==null&&google.maps.event.removeListener(ne),J(google.maps.event.addListener(O,"mouseout",b)))},[b]),g.useEffect(()=>{O&&typeof w=="function"&&(le!==null&&google.maps.event.removeListener(le),M(google.maps.event.addListener(O,"mouseover",w)))},[w]),g.useEffect(()=>{O&&typeof j=="function"&&(W!==null&&google.maps.event.removeListener(W),q(google.maps.event.addListener(O,"mouseup",j)))},[j]),g.useEffect(()=>{O&&typeof _=="function"&&(ie!==null&&google.maps.event.removeListener(ie),H(google.maps.event.addListener(O,"rightclick",_)))},[_]),g.useEffect(()=>{O&&typeof E=="function"&&(he!==null&&google.maps.event.removeListener(he),pe(google.maps.event.addListener(O,"click",E)))},[E]),g.useEffect(()=>{O&&typeof C=="function"&&(me!==null&&google.maps.event.removeListener(me),Se(google.maps.event.addListener(O,"drag",C)))},[C]),g.useEffect(()=>{var ye=new google.maps.Polygon(rw(rw({},e),{},{map:A}));return c&&ye.setPath(c),u&&ye.setPaths(u),typeof o<"u"&&ye.setVisible(o),typeof i<"u"&&ye.setEditable(i),typeof n<"u"&&ye.setDraggable(n),h&&P(google.maps.event.addListener(ye,"dblclick",h)),f&&se(google.maps.event.addListener(ye,"dragend",f)),p&&ee(google.maps.event.addListener(ye,"dragstart",p)),v&&oe(google.maps.event.addListener(ye,"mousedown",v)),x&&Y(google.maps.event.addListener(ye,"mousemove",x)),b&&J(google.maps.event.addListener(ye,"mouseout",b)),w&&M(google.maps.event.addListener(ye,"mouseover",w)),j&&q(google.maps.event.addListener(ye,"mouseup",j)),_&&H(google.maps.event.addListener(ye,"rightclick",_)),E&&pe(google.maps.event.addListener(ye,"click",E)),C&&Se(google.maps.event.addListener(ye,"drag",C)),R(ye),N&&N(ye),()=>{I!==null&&google.maps.event.removeListener(I),G!==null&&google.maps.event.removeListener(G),re!==null&&google.maps.event.removeListener(re),ae!==null&&google.maps.event.removeListener(ae),z!==null&&google.maps.event.removeListener(z),ne!==null&&google.maps.event.removeListener(ne),le!==null&&google.maps.event.removeListener(le),W!==null&&google.maps.event.removeListener(W),ie!==null&&google.maps.event.removeListener(ie),he!==null&&google.maps.event.removeListener(he),T&&T(ye),ye.setMap(null)}},[]),null}g.memo(xD);class bD extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Le({updaterMap:ow,eventMap:aw,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:ow,eventMap:aw,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),ke(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}Z(bD,"contextType",Ne);function lw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Pu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lw(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var cw={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},uw={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function wD(t){var{options:e,bounds:n,draggable:i,editable:o,visible:c,onDblClick:u,onDragEnd:h,onDragStart:f,onMouseDown:p,onMouseMove:v,onMouseOut:x,onMouseOver:b,onMouseUp:w,onRightClick:j,onClick:_,onDrag:E,onBoundsChanged:C,onLoad:N,onUnmount:T}=t,k=g.useContext(Ne),[A,O]=g.useState(null),[R,I]=g.useState(null),[P,G]=g.useState(null),[se,re]=g.useState(null),[ee,ae]=g.useState(null),[oe,z]=g.useState(null),[Y,ne]=g.useState(null),[J,le]=g.useState(null),[M,W]=g.useState(null),[q,ie]=g.useState(null),[H,he]=g.useState(null),[pe,me]=g.useState(null),[Se,ye]=g.useState(null);return g.useEffect(()=>{A!==null&&A.setMap(k)},[k]),g.useEffect(()=>{typeof e<"u"&&A!==null&&A.setOptions(e)},[A,e]),g.useEffect(()=>{typeof i<"u"&&A!==null&&A.setDraggable(i)},[A,i]),g.useEffect(()=>{typeof o<"u"&&A!==null&&A.setEditable(o)},[A,o]),g.useEffect(()=>{typeof c<"u"&&A!==null&&A.setVisible(c)},[A,c]),g.useEffect(()=>{typeof n<"u"&&A!==null&&A.setBounds(n)},[A,n]),g.useEffect(()=>{A&&u&&(R!==null&&google.maps.event.removeListener(R),I(google.maps.event.addListener(A,"dblclick",u)))},[u]),g.useEffect(()=>{A&&h&&(P!==null&&google.maps.event.removeListener(P),G(google.maps.event.addListener(A,"dragend",h)))},[h]),g.useEffect(()=>{A&&f&&(se!==null&&google.maps.event.removeListener(se),re(google.maps.event.addListener(A,"dragstart",f)))},[f]),g.useEffect(()=>{A&&p&&(ee!==null&&google.maps.event.removeListener(ee),ae(google.maps.event.addListener(A,"mousedown",p)))},[p]),g.useEffect(()=>{A&&v&&(oe!==null&&google.maps.event.removeListener(oe),z(google.maps.event.addListener(A,"mousemove",v)))},[v]),g.useEffect(()=>{A&&x&&(Y!==null&&google.maps.event.removeListener(Y),ne(google.maps.event.addListener(A,"mouseout",x)))},[x]),g.useEffect(()=>{A&&b&&(J!==null&&google.maps.event.removeListener(J),le(google.maps.event.addListener(A,"mouseover",b)))},[b]),g.useEffect(()=>{A&&w&&(M!==null&&google.maps.event.removeListener(M),W(google.maps.event.addListener(A,"mouseup",w)))},[w]),g.useEffect(()=>{A&&j&&(q!==null&&google.maps.event.removeListener(q),ie(google.maps.event.addListener(A,"rightclick",j)))},[j]),g.useEffect(()=>{A&&_&&(H!==null&&google.maps.event.removeListener(H),he(google.maps.event.addListener(A,"click",_)))},[_]),g.useEffect(()=>{A&&E&&(pe!==null&&google.maps.event.removeListener(pe),me(google.maps.event.addListener(A,"drag",E)))},[E]),g.useEffect(()=>{A&&C&&(Se!==null&&google.maps.event.removeListener(Se),ye(google.maps.event.addListener(A,"bounds_changed",C)))},[C]),g.useEffect(()=>{var Oe=new google.maps.Rectangle(Pu(Pu({},e),{},{map:k}));return typeof c<"u"&&Oe.setVisible(c),typeof o<"u"&&Oe.setEditable(o),typeof i<"u"&&Oe.setDraggable(i),typeof n<"u"&&Oe.setBounds(n),u&&I(google.maps.event.addListener(Oe,"dblclick",u)),h&&G(google.maps.event.addListener(Oe,"dragend",h)),f&&re(google.maps.event.addListener(Oe,"dragstart",f)),p&&ae(google.maps.event.addListener(Oe,"mousedown",p)),v&&z(google.maps.event.addListener(Oe,"mousemove",v)),x&&ne(google.maps.event.addListener(Oe,"mouseout",x)),b&&le(google.maps.event.addListener(Oe,"mouseover",b)),w&&W(google.maps.event.addListener(Oe,"mouseup",w)),j&&ie(google.maps.event.addListener(Oe,"rightclick",j)),_&&he(google.maps.event.addListener(Oe,"click",_)),E&&me(google.maps.event.addListener(Oe,"drag",E)),C&&ye(google.maps.event.addListener(Oe,"bounds_changed",C)),O(Oe),N&&N(Oe),()=>{R!==null&&google.maps.event.removeListener(R),P!==null&&google.maps.event.removeListener(P),se!==null&&google.maps.event.removeListener(se),ee!==null&&google.maps.event.removeListener(ee),oe!==null&&google.maps.event.removeListener(oe),Y!==null&&google.maps.event.removeListener(Y),J!==null&&google.maps.event.removeListener(J),M!==null&&google.maps.event.removeListener(M),q!==null&&google.maps.event.removeListener(q),H!==null&&google.maps.event.removeListener(H),pe!==null&&google.maps.event.removeListener(pe),Se!==null&&google.maps.event.removeListener(Se),T&&T(Oe),Oe.setMap(null)}},[]),null}g.memo(wD);class jD extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[]),Z(this,"state",{rectangle:null}),Z(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Pu(Pu({},this.props.options),{},{map:this.context}));this.registeredEvents=Le({updaterMap:uw,eventMap:cw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:uw,eventMap:cw,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),ke(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}Z(jD,"contextType",Ne);function dw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dw(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var hw={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},fw={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},SD={};function ED(t){var{options:e,center:n,radius:i,draggable:o,editable:c,visible:u,onDblClick:h,onDragEnd:f,onDragStart:p,onMouseDown:v,onMouseMove:x,onMouseOut:b,onMouseOver:w,onMouseUp:j,onRightClick:_,onClick:E,onDrag:C,onCenterChanged:N,onRadiusChanged:T,onLoad:k,onUnmount:A}=t,O=g.useContext(Ne),[R,I]=g.useState(null),[P,G]=g.useState(null),[se,re]=g.useState(null),[ee,ae]=g.useState(null),[oe,z]=g.useState(null),[Y,ne]=g.useState(null),[J,le]=g.useState(null),[M,W]=g.useState(null),[q,ie]=g.useState(null),[H,he]=g.useState(null),[pe,me]=g.useState(null),[Se,ye]=g.useState(null),[Oe,Bt]=g.useState(null),[fn,Jt]=g.useState(null);return g.useEffect(()=>{R!==null&&R.setMap(O)},[O]),g.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),g.useEffect(()=>{typeof o<"u"&&R!==null&&R.setDraggable(o)},[R,o]),g.useEffect(()=>{typeof c<"u"&&R!==null&&R.setEditable(c)},[R,c]),g.useEffect(()=>{typeof u<"u"&&R!==null&&R.setVisible(u)},[R,u]),g.useEffect(()=>{typeof i=="number"&&R!==null&&R.setRadius(i)},[R,i]),g.useEffect(()=>{typeof n<"u"&&R!==null&&R.setCenter(n)},[R,n]),g.useEffect(()=>{R&&h&&(P!==null&&google.maps.event.removeListener(P),G(google.maps.event.addListener(R,"dblclick",h)))},[h]),g.useEffect(()=>{R&&f&&(se!==null&&google.maps.event.removeListener(se),re(google.maps.event.addListener(R,"dragend",f)))},[f]),g.useEffect(()=>{R&&p&&(ee!==null&&google.maps.event.removeListener(ee),ae(google.maps.event.addListener(R,"dragstart",p)))},[p]),g.useEffect(()=>{R&&v&&(oe!==null&&google.maps.event.removeListener(oe),z(google.maps.event.addListener(R,"mousedown",v)))},[v]),g.useEffect(()=>{R&&x&&(Y!==null&&google.maps.event.removeListener(Y),ne(google.maps.event.addListener(R,"mousemove",x)))},[x]),g.useEffect(()=>{R&&b&&(J!==null&&google.maps.event.removeListener(J),le(google.maps.event.addListener(R,"mouseout",b)))},[b]),g.useEffect(()=>{R&&w&&(M!==null&&google.maps.event.removeListener(M),W(google.maps.event.addListener(R,"mouseover",w)))},[w]),g.useEffect(()=>{R&&j&&(q!==null&&google.maps.event.removeListener(q),ie(google.maps.event.addListener(R,"mouseup",j)))},[j]),g.useEffect(()=>{R&&_&&(H!==null&&google.maps.event.removeListener(H),he(google.maps.event.addListener(R,"rightclick",_)))},[_]),g.useEffect(()=>{R&&E&&(pe!==null&&google.maps.event.removeListener(pe),me(google.maps.event.addListener(R,"click",E)))},[E]),g.useEffect(()=>{R&&C&&(Se!==null&&google.maps.event.removeListener(Se),ye(google.maps.event.addListener(R,"drag",C)))},[C]),g.useEffect(()=>{R&&N&&(Oe!==null&&google.maps.event.removeListener(Oe),Bt(google.maps.event.addListener(R,"center_changed",N)))},[E]),g.useEffect(()=>{R&&T&&(fn!==null&&google.maps.event.removeListener(fn),Jt(google.maps.event.addListener(R,"radius_changed",T)))},[T]),g.useEffect(()=>{var ze=new google.maps.Circle(zu(zu({},e||SD),{},{map:O}));return typeof i=="number"&&ze.setRadius(i),typeof n<"u"&&ze.setCenter(n),typeof i=="number"&&ze.setRadius(i),typeof u<"u"&&ze.setVisible(u),typeof c<"u"&&ze.setEditable(c),typeof o<"u"&&ze.setDraggable(o),h&&G(google.maps.event.addListener(ze,"dblclick",h)),f&&re(google.maps.event.addListener(ze,"dragend",f)),p&&ae(google.maps.event.addListener(ze,"dragstart",p)),v&&z(google.maps.event.addListener(ze,"mousedown",v)),x&&ne(google.maps.event.addListener(ze,"mousemove",x)),b&&le(google.maps.event.addListener(ze,"mouseout",b)),w&&W(google.maps.event.addListener(ze,"mouseover",w)),j&&ie(google.maps.event.addListener(ze,"mouseup",j)),_&&he(google.maps.event.addListener(ze,"rightclick",_)),E&&me(google.maps.event.addListener(ze,"click",E)),C&&ye(google.maps.event.addListener(ze,"drag",C)),N&&Bt(google.maps.event.addListener(ze,"center_changed",N)),T&&Jt(google.maps.event.addListener(ze,"radius_changed",T)),I(ze),k&&k(ze),()=>{P!==null&&google.maps.event.removeListener(P),se!==null&&google.maps.event.removeListener(se),ee!==null&&google.maps.event.removeListener(ee),oe!==null&&google.maps.event.removeListener(oe),Y!==null&&google.maps.event.removeListener(Y),J!==null&&google.maps.event.removeListener(J),M!==null&&google.maps.event.removeListener(M),q!==null&&google.maps.event.removeListener(q),H!==null&&google.maps.event.removeListener(H),pe!==null&&google.maps.event.removeListener(pe),Oe!==null&&google.maps.event.removeListener(Oe),fn!==null&&google.maps.event.removeListener(fn),A&&A(ze),ze.setMap(null)}},[]),null}g.memo(ED);class _D extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[]),Z(this,"state",{circle:null}),Z(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(zu(zu({},this.props.options),{},{map:this.context}));this.registeredEvents=Le({updaterMap:fw,eventMap:hw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:fw,eventMap:hw,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),ke(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}Z(_D,"contextType",Ne);function pw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Uu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pw(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var mw={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},gw={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,i){t.loadGeoJson(e,n,i)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function CD(t){var{options:e,onClick:n,onDblClick:i,onMouseDown:o,onMouseMove:c,onMouseOut:u,onMouseOver:h,onMouseUp:f,onRightClick:p,onAddFeature:v,onRemoveFeature:x,onRemoveProperty:b,onSetGeometry:w,onSetProperty:j,onLoad:_,onUnmount:E}=t,C=g.useContext(Ne),[N,T]=g.useState(null),[k,A]=g.useState(null),[O,R]=g.useState(null),[I,P]=g.useState(null),[G,se]=g.useState(null),[re,ee]=g.useState(null),[ae,oe]=g.useState(null),[z,Y]=g.useState(null),[ne,J]=g.useState(null),[le,M]=g.useState(null),[W,q]=g.useState(null),[ie,H]=g.useState(null),[he,pe]=g.useState(null),[me,Se]=g.useState(null);return g.useEffect(()=>{N!==null&&N.setMap(C)},[C]),g.useEffect(()=>{N&&i&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(N,"dblclick",i)))},[i]),g.useEffect(()=>{N&&o&&(O!==null&&google.maps.event.removeListener(O),R(google.maps.event.addListener(N,"mousedown",o)))},[o]),g.useEffect(()=>{N&&c&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(N,"mousemove",c)))},[c]),g.useEffect(()=>{N&&u&&(G!==null&&google.maps.event.removeListener(G),se(google.maps.event.addListener(N,"mouseout",u)))},[u]),g.useEffect(()=>{N&&h&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(N,"mouseover",h)))},[h]),g.useEffect(()=>{N&&f&&(ae!==null&&google.maps.event.removeListener(ae),oe(google.maps.event.addListener(N,"mouseup",f)))},[f]),g.useEffect(()=>{N&&p&&(z!==null&&google.maps.event.removeListener(z),Y(google.maps.event.addListener(N,"rightclick",p)))},[p]),g.useEffect(()=>{N&&n&&(ne!==null&&google.maps.event.removeListener(ne),J(google.maps.event.addListener(N,"click",n)))},[n]),g.useEffect(()=>{N&&v&&(le!==null&&google.maps.event.removeListener(le),M(google.maps.event.addListener(N,"addfeature",v)))},[v]),g.useEffect(()=>{N&&x&&(W!==null&&google.maps.event.removeListener(W),q(google.maps.event.addListener(N,"removefeature",x)))},[x]),g.useEffect(()=>{N&&b&&(ie!==null&&google.maps.event.removeListener(ie),H(google.maps.event.addListener(N,"removeproperty",b)))},[b]),g.useEffect(()=>{N&&w&&(he!==null&&google.maps.event.removeListener(he),pe(google.maps.event.addListener(N,"setgeometry",w)))},[w]),g.useEffect(()=>{N&&j&&(me!==null&&google.maps.event.removeListener(me),Se(google.maps.event.addListener(N,"setproperty",j)))},[j]),g.useEffect(()=>{if(C!==null){var ye=new google.maps.Data(Uu(Uu({},e),{},{map:C}));i&&A(google.maps.event.addListener(ye,"dblclick",i)),o&&R(google.maps.event.addListener(ye,"mousedown",o)),c&&P(google.maps.event.addListener(ye,"mousemove",c)),u&&se(google.maps.event.addListener(ye,"mouseout",u)),h&&ee(google.maps.event.addListener(ye,"mouseover",h)),f&&oe(google.maps.event.addListener(ye,"mouseup",f)),p&&Y(google.maps.event.addListener(ye,"rightclick",p)),n&&J(google.maps.event.addListener(ye,"click",n)),v&&M(google.maps.event.addListener(ye,"addfeature",v)),x&&q(google.maps.event.addListener(ye,"removefeature",x)),b&&H(google.maps.event.addListener(ye,"removeproperty",b)),w&&pe(google.maps.event.addListener(ye,"setgeometry",w)),j&&Se(google.maps.event.addListener(ye,"setproperty",j)),T(ye),_&&_(ye)}return()=>{N&&(k!==null&&google.maps.event.removeListener(k),O!==null&&google.maps.event.removeListener(O),I!==null&&google.maps.event.removeListener(I),G!==null&&google.maps.event.removeListener(G),re!==null&&google.maps.event.removeListener(re),ae!==null&&google.maps.event.removeListener(ae),z!==null&&google.maps.event.removeListener(z),ne!==null&&google.maps.event.removeListener(ne),le!==null&&google.maps.event.removeListener(le),W!==null&&google.maps.event.removeListener(W),ie!==null&&google.maps.event.removeListener(ie),he!==null&&google.maps.event.removeListener(he),me!==null&&google.maps.event.removeListener(me),E&&E(N),N.setMap(null))}},[]),null}g.memo(CD);class TD extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[]),Z(this,"state",{data:null}),Z(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Uu(Uu({},this.props.options),{},{map:this.context}));this.registeredEvents=Le({updaterMap:gw,eventMap:mw,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:gw,eventMap:mw,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),ke(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}Z(TD,"contextType",Ne);function vw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function yw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vw(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var xw={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},bw={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class ND extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[]),Z(this,"state",{kmlLayer:null}),Z(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(yw(yw({},this.props.options),{},{map:this.context}));this.registeredEvents=Le({updaterMap:bw,eventMap:xw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:bw,eventMap:xw,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),ke(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}Z(ND,"contextType",Ne);function oE(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function LD(t,e){return new e(t.lat,t.lng)}function OD(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function AD(t,e,n){return t instanceof e?t:n(t,e)}function RD(t,e,n){return t instanceof e?t:n(t,e)}function kD(t,e,n){var i=t&&t.fromLatLngToDivPixel(n.getNorthEast()),o=t&&t.fromLatLngToDivPixel(n.getSouthWest());return i&&o?{left:"".concat(o.x+e.x,"px"),top:"".concat(i.y+e.y,"px"),width:"".concat(i.x-o.x-e.x,"px"),height:"".concat(o.y-i.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function MD(t,e,n){var i=t&&t.fromLatLngToDivPixel(n);if(i){var{x:o,y:c}=i;return{left:"".concat(o+e.x,"px"),top:"".concat(c+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function lE(t,e,n,i){return n!==void 0?kD(t,e,RD(n,google.maps.LatLngBounds,OD)):MD(t,e,AD(i,google.maps.LatLng,LD))}function DD(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function ww(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function PD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ww(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ww(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function zD(t,e,n,i,o){class c extends google.maps.OverlayView{constructor(h,f,p,v){super(),this.container=h,this.pane=f,this.position=p,this.bounds=v}onAdd(){var h,f=(h=this.getPanes())===null||h===void 0?void 0:h[this.pane];f?.appendChild(this.container)}draw(){var h=this.getProjection(),f=PD({},this.container?oE(this.container,o):{x:0,y:0}),p=lE(h,f,this.bounds,this.position);for(var[v,x]of Object.entries(p))this.container.style[v]=x}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new c(t,e,n,i)}function jw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function UD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jw(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Sw(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function Ew(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function BD(t){var{position:e,bounds:n,mapPaneName:i,zIndex:o,onLoad:c,onUnmount:u,getPixelPositionOffset:h,children:f}=t,p=g.useContext(Ne),v=g.useMemo(()=>{var b=document.createElement("div");return b.style.position="absolute",b},[]),x=g.useMemo(()=>zD(v,i,e,n,h),[v,i,e,n]);return g.useEffect(()=>(c?.(x),x?.setMap(p),()=>{u?.(x),x?.setMap(null)}),[p,x]),g.useEffect(()=>{v.style.zIndex="".concat(o)},[o,v]),cr.createPortal(f,v)}g.memo(BD);class Pa extends g.PureComponent{constructor(e){super(e),Z(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),Z(this,"updatePane",()=>{var i=this.props.mapPaneName,o=this.overlayView.getPanes();St(!!i,"OverlayView requires props.mapPaneName but got %s",i),o?this.setState({paneEl:o[i]}):this.setState({paneEl:null})}),Z(this,"onAdd",()=>{var i,o;this.updatePane(),(i=(o=this.props).onLoad)===null||i===void 0||i.call(o,this.overlayView)}),Z(this,"onPositionElement",()=>{var i=this.overlayView.getProjection(),o=UD({x:0,y:0},this.containerRef.current?oE(this.containerRef.current,this.props.getPixelPositionOffset):{}),c=lE(i,o,this.props.bounds,this.props.position);if(!DD(c,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var u,h,f,p;this.setState({containerStyle:{top:(u=c.top)!==null&&u!==void 0?u:0,left:(h=c.left)!==null&&h!==void 0?h:0,width:(f=c.width)!==null&&f!==void 0?f:0,height:(p=c.height)!==null&&p!==void 0?p:0,position:"absolute"}})}}),Z(this,"draw",()=>{this.onPositionElement()}),Z(this,"onRemove",()=>{var i,o;this.setState(()=>({paneEl:null})),(i=(o=this.props).onUnmount)===null||i===void 0||i.call(o,this.overlayView)}),this.containerRef=g.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=Sw(e.position),i=Sw(this.props.position),o=Ew(e.bounds),c=Ew(this.props.bounds);(n!==i||o!==c)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?cr.createPortal(l.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:g.Children.only(this.props.children)}),e):null}}Z(Pa,"FLOAT_PANE","floatPane");Z(Pa,"MAP_PANE","mapPane");Z(Pa,"MARKER_LAYER","markerLayer");Z(Pa,"OVERLAY_LAYER","overlayLayer");Z(Pa,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");Z(Pa,"contextType",Ne);function ID(){}function _w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Cw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_w(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_w(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Tw={onDblClick:"dblclick",onClick:"click"},Nw={opacity(t,e){t.setOpacity(e)}};function $D(t){var{url:e,bounds:n,options:i,visible:o}=t,c=g.useContext(Ne),u=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),h=g.useMemo(()=>new google.maps.GroundOverlay(e,u,i),[]);return g.useEffect(()=>{h!==null&&h.setMap(c)},[c]),g.useEffect(()=>{typeof e<"u"&&h!==null&&(h.set("url",e),h.setMap(c))},[h,e]),g.useEffect(()=>{typeof o<"u"&&h!==null&&h.setOpacity(o?1:0)},[h,o]),g.useEffect(()=>{var f=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&h!==null&&(h.set("bounds",f),h.setMap(c))},[h,n]),null}g.memo($D);class cE extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[]),Z(this,"state",{groundOverlay:null}),Z(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){St(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Cw(Cw({},this.props.options),{},{map:this.context}));this.registeredEvents=Le({updaterMap:Nw,eventMap:Tw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:Nw,eventMap:Tw,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}Z(cE,"defaultProps",{onLoad:ID});Z(cE,"contextType",Ne);function Lw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Bu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lw(Object(n),!0).forEach(function(i){Z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Ow={},Aw={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function VD(t){var{data:e,onLoad:n,onUnmount:i,options:o}=t,c=g.useContext(Ne),[u,h]=g.useState(null);return g.useEffect(()=>{google.maps.visualization||St(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),g.useEffect(()=>{St(!!e,"data property is required in HeatmapLayer %s",e)},[e]),g.useEffect(()=>{u!==null&&u.setMap(c)},[c]),g.useEffect(()=>{o&&u!==null&&u.setOptions(o)},[u,o]),g.useEffect(()=>{var f=new google.maps.visualization.HeatmapLayer(Bu(Bu({},o),{},{data:e,map:c}));return h(f),n&&n(f),()=>{u!==null&&(i&&i(u),u.setMap(null))}},[]),null}g.memo(VD);class HD extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[]),Z(this,"state",{heatmapLayer:null}),Z(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){St(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),St(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Bu(Bu({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Le({updaterMap:Aw,eventMap:Ow,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:Aw,eventMap:Ow,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),ke(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}Z(HD,"contextType",Ne);var Rw={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},kw={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class qD extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[]),Z(this,"state",{streetViewPanorama:null}),Z(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,i=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Le({updaterMap:kw,eventMap:Rw,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({streetViewPanorama:i}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:kw,eventMap:Rw,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),ke(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}Z(qD,"contextType",Ne);class FD extends g.PureComponent{constructor(){super(...arguments),Z(this,"state",{streetViewService:null}),Z(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}Z(FD,"contextType",Ne);var Mw={onDirectionsChanged:"directions_changed"},Dw={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class GD extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[]),Z(this,"state",{directionsRenderer:null}),Z(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Le({updaterMap:Dw,eventMap:Mw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:Dw,eventMap:Mw,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),ke(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}Z(GD,"contextType",Ne);var Pw={onPlacesChanged:"places_changed"},zw={bounds(t,e){t.setBounds(e)}};class WD extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[]),Z(this,"containerElement",g.createRef()),Z(this,"state",{searchBox:null}),Z(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(St(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Le({updaterMap:zw,eventMap:Pw,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:zw,eventMap:Pw,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),ke(this.registeredEvents))}render(){return l.jsx("div",{ref:this.containerElement,children:g.Children.only(this.props.children)})}}Z(WD,"contextType",Ne);var Uw={onPlaceChanged:"place_changed"},Bw={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class uE extends g.PureComponent{constructor(){super(...arguments),Z(this,"registeredEvents",[]),Z(this,"containerElement",g.createRef()),Z(this,"state",{autocomplete:null}),Z(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;St(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var i=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=Le({updaterMap:Bw,eventMap:Uw,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({autocomplete:i}),this.setAutocompleteCallback)}}componentDidUpdate(e){ke(this.registeredEvents),this.registeredEvents=Le({updaterMap:Bw,eventMap:Uw,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&ke(this.registeredEvents)}render(){return l.jsx("div",{ref:this.containerElement,className:this.props.className,children:g.Children.only(this.props.children)})}}Z(uE,"defaultProps",{className:""});Z(uE,"contextType",Ne);const KD="AIzaSyD9ZMr4EAvpCy-AW5dg2IsSJeC9bPTUFOQ",YD={width:"100%",height:"100%",borderRadius:"0px",backgroundColor:"#e5e7eb"},fp=(t,e)=>{const n=`
    <svg width="60" height="80" viewBox="0 0 60 80" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
          <feOffset dx="0" dy="2" result="offsetblur"/>
          <feFlood flood-color="#000000" flood-opacity="0.3"/>
          <feComposite in2="offsetblur" operator="in"/>
          <feMerge>
            <feMergeNode/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
      </defs>
      <path d="M30 5 C15 5 5 15 5 30 C5 45 30 75 30 75 C30 75 55 45 55 30 C55 15 45 5 30 5 Z" 
            fill="${e}" filter="url(#shadow)" stroke="white" stroke-width="2"/>
      <text x="30" y="38" font-size="30" text-anchor="middle" dominant-baseline="middle">${t}</text>
    </svg>
  `;return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`};function rm({pedidoId:t,clienteLat:e,clienteLng:n}){const[i,o]=g.useState({cliente:null,repartidor:null,restaurante:null}),[c,u]=g.useState(!0),[h,f]=g.useState(null),[p,v]=g.useState(null),[x,b]=g.useState(null),{isLoaded:w}=_8({id:"google-map-script",googleMapsApiKey:KD});g.useEffect(()=>{E();const P=setInterval(()=>{E()},1e4);return()=>clearInterval(P)},[t]);const j=g.useCallback(P=>{v(P)},[]),_=g.useCallback(()=>{v(null)},[]),E=async()=>{try{console.log(" Cargando ubicaciones para pedido:",t),f(null);const{data:P,error:G}=await ce.from("pedidos").select(`
          usuario_id,
          repartidor_id,
          restaurante_id,
          restaurantes (
            latitud,
            longitud
          )
        `).eq("id",t).single();if(G)throw G;console.log(" Datos del pedido:",P),console.log(" Buscando ubicacin del cliente:",P.usuario_id);const{data:se,error:re}=await ce.from("ubicacion_real").select("*").eq("usuario_id",P.usuario_id).maybeSingle();if(re&&re.code!=="PGRST116")throw re;se?console.log(" Ubicacin del cliente encontrada:",se):console.log(" No hay ubicacin del cliente, usando ubicacin del pedido");let ee=null;if(P.repartidor_id){console.log(" Buscando ubicacin del repartidor:",P.repartidor_id);const{data:z,error:Y}=await ce.from("ubicacion_real").select("*").eq("usuario_id",P.repartidor_id).maybeSingle();if(Y&&Y.code!=="PGRST116")throw Y;z?(console.log(" Ubicacin del repartidor encontrada:",z),ee=z):console.log(" No hay ubicacin del repartidor")}else console.log(" Pedido sin repartidor asignado");const ae=Array.isArray(P.restaurantes)?P.restaurantes[0]:P.restaurantes,oe=ae?{latitud:ae.latitud,longitud:ae.longitud}:null;oe&&console.log(" Ubicacin del restaurante:",oe),o({cliente:se,repartidor:ee,restaurante:oe}),console.log(" Ubicaciones cargadas exitosamente"),u(!1)}catch(P){console.error(" Error cargando ubicaciones:",P),f("Error al cargar las ubicaciones"),u(!1)}};if(c||!w)return l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",maxHeight:"700px",background:"#f8f9fa"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{border:"4px solid #e9ecef",borderTop:"4px solid #667eea",borderRadius:"50%",width:"50px",height:"50px",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),l.jsx("p",{style:{color:"#495057",fontSize:"16px",fontWeight:500},children:"Cargando mapa..."})]})});if(h)return l.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"#fff3cd",borderRadius:"12px",boxShadow:"0 4px 16px rgba(0,0,0,0.1)"},children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),l.jsx("p",{style:{color:"#856404",fontWeight:600,fontSize:"18px",marginBottom:"20px"},children:h}),l.jsx("button",{onClick:E,style:{padding:"12px 24px",background:"#667eea",color:"white",border:"none",borderRadius:"25px",cursor:"pointer",fontSize:"16px",fontWeight:600,boxShadow:"0 4px 15px rgba(102, 126, 234, 0.3)",transition:"all 0.3s ease"},onMouseOver:P=>{P.currentTarget.style.transform="translateY(-2px)",P.currentTarget.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.5)"},onMouseOut:P=>{P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.3)"},children:" Reintentar"})]});const C=i.cliente?.latitud||e,N=i.cliente?.longitud||n;let T=C,k=N;i.repartidor?(T=(i.repartidor.latitud+C)/2,k=(i.repartidor.longitud+N)/2):i.restaurante&&(T=(i.restaurante.latitud+C)/2,k=(i.restaurante.longitud+N)/2);const A={lat:T,lng:k},O=i.repartidor?Math.floor((Date.now()-new Date(i.repartidor.actualizado_en).getTime())/6e4):0,R=[];i.restaurante&&R.push({lat:i.restaurante.latitud,lng:i.restaurante.longitud}),i.repartidor&&R.push({lat:i.repartidor.latitud,lng:i.repartidor.longitud}),R.push({lat:C,lng:N});const I=()=>{p&&i.repartidor&&(p.panTo({lat:i.repartidor.latitud,lng:i.repartidor.longitud}),p.setZoom(16),E())};return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0",width:"100%",height:"100%",position:"relative",background:"white"},children:[l.jsxs("div",{style:{height:"calc(100vh - 200px)",minHeight:"600px",width:"100%",position:"relative",background:"white"},children:[l.jsxs(f8,{mapContainerStyle:YD,center:A,zoom:14,onLoad:j,onUnmount:_,options:{disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_RIGHT,mapTypeIds:["roadmap","satellite","hybrid","terrain"]},streetViewControl:!0,fullscreenControl:!0,rotateControl:!0,tilt:45},children:[R.length>1&&l.jsx(aE,{path:R,options:{strokeColor:"#667eea",strokeOpacity:.8,strokeWeight:5,geodesic:!0}}),i.restaurante&&l.jsxs(l.Fragment,{children:[l.jsx(pu,{position:{lat:i.restaurante.latitud,lng:i.restaurante.longitud},icon:{url:fp("","#10b981"),scaledSize:new google.maps.Size(50,65),anchor:new google.maps.Point(25,65)},onClick:()=>b("restaurante")}),x==="restaurante"&&l.jsx(mu,{position:{lat:i.restaurante.latitud,lng:i.restaurante.longitud},onCloseClick:()=>b(null),children:l.jsxs("div",{style:{padding:"8px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"28px",marginBottom:"6px"},children:""}),l.jsx("p",{style:{fontWeight:700,margin:"0 0 4px",fontSize:"15px",color:"#1f2937"},children:"Restaurante"}),l.jsx("p",{style:{fontSize:"13px",margin:0,color:"#6b7280"},children:"Punto de origen"})]})})]}),i.repartidor&&l.jsxs(l.Fragment,{children:[l.jsx(pu,{position:{lat:i.repartidor.latitud,lng:i.repartidor.longitud},icon:{url:fp("","#3b82f6"),scaledSize:new google.maps.Size(55,70),anchor:new google.maps.Point(27.5,70)},onClick:()=>b("repartidor"),animation:google.maps.Animation.DROP}),x==="repartidor"&&l.jsx(mu,{position:{lat:i.repartidor.latitud,lng:i.repartidor.longitud},onCloseClick:()=>b(null),children:l.jsxs("div",{style:{padding:"8px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"28px",marginBottom:"6px"},children:""}),l.jsx("p",{style:{fontWeight:700,margin:"0 0 4px",fontSize:"15px",color:"#1f2937"},children:"Repartidor"}),i.repartidor.velocidad!==null&&i.repartidor.velocidad>0&&l.jsxs("p",{style:{fontSize:"13px",margin:0,color:"#3b82f6",fontWeight:600},children:[i.repartidor.velocidad.toFixed(1)," km/h"]}),l.jsxs("p",{style:{fontSize:"12px",margin:"4px 0 0",color:"#6b7280"},children:["Actualizado hace ",O," min"]})]})})]}),l.jsx(pu,{position:{lat:C,lng:N},icon:{url:fp("","#ef4444"),scaledSize:new google.maps.Size(50,65),anchor:new google.maps.Point(25,65)},onClick:()=>b("cliente")}),x==="cliente"&&l.jsx(mu,{position:{lat:C,lng:N},onCloseClick:()=>b(null),children:l.jsxs("div",{style:{padding:"8px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"28px",marginBottom:"6px"},children:""}),l.jsx("p",{style:{fontWeight:700,margin:"0 0 4px",fontSize:"15px",color:"#1f2937"},children:"Tu ubicacin"}),l.jsx("p",{style:{fontSize:"13px",margin:0,color:"#6b7280"},children:"Destino de entrega"})]})})]}),i.repartidor&&l.jsxs("button",{onClick:I,style:{position:"absolute",bottom:"20px",right:"20px",padding:"14px 20px",background:"#3b82f6",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontSize:"15px",fontWeight:600,boxShadow:"0 8px 25px rgba(59, 130, 246, 0.4)",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease",zIndex:1e3},onMouseOver:P=>{P.currentTarget.style.transform="translateY(-3px) scale(1.05)",P.currentTarget.style.boxShadow="0 12px 35px rgba(59, 130, 246, 0.6)"},onMouseOut:P=>{P.currentTarget.style.transform="translateY(0) scale(1)",P.currentTarget.style.boxShadow="0 8px 25px rgba(59, 130, 246, 0.4)"},children:[l.jsx("span",{style:{fontSize:"20px"},children:""}),"Ver Repartidor"]})]}),i.repartidor&&l.jsxs("div",{style:{background:"white",padding:"20px",boxShadow:"0 -4px 20px rgba(0,0,0,0.1)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[l.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6 0%, #667eea 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",boxShadow:"0 4px 15px rgba(59, 130, 246, 0.3)"},children:""}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:700,color:"#1f2937"},children:"Tu repartidor est en camino"}),l.jsxs("p",{style:{margin:"4px 0 0",fontSize:"14px",color:"#6b7280"},children:["Ubicacin actualizada hace ",O," min"]})]}),l.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:"#10b981",boxShadow:"0 0 0 4px rgba(16, 185, 129, 0.3)",animation:"pulse 2s infinite"}})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"12px"},children:[i.repartidor.velocidad!==null&&i.repartidor.velocidad>0&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",padding:"14px",borderRadius:"12px",border:"1px solid #93c5fd"},children:[l.jsx("div",{style:{fontSize:"20px",marginBottom:"6px"},children:""}),l.jsx("p",{style:{fontSize:"11px",margin:0,color:"#1e40af",fontWeight:600},children:"Velocidad"}),l.jsxs("p",{style:{fontSize:"20px",fontWeight:700,margin:"4px 0 0",color:"#1e3a8a"},children:[i.repartidor.velocidad.toFixed(1)," ",l.jsx("span",{style:{fontSize:"12px"},children:"km/h"})]})]}),i.repartidor.precision_metros!==null&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%)",padding:"14px",borderRadius:"12px",border:"1px solid #a5b4fc"},children:[l.jsx("div",{style:{fontSize:"20px",marginBottom:"6px"},children:""}),l.jsx("p",{style:{fontSize:"11px",margin:0,color:"#4338ca",fontWeight:600},children:"Precisin"}),l.jsxs("p",{style:{fontSize:"20px",fontWeight:700,margin:"4px 0 0",color:"#3730a3"},children:[i.repartidor.precision_metros," ",l.jsx("span",{style:{fontSize:"12px"},children:"m"})]})]})]})]}),l.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.5; }
        }
      `})]})}function ZD(){const{pedidoId:t}=La(),{usuario:e}=ot(),n=Ze(),{modalState:i,showError:o,closeModal:c}=Ra(),[u,h]=g.useState(null),[f,p]=g.useState([]),[v,x]=g.useState(!0),[b,w]=g.useState(!1);g.useEffect(()=>{if(!t||!e?.id)return;const E=async()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(async N=>{try{const{error:T}=await ce.from("ubicacion_real").upsert({usuario_id:e.id,latitud:N.coords.latitude,longitud:N.coords.longitude,velocidad:N.coords.speed,precision_metros:Math.round(N.coords.accuracy),heading:N.coords.heading,actualizado_en:new Date().toISOString()},{onConflict:"usuario_id"});T&&console.error("Error al actualizar ubicacin del cliente:",T)}catch(T){console.error("Error actualizando ubicacin:",T)}},N=>{console.warn("No se pudo obtener la ubicacin del cliente:",N)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};E();const C=setInterval(E,2e4);return()=>{clearInterval(C)}},[t,e?.id]),g.useEffect(()=>{if(!e||!t){n("/login");return}j();const E=ce.channel(`pedido-${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"pedidos",filter:`id=eq.${t}`},()=>{j()}).subscribe();return()=>{ce.removeChannel(E)}},[t,e]);const j=async()=>{if(t)try{const{data:E,error:C}=await ce.from("vista_pedidos_cliente").select("*").eq("pedido_id",t).single();if(C)throw C;const{data:N,error:T}=await ce.from("vista_detalle_pedido_completo").select("*").eq("pedido_id",t);if(T)throw T;h(E),p(N)}catch(E){console.error("Error al cargar pedido:",E),o("Error al cargar el pedido")}finally{x(!1)}},_=E=>({pendiente:" Esperando confirmacin",confirmado:" Confirmado por el restaurante",en_preparacion:" Preparando tu pedido",listo:" Listo para entrega",en_camino:" En camino a tu ubicacin",entregado:" Entregado",cancelado:" Cancelado"})[E]||E;return v?l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh"},children:l.jsx("div",{style:{width:48,height:48,borderRadius:24,borderBottom:"4px solid #6366f1",animation:"spin 1s linear infinite"}})}):u?l.jsxs("div",{className:"detalle-page",children:[l.jsxs("button",{onClick:()=>n("/pedidos"),className:"back-button",children:[l.jsx("span",{className:"back-arrow",children:""}),l.jsx("span",{children:"Mis Pedidos"})]}),l.jsxs("div",{className:"detalle-wrapper",children:[l.jsxs("div",{className:"detalle-card main-card",children:[l.jsxs("div",{className:"order-header-section",children:[l.jsxs("div",{className:"restaurant-badge",children:[l.jsx("span",{className:"restaurant-emoji-large",children:u.restaurante_emoji}),l.jsxs("div",{children:[l.jsx("h1",{className:"order-title",children:u.restaurante_nombre}),l.jsxs("p",{className:"order-subtitle",children:["Pedido #",u.numero_pedido]})]})]}),l.jsxs("div",{className:"order-amount-section",children:[l.jsx("p",{className:"order-total-label",children:"Total"}),l.jsxs("p",{className:"order-total-value",children:["L ",u.total.toFixed(2)]}),l.jsxs("p",{className:"order-items-count",children:[u.total_items," item",u.total_items>1?"s":""]})]})]}),l.jsxs("div",{className:`modern-status-badge status-${u.estado}`,children:[l.jsx("span",{className:"status-pulse"}),l.jsx("span",{className:"status-label",children:_(u.estado)})]}),l.jsxs("div",{className:"modern-timeline",children:[l.jsx("div",{className:"timeline-line"}),l.jsxs("div",{className:"timeline-step completed",children:[l.jsx("div",{className:"timeline-icon",children:l.jsx("span",{children:""})}),l.jsxs("div",{className:"timeline-content",children:[l.jsx("p",{className:"timeline-title",children:"Pedido realizado"}),l.jsx("p",{className:"timeline-time",children:new Date(u.creado_en).toLocaleString("es-MX",{dateStyle:"medium",timeStyle:"short"})})]})]}),u.confirmado_en&&l.jsxs("div",{className:"timeline-step completed",children:[l.jsx("div",{className:"timeline-icon",children:l.jsx("span",{children:""})}),l.jsxs("div",{className:"timeline-content",children:[l.jsx("p",{className:"timeline-title",children:"Confirmado por restaurante"}),l.jsx("p",{className:"timeline-time",children:new Date(u.confirmado_en).toLocaleString("es-MX",{dateStyle:"medium",timeStyle:"short"})})]})]}),u.asignado_en&&l.jsxs("div",{className:"timeline-step completed",children:[l.jsx("div",{className:"timeline-icon",children:l.jsx("span",{children:""})}),l.jsxs("div",{className:"timeline-content",children:[l.jsx("p",{className:"timeline-title",children:"Repartidor asignado"}),l.jsx("p",{className:"timeline-time",children:new Date(u.asignado_en).toLocaleString("es-MX",{dateStyle:"medium",timeStyle:"short"})})]})]}),u.entregado_en&&l.jsxs("div",{className:"timeline-step completed",children:[l.jsx("div",{className:"timeline-icon",children:l.jsx("span",{children:""})}),l.jsxs("div",{className:"timeline-content",children:[l.jsx("p",{className:"timeline-title",children:"Pedido entregado"}),l.jsx("p",{className:"timeline-time",children:new Date(u.entregado_en).toLocaleString("es-MX",{dateStyle:"medium",timeStyle:"short"})})]})]})]})]}),u.tiene_repartidor&&u.repartidor_nombre&&l.jsxs("div",{className:"detalle-card delivery-card",children:[l.jsx("div",{className:"card-title-row",children:l.jsxs("h2",{className:"card-title",children:[l.jsx("span",{className:"card-icon",children:""}),"Tu Repartidor"]})}),l.jsxs("div",{className:"delivery-person-info",children:[u.repartidor_foto?l.jsx("img",{src:u.repartidor_foto,alt:u.repartidor_nombre,className:"delivery-photo"}):l.jsx("div",{className:"delivery-photo-placeholder",children:l.jsx("span",{children:""})}),l.jsxs("div",{className:"delivery-details",children:[l.jsx("p",{className:"delivery-name",children:u.repartidor_nombre}),u.repartidor_vehiculo&&l.jsxs("p",{className:"delivery-vehicle",children:[" ",u.repartidor_vehiculo]}),u.repartidor_telefono&&l.jsxs("a",{href:`tel:${u.repartidor_telefono}`,className:"delivery-phone",children:[" ",u.repartidor_telefono]})]})]})]}),u.tracking_activo&&l.jsxs("div",{className:"detalle-card map-container-card",children:[l.jsxs("div",{className:"card-title-row",children:[l.jsxs("h2",{className:"card-title",children:[l.jsx("span",{className:"card-icon",children:""}),"Ubicacin en Tiempo Real"]}),l.jsxs("button",{onClick:()=>w(!0),className:"expand-map-btn",children:[l.jsx("span",{children:""})," Expandir"]})]}),l.jsx("div",{className:"map-preview",children:l.jsx(rm,{pedidoId:t,clienteLat:u.latitud,clienteLng:u.longitud})})]}),b&&l.jsxs("div",{className:"map-modal",children:[l.jsxs("div",{className:"map-modal-header",children:[l.jsxs("h3",{className:"map-modal-title",children:[l.jsx("span",{children:""}),"Ubicacin del pedido"]}),l.jsx("button",{onClick:()=>w(!1),className:"map-modal-close",children:""})]}),l.jsx("div",{className:"map-modal-content",children:u&&l.jsx(rm,{pedidoId:t,clienteLat:u.latitud,clienteLng:u.longitud})})]}),l.jsxs("div",{className:"detalle-card address-card",children:[l.jsxs("h2",{className:"card-title",children:[l.jsx("span",{className:"card-icon",children:""}),"Direccin de Entrega"]}),l.jsx("p",{className:"address-text",children:u.direccion_entrega}),u.notas_cliente&&l.jsxs("div",{className:"delivery-notes",children:[l.jsx("p",{className:"notes-label",children:" Notas de entrega"}),l.jsx("p",{className:"notes-text",children:u.notas_cliente})]})]}),l.jsxs("div",{className:"detalle-card items-section",children:[l.jsxs("h2",{className:"card-title",children:[l.jsx("span",{className:"card-icon",children:""}),"Items del Pedido"]}),l.jsx("div",{className:"items-list",children:f.map((E,C)=>l.jsxs("div",{className:`item-card ${C!==f.length-1?"with-border":""}`,children:[E.platillo_imagen&&l.jsx("div",{className:"item-image-container",children:l.jsx("img",{src:E.platillo_imagen,alt:E.platillo_nombre,className:"item-image-modern"})}),l.jsxs("div",{className:"item-info",children:[l.jsxs("div",{className:"item-header",children:[l.jsx("h3",{className:"item-name",children:E.platillo_nombre}),l.jsxs("p",{className:"item-price",children:["L ",E.subtotal.toFixed(2)]})]}),l.jsx("p",{className:"item-description",children:E.platillo_descripcion}),l.jsxs("div",{className:"item-footer",children:[l.jsxs("p",{className:"item-quantity",children:["Cantidad: ",E.cantidad,"  L"," ",E.precio_unitario.toFixed(2)]}),E.notas_platillo&&l.jsxs("p",{className:"item-notes",children:[" ",E.notas_platillo]})]})]})]},E.detalle_id))}),l.jsx("div",{className:"order-total-section",children:l.jsxs("div",{className:"total-line",children:[l.jsx("span",{className:"total-label",children:"Total del pedido"}),l.jsxs("span",{className:"total-value",children:["L ",u.total.toFixed(2)]})]})})]})]}),l.jsx(Aa,{isOpen:i.isOpen,onClose:c,title:i.title,message:i.message,type:i.type})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-500",children:"Pedido no encontrado"}),l.jsx("button",{onClick:()=>n("/pedidos"),className:"mt-4 text-indigo-600 hover:underline",children:"Volver a mis pedidos"})]})}async function dE(t){const{data:e,error:n}=await ce.from("repartidores").select("*").eq("usuario_id",t).single();if(n)throw n;return e}async function XD(t,e){const{data:n,error:i}=await ce.rpc("cambiar_disponibilidad_repartidor",{p_usuario_id:t,p_disponible:e});if(i)throw i;return n}async function hE(){const{data:t,error:e}=await ce.from("vista_pedidos_disponibles_repartidores").select("*").order("creado_en",{ascending:!0});if(e)throw e;return t}async function og(t){const{data:e,error:n}=await ce.from("vista_pedidos_repartidor").select("*").eq("repartidor_id",t).order("asignado_en",{ascending:!0});if(n)throw n;return e}async function JD(t,e){const{data:n,error:i}=await ce.rpc("asignar_repartidor_pedido",{p_pedido_id:t,p_repartidor_id:e});if(i)throw i;return n}async function QD(t,e){const{data:n,error:i}=await ce.rpc("marcar_pedido_entregado",{p_pedido_id:t,p_repartidor_id:e});if(i)throw i;return n}async function Iw(t,e,n,i,o,c){const{data:u,error:h}=await ce.rpc("actualizar_ubicacion_repartidor",{p_repartidor_id:t,p_latitud:e,p_longitud:n,p_pedido_id:i||null,p_velocidad:o||null,p_precision:c||null});if(h)throw h;return u}function eP(t,e,n=60){let i=null,o=null;return navigator.geolocation&&(i=navigator.geolocation.watchPosition(async c=>{try{await Iw(t,c.coords.latitude,c.coords.longitude,e,c.coords.speed||void 0,c.coords.accuracy),console.log("Ubicacin actualizada:",c.coords)}catch(u){console.error("Error al actualizar ubicacin:",u)}},c=>{console.error("Error al obtener ubicacin:",c)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}),o=setInterval(()=>{navigator.geolocation.getCurrentPosition(async c=>{try{await Iw(t,c.coords.latitude,c.coords.longitude,e,c.coords.speed||void 0,c.coords.accuracy)}catch(u){console.error("Error en actualizacin peridica:",u)}})},n*1e3)),()=>{i!==null&&navigator.geolocation.clearWatch(i),o!==null&&clearInterval(o)}}async function tP(t){const{data:e,error:n}=await ce.from("vista_estadisticas_repartidor").select("*").eq("usuario_id",t).single();if(n)throw n;return e}function nP(t){const e=ce.channel("pedidos-disponibles").on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:"estado=in.(listo,confirmado)"},async()=>{const n=await hE();t(n)}).subscribe();return()=>{ce.removeChannel(e)}}function sP(t,e){const n=ce.channel("mis-pedidos-repartidor").on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`repartidor_id=eq.${t}`},async()=>{const i=await og(t);e(i)}).subscribe();return()=>{ce.removeChannel(n)}}function iP(){const{usuario:t}=ot(),{modalState:e,showSuccess:n,showError:i,closeModal:o}=Ra(),[c,u]=g.useState([]),[h,f]=g.useState(!0),[p,v]=g.useState(null);g.useEffect(()=>{x();const w=nP(j=>{u(j)});return()=>{w()}},[]);const x=async()=>{try{const w=await hE();u(w)}catch(w){console.error("Error al cargar pedidos:",w)}finally{f(!1)}},b=async w=>{if(t){v(w);try{await JD(w,t.id),n('Pedido asignado! Ve a "Mis Pedidos" para comenzar la entrega.'),await x()}catch(j){console.error("Error al tomar pedido:",j),i("No se pudo tomar el pedido. Intenta de nuevo.")}finally{v(null)}}};return h?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx($e,{}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx($e,{}),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:" Pedidos Disponibles"}),c.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-gray-500 text-lg",children:"No hay pedidos disponibles en este momento"}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Los nuevos pedidos aparecern aqu automticamente"})]}):l.jsx("div",{className:"space-y-4",children:c.map(w=>l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold",children:[w.restaurante_emoji," ",w.restaurante_nombre]}),l.jsx("p",{className:"text-gray-600 text-sm",children:w.restaurante_direccion})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:["L ",w.total.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[w.total_items," item",w.total_items>1?"s":""]})]})]}),l.jsxs("div",{className:"border-t pt-4 mb-4",children:[l.jsxs("div",{className:"flex items-start space-x-2 mb-2",children:[l.jsx("span",{className:"text-gray-500",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Entrega en:"}),l.jsx("p",{className:"text-gray-700",children:w.direccion_entrega})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[l.jsx("span",{children:""}),l.jsxs("p",{children:["Hace ",Math.floor(w.minutos_desde_creacion)," minutos"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${w.estado==="listo"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:w.estado==="listo"?" Listo":" En preparacin"}),l.jsx("button",{onClick:()=>b(w.pedido_id),disabled:p===w.pedido_id,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:p===w.pedido_id?" Tomando...":" Tomar Pedido"})]})]},w.pedido_id))})]}),l.jsx(Aa,{isOpen:e.isOpen,onClose:o,title:e.title,message:e.message,type:e.type})]})}function rP(){const{usuario:t}=ot(),e=Ze(),[n,i]=g.useState([]),[o,c]=g.useState(!0);g.useEffect(()=>{if(!t)return;u();const h=sP(t.id,f=>{i(f)});return()=>{h()}},[t]);const u=async()=>{if(t)try{const h=await og(t.id);i(h)}catch(h){console.error("Error al cargar pedidos:",h)}finally{c(!1)}};return o?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx($e,{}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx($e,{}),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:" Mis Pedidos"}),l.jsx("button",{onClick:()=>e("/repartidor/disponibles"),className:"text-indigo-600 hover:underline text-sm",children:"Ver disponibles "})]}),n.length===0?l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[l.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No tienes pedidos asignados"}),l.jsx("button",{onClick:()=>e("/repartidor/disponibles"),className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700",children:"Ver Pedidos Disponibles"})]}):l.jsx("div",{className:"space-y-4",children:n.map(h=>l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold",children:[h.restaurante_emoji," ",h.restaurante_nombre]}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Pedido #",h.numero_pedido]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:["L ",h.total.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[h.total_items," items"]})]})]}),l.jsxs("div",{className:"border-t pt-4 mb-4",children:[l.jsxs("div",{className:"flex items-start space-x-2 mb-3",children:[l.jsx("span",{className:"text-gray-500",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Entregar en:"}),l.jsx("p",{className:"text-gray-700",children:h.direccion_entrega})]})]}),h.notas_cliente&&l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:[l.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:" Notas del cliente:"}),l.jsx("p",{className:"text-gray-700 text-sm",children:h.notas_cliente})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[l.jsx("span",{children:""}),l.jsxs("p",{children:["Asignado hace"," ",Math.floor(h.minutos_desde_asignacion)," minutos"]})]})]}),l.jsx("button",{onClick:()=>e(`/repartidor/entrega/${h.pedido_id}`),className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:" Iniciar Entrega"})]},h.pedido_id))})]})]})}function aP(){const{pedidoId:t}=La(),{usuario:e}=ot(),n=Ze(),{modalState:i,showError:o,showSuccess:c,closeModal:u}=Ra(),[h,f]=g.useState(null),[p,v]=g.useState(!0),[x,b]=g.useState(!1),[w,j]=g.useState(!1),[_,E]=g.useState(!1),C=g.useRef(null);g.useEffect(()=>(N(),()=>{C.current&&C.current()}),[t]);const N=async()=>{if(!(!e||!t))try{const[R,I]=await Promise.all([og(e.id),dE(e.id)]),P=R.find(G=>G.pedido_id===t);if(!P){o("Pedido no encontrado"),n("/repartidor/mis-pedidos");return}f(P),I&&T(I.id)}catch(R){console.error("Error al cargar datos:",R)}finally{v(!1)}},T=R=>{if(!t||w)return;console.log("Iniciando tracking GPS...");const I=eP(R,t,60);C.current=I,j(!0)},k=async()=>{!e||!t||E(!0)},A=async()=>{if(!(!e||!t)){E(!1),b(!0);try{await QD(t,e.id),C.current&&C.current(),c("Pedido marcado como entregado! Buen trabajo!"),setTimeout(()=>n("/repartidor/mis-pedidos"),1500)}catch(R){console.error("Error al marcar como entregado:",R),o("Error al marcar el pedido como entregado")}finally{b(!1)}}},O=()=>{if(!h)return;const R=`https://www.google.com/maps/dir/?api=1&destination=${h.latitud},${h.longitud}`;window.open(R,"_blank")};return p?l.jsx("div",{className:"flex justify-center items-center h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):h?l.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:" Entrega en Curso"}),l.jsxs("p",{className:"text-gray-600",children:["Pedido #",h.numero_pedido]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:["L ",h.total.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[h.total_items," items"]})]})]}),w&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"animate-pulse text-green-600",children:""}),l.jsx("p",{className:"text-green-700 text-sm font-medium",children:" Tracking GPS activo - Tu ubicacin se actualiza cada minuto"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[l.jsxs("h2",{className:"text-lg font-semibold mb-3",children:[h.restaurante_emoji," Recoger en:"]}),l.jsx("p",{className:"text-xl font-medium mb-2",children:h.restaurante_nombre}),l.jsx("p",{className:"text-gray-600 mb-2",children:h.restaurante_direccion}),h.restaurante_telefono&&l.jsxs("a",{href:`tel:${h.restaurante_telefono}`,className:"text-indigo-600 hover:underline",children:[" ",h.restaurante_telefono]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-3",children:" Entregar en:"}),l.jsx("p",{className:"text-gray-900 text-lg mb-3",children:h.direccion_entrega}),h.notas_cliente&&l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:[l.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:" Notas del cliente:"}),l.jsx("p",{className:"text-gray-700",children:h.notas_cliente})]}),l.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:["Cliente: ",h.cliente_email]}),l.jsx("button",{onClick:O,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:" Abrir Navegacin GPS"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-3",children:" Mapa de Entrega"}),l.jsx(rm,{pedidoId:t,clienteLat:h.latitud,clienteLng:h.longitud})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l.jsx("button",{onClick:k,disabled:x,className:"w-full bg-green-600 text-white py-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-lg font-bold",children:x?" Marcando...":" Marcar como Entregado"}),l.jsx("p",{className:"text-center text-gray-500 text-sm mt-2",children:"Solo marca como entregado cuando hayas confirmado la entrega con el cliente"})]}),l.jsx(Aa,{isOpen:i.isOpen,onClose:u,title:i.title,message:i.message,type:i.type}),l.jsx(ad,{visible:_,title:"Confirmar Entrega",description:"Confirmas que el pedido fue entregado al cliente? Esta accin no se puede deshacer.",onCancel:()=>E(!1),onConfirm:A,confirmLabel:"S, confirmar",cancelLabel:"Cancelar"})]}):l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500",children:"Pedido no encontrado"})})}function oP(){const{usuario:t}=ot(),e=Ze(),{modalState:n,showError:i,closeModal:o}=Ra(),[c,u]=g.useState(null),[h,f]=g.useState(null),[p,v]=g.useState(!0),[x,b]=g.useState(!1);g.useEffect(()=>{w()},[t]);const w=async()=>{if(t)try{const[_,E]=await Promise.all([dE(t.id),tP(t.id)]);u(_),f(E)}catch(_){console.error("Error al cargar datos:",_)}finally{v(!1)}},j=async()=>{if(!(!t||!c)){b(!0);try{await XD(t.id,!c.disponible),await w()}catch(_){console.error("Error al cambiar disponibilidad:",_),i("Error al cambiar disponibilidad")}finally{b(!1)}}};return p?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx($e,{}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})]}):c?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx($e,{}),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:" Mi Perfil"}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[c.foto_url?l.jsx("img",{src:c.foto_url,alt:c.nombre_completo,className:"w-20 h-20 rounded-full object-cover"}):l.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-100 flex items-center justify-center text-3xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-xl font-bold",children:c.nombre_completo}),c.telefono&&l.jsxs("p",{className:"text-gray-600",children:[" ",c.telefono]}),c.tipo_vehiculo&&l.jsxs("p",{className:"text-gray-600 capitalize",children:[" ",c.tipo_vehiculo]})]})]}),l.jsx("div",{className:"border-t pt-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Estado"}),l.jsx("p",{className:"text-sm text-gray-600",children:c.disponible?" Disponible para pedidos":" No disponible"})]}),l.jsx("button",{onClick:j,disabled:x,className:`px-6 py-2 rounded-lg font-medium transition-colors ${c.disponible?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"} disabled:bg-gray-400`,children:x?"":c.disponible?"Pausar":"Activar"})]})})]}),h&&l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:" Estadsticas"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Entregas"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:c.total_entregas})]}),l.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Calificacin"}),l.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[" ",c.calificacion_promedio.toFixed(1)]})]}),l.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completadas"}),l.jsx("p",{className:"text-3xl font-bold text-purple-600",children:h.entregas_completadas})]}),l.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"En Curso"}),l.jsx("p",{className:"text-3xl font-bold text-orange-600",children:h.entregas_en_curso})]})]}),h.ganancias_estimadas>0&&l.jsxs("div",{className:"mt-4 bg-indigo-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Ganancias Estimadas"}),l.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:["$",h.ganancias_estimadas.toFixed(2)]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:" Acciones Rpidas"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>e("/repartidor/disponibles"),className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:" Ver Pedidos Disponibles"}),l.jsx("button",{onClick:()=>e("/repartidor/mis-pedidos"),className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:" Mis Pedidos Activos"}),l.jsx("button",{onClick:()=>e("/home"),className:"w-full bg-gray-600 text-white py-3 rounded-lg hover:bg-gray-700 transition-colors font-medium",children:" Volver al Inicio"})]})]})]}),l.jsx(Aa,{isOpen:n.isOpen,onClose:o,title:n.title,message:n.message,type:n.type})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx($e,{}),l.jsx("div",{className:"max-w-4xl mx-auto p-4",children:l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[l.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No tienes un perfil de repartidor"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Contacta al administrador para registrarte como repartidor"})]})})]})}const am=async t=>{try{const{data:e,error:n}=await ce.from("vista_panel_repartidor").select("*").eq("usuario_id",t).maybeSingle();return n?(console.error("Error al obtener panel repartidor:",n),null):e}catch(e){return console.error("Error al obtener panel repartidor:",e),null}},fE=async t=>{try{const{data:e,error:n}=await ce.from("vista_panel_restaurante").select("*").eq("restaurante_id",t).maybeSingle();return n?(console.error("Error al obtener panel restaurante:",n),null):e}catch(e){return console.error("Error al obtener panel restaurante:",e),null}},om=async()=>{try{const{data:t,error:e}=await ce.from("vista_panel_operador").select("*").maybeSingle();return e?(console.error("Error al obtener panel operador:",e),null):t}catch(t){return console.error("Error al obtener panel operador:",t),null}},pE=async()=>{try{const{data:t,error:e}=await ce.from("vista_panel_admin").select("*").maybeSingle();return e?(console.error("Error al obtener panel admin:",e),null):t}catch(t){return console.error("Error al obtener panel admin:",t),null}},lP=(t,e)=>{const n=ce.channel(`panel_repartidor_${t}`).on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`repartidor_id=eq.${t}`},async()=>{const i=await am(t);e(i)}).on("postgres_changes",{event:"*",schema:"public",table:"repartidores",filter:`usuario_id=eq.${t}`},async()=>{const i=await am(t);e(i)}).subscribe();return()=>{ce.removeChannel(n)}},cP=(t,e)=>{const n=ce.channel(`panel_restaurante_${t}`).on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`restaurante_id=eq.${t}`},async()=>{const i=await fE(t);e(i)}).subscribe();return()=>{ce.removeChannel(n)}},uP=t=>{const e=ce.channel("panel_operador").on("postgres_changes",{event:"*",schema:"public",table:"pedidos"},async()=>{const n=await om();t(n)}).on("postgres_changes",{event:"*",schema:"public",table:"repartidores"},async()=>{const n=await om();t(n)}).subscribe();return()=>{ce.removeChannel(e)}},dP=t=>{const e=ce.channel("panel_admin").on("postgres_changes",{event:"*",schema:"public",table:"pedidos"},async()=>{const n=await pE();t(n)}).subscribe();return()=>{ce.removeChannel(e)}};var mE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$w=xe.createContext&&xe.createContext(mE),hP=["attr","size","title"];function fP(t,e){if(t==null)return{};var n=pP(t,e),i,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(o=0;o<c.length;o++)i=c[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function pP(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Iu.apply(this,arguments)}function Vw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function $u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vw(Object(n),!0).forEach(function(i){mP(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function mP(t,e,n){return e=gP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gP(t){var e=vP(t,"string");return typeof e=="symbol"?e:e+""}function vP(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gE(t){return t&&t.map((e,n)=>xe.createElement(e.tag,$u({key:n},e.attr),gE(e.child)))}function et(t){return e=>xe.createElement(yP,Iu({attr:$u({},t.attr)},e),gE(t.child))}function yP(t){var e=n=>{var{attr:i,size:o,title:c}=t,u=fP(t,hP),h=o||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),xe.createElement("svg",Iu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:f,style:$u($u({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),c&&xe.createElement("title",null,c),t.children)};return $w!==void 0?xe.createElement($w.Consumer,null,n=>e(n)):e(mE)}function lg(t){return et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function xP(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function bP(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function lm(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function lr(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function Hw(t){return et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"},child:[]}]})(t)}function wP(t){return et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function jP(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function qw(t){return et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function SP(t){return et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function EP(t){return et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function cm(t){return et({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function Vu(t){return et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function _P(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function CP(t){return et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function TP(t){return et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function wa(t){return et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(t)}function NP(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function vE(t){return et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function pl(t){return et({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(t)}function LP(t){return et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Fw(t){return et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function ml(t){return et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(t)}function OP(t){return et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function AP(t){return et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function ar(t){return et({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}function RP(){const{usuario:t}=ot(),e=Ze(),[n,i]=g.useState(null),[o,c]=g.useState(!0);g.useEffect(()=>{if(!t||t.tipo_usuario!=="repartidor"){e("/");return}u();const h=lP(t.id,f=>{f&&i(f)});return()=>{h()}},[t,e]);const u=async()=>{if(!t)return;c(!0);const h=await am(t.id);i(h),c(!1)};return o?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[l.jsx($e,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-indigo-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando panel..."})]})})]}):n?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 pb-20",children:[l.jsx($e,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:n.nombre_completo.charAt(0)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:n.nombre_completo}),l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[l.jsx("span",{className:"text-sm text-gray-500",children:n.tipo_vehiculo}),l.jsx("span",{className:"text-gray-300",children:""}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(vE,{className:"text-yellow-400 mr-1"}),l.jsx("span",{className:"font-semibold",children:n.calificacion_promedio.toFixed(1)})]})]})]}),l.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${n.disponible?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:n.disponible?"Disponible":"No disponible"})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsx("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Entregas Hoy"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:n.entregas_hoy})]}),l.jsx(ml,{className:"text-5xl text-white opacity-20"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Ganancias Hoy"}),l.jsxs("p",{className:"text-4xl font-bold mt-2",children:["L ",n.ganancias_hoy.toFixed(2)]})]}),l.jsx(Vu,{className:"text-5xl text-white opacity-20"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl shadow-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Total Entregas"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:n.total_entregas})]}),l.jsx(xP,{className:"text-5xl text-white opacity-20"})]})})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" Resumen del Mes"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Entregas del Mes"}),l.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-1",children:n.entregas_mes})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Ganancias del Mes"}),l.jsxs("p",{className:"text-3xl font-bold text-green-600 mt-1",children:["L ",n.ganancias_mes.toFixed(2)]})]})]})]}),n.pedido_activo?l.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl shadow-lg p-6 text-white mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:" Entrega Activa"}),l.jsx("span",{className:"bg-white text-orange-600 px-3 py-1 rounded-full text-sm font-semibold",children:n.pedido_activo.estado})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4 mb-4",children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Pedido"}),l.jsx("p",{className:"text-2xl font-bold",children:n.pedido_activo.numero_pedido})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(cm,{className:"mr-3 text-xl"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Restaurante"}),l.jsx("p",{className:"font-semibold",children:n.pedido_activo.restaurante})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(cm,{className:"mr-3 text-xl"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Entregar en"}),l.jsx("p",{className:"font-semibold",children:n.pedido_activo.direccion_entrega})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(lr,{className:"mr-3 text-xl"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Tiempo transcurrido"}),l.jsxs("p",{className:"font-semibold",children:[Math.round(n.pedido_activo.tiempo_transcurrido)," min"]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Total"}),l.jsxs("p",{className:"text-2xl font-bold",children:["L ",n.pedido_activo.total.toFixed(2)]})]})]})]}),l.jsx("button",{onClick:()=>e("/repartidor/entrega-activa"),className:"w-full bg-white text-orange-600 font-bold py-3 rounded-xl mt-4 hover:bg-orange-50 transition",children:"Ver Detalles de la Entrega"})]}):l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center mb-6",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Sin entregas activas"}),l.jsx("p",{className:"text-gray-600",children:"Revisa los pedidos disponibles para empezar"}),l.jsx("button",{onClick:()=>e("/repartidor/pedidos-disponibles"),className:"mt-4 bg-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-indigo-700 transition",children:"Ver Pedidos Disponibles"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("button",{onClick:()=>e("/repartidor/pedidos-disponibles"),className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Pedidos Disponibles"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ver pedidos por asignar"})]}),l.jsxs("button",{onClick:()=>e("/repartidor/mis-pedidos"),className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Mis Pedidos"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Historial de entregas"})]})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[l.jsx($e,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:"No se pudo cargar la informacin del panel"})})]})}const kP=async t=>{try{const{data:e,error:n}=await ce.from("restaurantes").select("*").eq("id",t).maybeSingle();return n?(console.error("Error al obtener restaurante:",n),null):e}catch(e){return console.error("Error al obtener restaurante:",e),null}},MP=async t=>{try{const{data:e,error:n}=await ce.from("restaurantes").select("*").eq("usuario_id",t).maybeSingle();return n?(console.error("Error al obtener restaurante por usuario:",n),null):e}catch(e){return console.error("Error al obtener restaurante por usuario:",e),null}},DP=async(t,e)=>{try{const n={...t};e&&(n.usuario_id=e);const{data:i,error:o}=await ce.from("restaurantes").insert([n]).select().maybeSingle();return o?(console.error("Error al crear restaurante:",o),null):i}catch(n){return console.error("Error al crear restaurante:",n),null}},PP=async(t,e)=>{try{const{data:n,error:i}=await ce.from("restaurantes").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();return i?(console.error("Error al actualizar restaurante:",i),null):n}catch(n){return console.error("Error al actualizar restaurante:",n),null}},zP=async t=>{try{const{data:e,error:n}=await ce.from("platillos").select("*").eq("restaurante_id",t).order("nombre");return n?(console.error("Error al obtener platillos:",n),[]):e}catch(e){return console.error("Error al obtener platillos:",e),[]}},UP=async t=>{try{const{data:e,error:n}=await ce.from("platillos").insert([t]).select().single();return n?(console.error("Error al crear platillo:",n),null):e}catch(e){return console.error("Error al crear platillo:",e),null}},Gw=async(t,e)=>{try{const{data:n,error:i}=await ce.from("platillos").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();return i?(console.error("Error al actualizar platillo:",i),null):n}catch(n){return console.error("Error al actualizar platillo:",n),null}},BP=async t=>{try{const{error:e}=await ce.from("platillos").delete().eq("id",t);return e?(console.error("Error al eliminar platillo:",e),!1):!0}catch(e){return console.error("Error al eliminar platillo:",e),!1}},yE=async(t,e)=>{try{let n=ce.from("pedidos").select(`
        *,
        usuarios:usuario_id (
          nombre,
          telefono
        )
      `).eq("restaurante_id",t).order("creado_en",{ascending:!1});const{data:i,error:o}=await n;return o?(console.error("Error al obtener pedidos:",o),[]):i.map(c=>({...c,cliente_nombre:c.usuarios?.nombre,cliente_telefono:c.usuarios?.telefono}))}catch(n){return console.error("Error al obtener pedidos:",n),[]}},IP=async t=>{try{const{data:e,error:n}=await ce.from("detalle_pedidos").select(`
        *,
        platillos (nombre),
        bebidas (nombre)
      `).eq("pedido_id",t);return n?(console.error("Error al obtener detalles del pedido:",n),[]):e.map(i=>({...i,platillo_nombre:i.platillos?.nombre,bebida_nombre:i.bebidas?.nombre}))}catch(e){return console.error("Error al obtener detalles del pedido:",e),[]}},$P=async(t,e)=>{try{const n={estado:e,actualizado_en:new Date().toISOString()};e==="confirmado"&&(n.confirmado_en=new Date().toISOString());const{error:i}=await ce.from("pedidos").update(n).eq("id",t);return i?(console.error("Error al actualizar estado del pedido:",i),!1):!0}catch(n){return console.error("Error al actualizar estado del pedido:",n),!1}},VP=(t,e)=>{const n=ce.channel(`pedidos_restaurante_${t}`).on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`restaurante_id=eq.${t}`},async()=>{const i=await yE(t);e(i)}).subscribe();return()=>{ce.removeChannel(n)}};function HP(){const{usuario:t}=ot(),e=Ze(),[n,i]=g.useState(null),[o,c]=g.useState(!0),[u,h]=g.useState(""),[f,p]=g.useState(null);g.useEffect(()=>{if(!t||t.tipo_usuario!=="restaurante"){e("/");return}v()},[t,e]),g.useEffect(()=>{if(!u)return;x();const b=cP(u,w=>{w&&i(w)});return()=>{b()}},[u]);const v=async()=>{if(!t)return;const b=await MP(t.id);if(b){p(b),h(b.id);return}p(null),h("")},x=async()=>{c(!0);const b=await fE(u);i(b),c(!1)};return o?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100",children:[l.jsx($e,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando panel..."})]})})]}):n?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100 pb-20",children:[l.jsx($e,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("button",{onClick:()=>e("/restaurante/gestion"),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 text-left",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:l.jsx(ar,{className:"text-orange-600 text-2xl"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Gestionar Restaurante"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Edita informacin, horarios y configuracin de tu restaurante"})]}),l.jsxs("button",{onClick:()=>e("/restaurante/platillos"),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 text-left",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:l.jsx(Hw,{className:"text-green-600 text-2xl"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Gestin de Platillos"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Administra tu men, precios e imgenes de platillos"})]}),l.jsxs("button",{onClick:()=>e("/restaurante/pedidos"),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 text-left",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:l.jsx(wa,{className:"text-blue-600 text-2xl"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Pedidos del Restaurante"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Visualiza y gestiona todos los pedidos entrantes"})]})]}),l.jsx("div",{className:"rounded-2xl shadow-lg p-6 mb-6 text-white",style:{backgroundColor:n.color_tema||"#ff6b6b"},children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"text-6xl",children:n.emoji||""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-3xl font-bold",children:n.nombre}),l.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[l.jsxs("div",{className:"flex items-center bg-white bg-opacity-20 px-3 py-1 rounded-full",children:[l.jsx(vE,{className:"text-yellow-300 mr-1"}),l.jsx("span",{className:"font-semibold",children:n.calificacion.toFixed(1)})]}),l.jsxs("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full",children:[l.jsx(lr,{className:"inline mr-1"}),n.tiempo_entrega_min," min"]}),l.jsx("span",{className:`px-3 py-1 rounded-full font-semibold ${n.activo?"bg-green-500":"bg-gray-500"}`,children:n.activo?"Activo":"Cerrado"})]})]})]})}),n.pedidos_pendientes_hoy>0&&l.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-6 rounded-r-xl",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(qw,{className:"text-yellow-600 text-2xl mr-3"}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-yellow-800",children:["Tienes ",n.pedidos_pendientes_hoy," pedido(s) pendiente(s) por confirmar"]}),l.jsx("p",{className:"text-sm text-yellow-700",children:"Revisa y confirma los pedidos nuevos"})]})]})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(wa,{className:"text-blue-500 text-2xl"}),l.jsx("span",{className:"text-xs text-gray-500",children:"HOY"})]}),l.jsx("p",{className:"text-3xl font-bold text-gray-800",children:n.pedidos_hoy}),l.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(lr,{className:"text-orange-500 text-2xl"}),l.jsx("span",{className:"text-xs text-gray-500",children:"EN PROCESO"})]}),l.jsx("p",{className:"text-3xl font-bold text-gray-800",children:n.pedidos_en_proceso_hoy}),l.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(wa,{className:"text-green-500 text-2xl"}),l.jsx("span",{className:"text-xs text-gray-500",children:"COMPLETADOS"})]}),l.jsx("p",{className:"text-3xl font-bold text-gray-800",children:n.pedidos_completados_hoy}),l.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg p-4 text-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Vu,{className:"text-2xl"}),l.jsx("span",{className:"text-xs text-green-100",children:"HOY"})]}),l.jsxs("p",{className:"text-3xl font-bold",children:["$",n.ingresos_hoy.toFixed(2)]}),l.jsx("p",{className:"text-sm text-green-100",children:"Ingresos"})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" Resumen del Mes"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Total Pedidos"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:n.pedidos_mes})]}),l.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Completados"}),l.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:n.pedidos_completados_mes})]}),l.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Ingresos"}),l.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:["$",n.ingresos_mes.toFixed(2)]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:" Platillos"}),l.jsx(ar,{className:"text-orange-500 text-2xl"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Total"}),l.jsx("span",{className:"text-2xl font-bold text-gray-800",children:n.total_platillos})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Disponibles"}),l.jsx("span",{className:"text-xl font-semibold text-green-600",children:n.platillos_disponibles})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:" Bebidas"}),l.jsx(Hw,{className:"text-blue-500 text-2xl"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Total"}),l.jsx("span",{className:"text-2xl font-bold text-gray-800",children:n.total_bebidas})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Disponibles"}),l.jsx("span",{className:"text-xl font-semibold text-green-600",children:n.bebidas_disponibles})]})]})]})]}),n.platillo_mas_vendido&&l.jsxs("div",{className:"bg-gradient-to-br from-yellow-400 to-orange-500 rounded-2xl shadow-lg p-6 text-white mb-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:" Platillo Ms Vendido del Mes"}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-2xl font-bold",children:n.platillo_mas_vendido.nombre}),l.jsxs("div",{className:"flex items-center justify-between mt-3",children:[l.jsxs("span",{className:"text-lg",children:["$",n.platillo_mas_vendido.precio.toFixed(2)]}),l.jsxs("span",{className:"bg-white bg-opacity-30 px-3 py-1 rounded-full",children:[n.platillo_mas_vendido.veces_pedido," pedidos"]})]})]})]}),n.pedidos_pendientes&&n.pedidos_pendientes.length>0&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:[" Pedidos Pendientes (",n.pedidos_pendientes.length,")"]}),l.jsx("div",{className:"space-y-3",children:n.pedidos_pendientes.map(b=>l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-gray-800",children:b.numero_pedido}),l.jsx("p",{className:"text-sm text-gray-600",children:b.direccion_entrega}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(b.creado_en).toLocaleString()})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",b.total.toFixed(2)]}),l.jsx("button",{className:"mt-2 bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-orange-700 transition",children:"Confirmar"})]})]})},b.pedido_id))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("button",{className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Administrar Men"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Platillos y bebidas"})]}),l.jsxs("button",{className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Historial"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ver todos los pedidos"})]})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100",children:[l.jsx($e,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"max-w-3xl mx-auto",children:f?l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 md:p-12 text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-orange-400 to-red-500 rounded-full mb-4",children:l.jsx("span",{className:"text-white text-4xl",children:f.emoji||""})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:f.nombre}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:f.descripcion}),l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("button",{onClick:()=>e("/restaurante/gestion"),className:"bg-white border border-gray-200 px-4 py-2 rounded-lg shadow-sm hover:shadow-md",children:"Editar Restaurante"}),l.jsx("button",{onClick:()=>e("/restaurante/platillos"),className:"bg-orange-500 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-orange-600",children:"Agregar Platillo"}),l.jsx("button",{onClick:()=>e("/restaurante/pedidos"),className:"bg-blue-500 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-blue-600",children:"Ver Pedidos"})]})]}),l.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[l.jsxs("p",{children:["Tiempo entrega: ",f.tiempo_entrega_min," ","min"]}),l.jsxs("p",{children:["Costo envo: L ",f.costo_envio]}),l.jsxs("p",{children:["Activo: ",f.activo?"S":"No"]})]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 md:p-12 text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-orange-400 to-red-500 rounded-full mb-4",children:l.jsx(pl,{className:"text-white text-4xl"})}),l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-3",children:"Bienvenido a Delibery! "}),l.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"An no tienes un restaurante registrado"}),l.jsx("p",{className:"text-gray-500",children:"Comienza creando tu restaurante para empezar a recibir pedidos"})]}),l.jsxs("div",{className:"bg-orange-50 rounded-xl p-6 mb-8",children:[l.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Qu podrs hacer despus de crear tu restaurante?"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(ar,{className:"text-orange-500 text-2xl mb-2"}),l.jsx("span",{className:"font-medium",children:"Gestionar tu men"})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(wa,{className:"text-green-500 text-2xl mb-2"}),l.jsx("span",{className:"font-medium",children:"Recibir pedidos"})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(Vu,{className:"text-blue-500 text-2xl mb-2"}),l.jsx("span",{className:"font-medium",children:"Generar ingresos"})]})]})]}),l.jsxs("button",{onClick:()=>e("/restaurante/gestion"),className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:from-orange-600 hover:to-red-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 inline-flex items-center gap-3",children:[l.jsx(pl,{className:"text-2xl"}),"Crear Mi Restaurante"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-6",children:"Solo te tomar unos minutos configurar tu restaurante"})]}),l.jsxs("div",{className:"mt-8 bg-white/80 backdrop-blur rounded-xl p-6",children:[l.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[l.jsx(qw,{className:"text-yellow-500"}),"Informacin Importante"]}),l.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-orange-500 font-bold",children:""}),l.jsx("span",{children:"Podrs editar toda la informacin de tu restaurante cuando quieras"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-orange-500 font-bold",children:""}),l.jsx("span",{children:"Necesitars agregar al menos un platillo para empezar a recibir pedidos"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-orange-500 font-bold",children:""}),l.jsx("span",{children:"Los clientes vern tu restaurante una vez que est activo"})]})]})]})]})})})]})}function qP(){const{usuario:t}=ot(),e=Ze(),[n,i]=g.useState(null),[o,c]=g.useState(!0);g.useEffect(()=>{if(!t||t.tipo_usuario!=="operador"){e("/");return}u();const f=uP(v=>{v&&i(v)}),p=setInterval(u,3e4);return()=>{f(),clearInterval(p)}},[t,e]);const u=async()=>{c(!0);const f=await om();i(f),c(!1)};if(o)return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100",children:[l.jsx($e,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando panel..."})]})})]});if(!n)return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100",children:[l.jsx($e,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:"No se pudo cargar la informacin del panel"})})]});const h=n.pedidos_pendientes+n.pedidos_confirmados+n.pedidos_en_preparacion+n.pedidos_listos+n.pedidos_en_camino;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100 pb-20",children:[l.jsx($e,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl shadow-lg p-6 mb-6 text-white",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Panel de Operador"}),l.jsx("p",{className:"text-purple-100",children:"Control y monitoreo en tiempo real del sistema"}),l.jsxs("p",{className:"text-sm text-purple-200 mt-2",children:["ltima actualizacin:"," ",new Date(n.actualizado_en).toLocaleTimeString()]})]}),(n.pedidos_retrasados>0||n.pedidos_sin_repartidor>0)&&l.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 mb-6 rounded-r-xl",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(jP,{className:"text-red-600 text-3xl mr-3 mt-1"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-bold text-red-800 text-lg",children:" Alertas Crticas"}),l.jsxs("div",{className:"mt-2 space-y-1",children:[n.pedidos_retrasados>0&&l.jsxs("p",{className:"text-red-700",children:[" ",n.pedidos_retrasados," pedido(s) retrasado(s) (+30 min)"]}),n.pedidos_sin_repartidor>0&&l.jsxs("p",{className:"text-red-700",children:[" ",n.pedidos_sin_repartidor," pedido(s) sin repartidor asignado"]})]})]})]})}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" Pedidos en Tiempo Real"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[l.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 text-center",children:[l.jsx(lr,{className:"text-3xl text-yellow-600 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:n.pedidos_pendientes}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Pendientes"})]}),l.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 text-center",children:[l.jsx(lm,{className:"text-3xl text-blue-600 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-blue-700",children:n.pedidos_confirmados}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Confirmados"})]}),l.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-xl p-4 text-center",children:[l.jsx(NP,{className:"text-3xl text-orange-600 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-orange-700",children:n.pedidos_en_preparacion}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"En Preparacin"})]}),l.jsxs("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-xl p-4 text-center",children:[l.jsx(wa,{className:"text-3xl text-purple-600 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-purple-700",children:n.pedidos_listos}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Listos"})]}),l.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-4 text-center",children:[l.jsx(ml,{className:"text-3xl text-green-600 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-green-700",children:n.pedidos_en_camino}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"En Camino"})]})]}),l.jsx("div",{className:"mt-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-lg font-semibold",children:"Total Pedidos Activos"}),l.jsx("span",{className:"text-4xl font-bold",children:h})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Entregados Hoy"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:n.pedidos_entregados_hoy})]}),l.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-pink-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsx("p",{className:"text-red-100 text-sm font-medium",children:"Cancelados Hoy"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:n.pedidos_cancelados_hoy})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Ingresos Hoy"}),l.jsxs("p",{className:"text-3xl font-bold mt-2",children:["L ",n.ingresos_hoy.toFixed(2)]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Tiempo Prom."}),l.jsxs("p",{className:"text-3xl font-bold mt-2",children:[Math.round(n.tiempo_promedio_entrega_hoy)," min"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:" Repartidores"}),l.jsx(ml,{className:"text-3xl text-blue-500"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"Disponibles"}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:n.repartidores_disponibles})]}),l.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"En Entrega"}),l.jsx("span",{className:"text-2xl font-bold text-orange-600",children:n.repartidores_en_entrega})]}),l.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"Activos"}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:n.repartidores_activos})]}),l.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"Total"}),l.jsx("span",{className:"text-2xl font-bold text-gray-800",children:n.total_repartidores})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:" Restaurantes"}),l.jsx(pl,{className:"text-3xl text-orange-500"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"Activos"}),l.jsx("span",{className:"text-3xl font-bold text-green-600",children:n.restaurantes_activos})]}),l.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"Total"}),l.jsx("span",{className:"text-3xl font-bold text-gray-800",children:n.total_restaurantes})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" Resumen del Mes"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Pedidos Completados"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:n.pedidos_completados_mes})]}),l.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Ingresos del Mes"}),l.jsxs("p",{className:"text-3xl font-bold text-green-600 mt-1",children:["L ",n.ingresos_mes.toFixed(2)]})]})]})]}),n.pedidos_urgentes&&n.pedidos_urgentes.length>0&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:[" Pedidos Urgentes (",n.pedidos_urgentes.length,")"]}),l.jsx("div",{className:"space-y-3",children:n.pedidos_urgentes.map(f=>l.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-bold text-gray-800",children:f.numero_pedido}),l.jsx("p",{className:"text-sm text-gray-600",children:f.restaurante}),l.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[l.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${f.estado==="pendiente"?"bg-yellow-100 text-yellow-700":f.estado==="confirmado"?"bg-blue-100 text-blue-700":f.estado==="en_preparacion"?"bg-orange-100 text-orange-700":"bg-purple-100 text-purple-700"}`,children:f.estado}),l.jsxs("span",{className:"text-xs text-gray-500",children:[" ",Math.round(f.tiempo_transcurrido)," min"]}),l.jsx("span",{className:`text-xs font-semibold ${f.tiene_repartidor?"text-green-600":"text-red-600"}`,children:f.tiene_repartidor?" Con repartidor":" Sin repartidor"})]})]}),l.jsx("button",{className:"ml-4 bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-red-700 transition",children:"Ver Detalles"})]})},f.pedido_id))})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsxs("button",{className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Todos los Pedidos"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ver historial completo"})]}),l.jsxs("button",{className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Gestionar Repartidores"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Estado y asignaciones"})]}),l.jsxs("button",{className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Gestionar Restaurantes"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ver todos los restaurantes"})]})]})]})]})}function FP(){const{usuario:t}=ot(),e=Ze(),[n,i]=g.useState(null),[o,c]=g.useState(!0);g.useEffect(()=>{if(!t||t.tipo_usuario!=="admin"){e("/");return}u();const h=dP(p=>{p&&i(p)}),f=setInterval(u,6e4);return()=>{h(),clearInterval(f)}},[t,e]);const u=async()=>{c(!0);const h=await pE();i(h),c(!1)};return o?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900",children:[l.jsx($e,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-white mx-auto"}),l.jsx("p",{className:"mt-4 text-white",children:"Cargando panel..."})]})})]}):n?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900 pb-20",children:[l.jsx($e,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-2xl shadow-2xl p-8 mb-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold mb-2",children:" Panel de Administracin"}),l.jsx("p",{className:"text-purple-100 text-lg",children:"Vista completa del sistema Delibery"}),l.jsxs("p",{className:"text-sm text-purple-200 mt-2",children:["Actualizado: ",new Date(n.actualizado_en).toLocaleString()]})]}),l.jsx("div",{className:"text-6xl",children:""})]})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl shadow-lg p-6 text-white",children:[l.jsx(AP,{className:"text-3xl mb-2 opacity-80"}),l.jsx("p",{className:"text-blue-100 text-sm",children:"Total Usuarios"}),l.jsx("p",{className:"text-4xl font-bold mt-1",children:n.total_usuarios}),l.jsxs("p",{className:"text-xs text-blue-200 mt-2",children:["+",n.usuarios_nuevos_hoy," hoy"]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-700 rounded-xl shadow-lg p-6 text-white",children:[l.jsx(wa,{className:"text-3xl mb-2 opacity-80"}),l.jsx("p",{className:"text-green-100 text-sm",children:"Pedidos Totales"}),l.jsx("p",{className:"text-4xl font-bold mt-1",children:n.total_pedidos_historico}),l.jsxs("p",{className:"text-xs text-green-200 mt-2",children:[n.pedidos_hoy," hoy"]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-700 rounded-xl shadow-lg p-6 text-white",children:[l.jsx(Vu,{className:"text-3xl mb-2 opacity-80"}),l.jsx("p",{className:"text-purple-100 text-sm",children:"Ingresos Totales"}),l.jsxs("p",{className:"text-3xl font-bold mt-1",children:["L ",n.ingresos_totales.toFixed(0)]}),l.jsxs("p",{className:"text-xs text-purple-200 mt-2",children:["L ",n.ingresos_hoy.toFixed(0)," hoy"]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-700 rounded-xl shadow-lg p-6 text-white",children:[l.jsx(bP,{className:"text-3xl mb-2 opacity-80"}),l.jsx("p",{className:"text-orange-100 text-sm",children:"Tasa Completacin"}),l.jsxs("p",{className:"text-4xl font-bold mt-1",children:[n.tasa_completacion_porcentaje,"%"]}),l.jsx("p",{className:"text-xs text-orange-200 mt-2",children:"Global"})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Mtricas de Hoy"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Pedidos Hoy"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:n.pedidos_hoy})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Ingresos Hoy"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["L ",n.ingresos_hoy.toFixed(2)]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Ticket Promedio"}),l.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["L ",n.ticket_promedio.toFixed(2)]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Tiempo Entrega"}),l.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[Math.round(n.tiempo_promedio_entrega_hoy),"m"]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Distribucin de Pedidos"}),l.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-7 gap-3",children:[l.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:n.distribucion_estados.pendiente}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Pendiente"})]}),l.jsxs("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-700",children:n.distribucion_estados.confirmado}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Confirmado"})]}),l.jsxs("div",{className:"bg-orange-50 border-2 border-orange-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-orange-700",children:n.distribucion_estados.en_preparacion}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Preparando"})]}),l.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-700",children:n.distribucion_estados.listo}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Listo"})]}),l.jsxs("div",{className:"bg-indigo-50 border-2 border-indigo-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:n.distribucion_estados.en_camino}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"En Camino"})]}),l.jsxs("div",{className:"bg-green-50 border-2 border-green-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:n.distribucion_estados.entregado}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Entregado"})]}),l.jsxs("div",{className:"bg-red-50 border-2 border-red-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-red-700",children:n.distribucion_estados.cancelado}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Cancelado"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold",children:" Restaurantes"}),l.jsx(pl,{className:"text-4xl opacity-50"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Activos"}),l.jsx("p",{className:"text-4xl font-bold",children:n.restaurantes_activos})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Total"}),l.jsx("p",{className:"text-4xl font-bold",children:n.total_restaurantes})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4 col-span-2",children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Productos"}),l.jsxs("p",{className:"text-2xl font-bold",children:[n.total_platillos," platillos  ",n.total_bebidas," ","bebidas"]})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold",children:" Repartidores"}),l.jsx(ml,{className:"text-4xl opacity-50"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-blue-100 text-sm",children:"Disponibles"}),l.jsx("p",{className:"text-4xl font-bold",children:n.repartidores_disponibles})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-blue-100 text-sm",children:"En Entrega"}),l.jsx("p",{className:"text-4xl font-bold",children:n.repartidores_en_entrega})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-blue-100 text-sm",children:"Total"}),l.jsx("p",{className:"text-3xl font-bold",children:n.total_repartidores})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-blue-100 text-sm",children:" Calificacin"}),l.jsx("p",{className:"text-3xl font-bold",children:n.calificacion_promedio_repartidores.toFixed(1)})]})]})]})]}),n.top_restaurantes_mes&&n.top_restaurantes_mes.length>0&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(Fw,{className:"text-yellow-500 text-2xl mr-2"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" Top 5 Restaurantes del Mes"})]}),l.jsx("div",{className:"space-y-3",children:n.top_restaurantes_mes.map((h,f)=>l.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl ${f===0?"bg-gradient-to-r from-yellow-100 to-yellow-200 border-2 border-yellow-400":"bg-gray-50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-3xl font-bold text-gray-400",children:["#",f+1]}),l.jsx("span",{className:"text-3xl",children:h.emoji}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-gray-800",children:h.nombre}),l.jsxs("p",{className:"text-sm text-gray-600",children:[h.total_pedidos," pedidos"]})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["L ",h.ingresos.toFixed(2)]})})]},h.id))})]}),n.top_repartidores_mes&&n.top_repartidores_mes.length>0&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(Fw,{className:"text-blue-500 text-2xl mr-2"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" Top 5 Repartidores del Mes"})]}),l.jsx("div",{className:"space-y-3",children:n.top_repartidores_mes.map((h,f)=>l.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl ${f===0?"bg-gradient-to-r from-blue-100 to-indigo-200 border-2 border-blue-400":"bg-gray-50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-3xl font-bold text-gray-400",children:["#",f+1]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-gray-800",children:h.nombre_completo}),l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:[h.entregas_mes," entregas"]}),l.jsxs("span",{className:"text-yellow-500",children:[" ",h.calificacion_promedio.toFixed(1)]})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["L ",h.ganancias_mes.toFixed(2)]}),l.jsx("p",{className:"text-xs text-gray-500",children:"ganancias"})]})]},h.id))})]}),l.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl shadow-lg p-6 mb-6 text-white",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Resumen del Mes"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-indigo-100 text-sm",children:"Nuevos Usuarios"}),l.jsx("p",{className:"text-3xl font-bold",children:n.usuarios_nuevos_mes})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-indigo-100 text-sm",children:"Pedidos"}),l.jsx("p",{className:"text-3xl font-bold",children:n.pedidos_mes})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-indigo-100 text-sm",children:"Completados"}),l.jsx("p",{className:"text-3xl font-bold",children:n.total_pedidos_completados})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-indigo-100 text-sm",children:"Ingresos"}),l.jsxs("p",{className:"text-2xl font-bold",children:["L ",n.ingresos_mes.toFixed(2)]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(lr,{className:"text-blue-500 text-2xl mr-2"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" Tiempos de Entrega"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Promedio Global"}),l.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[Math.round(n.tiempo_promedio_entrega_global)," min"]})]}),l.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Promedio Hoy"}),l.jsxs("p",{className:"text-4xl font-bold text-green-600",children:[Math.round(n.tiempo_promedio_entrega_hoy)," min"]})]})]})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900",children:[l.jsx($e,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:"No se pudo cargar la informacin del panel"})})]})}function GP(){const{usuario:t}=ot(),e=Ze(),[n,i]=g.useState(null),[o,c]=g.useState(!0),[u,h]=g.useState(!1),[f,p]=g.useState(""),[v,x]=g.useState(""),[b,w]=g.useState(""),[j,_]=g.useState(""),[E,C]=g.useState(""),[N,T]=g.useState("#ff6b6b"),[k,A]=g.useState(""),[O,R]=g.useState(30),[I,P]=g.useState(0),[G,se]=g.useState(!0);g.useEffect(()=>{if(!t||t.tipo_usuario!=="restaurante"){e("/");return}re()},[t,e]);const re=async()=>{if(!t)return;c(!0);const z=await kP(t.id);z&&(i(z),w(z.nombre),_(z.descripcion||""),C(z.imagen_url||""),T(z.color_tema||"#ff6b6b"),A(z.emoji||""),R(z.tiempo_entrega_min),P(z.costo_envio),se(z.activo)),c(!1)},ee=async z=>{z.preventDefault(),x(""),p(""),h(!0);try{if(!t)return;const Y={nombre:b,descripcion:j||void 0,imagen_url:E||void 0,color_tema:N,emoji:k,tiempo_entrega_min:O,costo_envio:I,activo:G};if(n){const ne=await PP(n.id,Y);ne?(p("Restaurante actualizado correctamente"),i(ne)):x("Error al actualizar el restaurante")}else{const ne=await DP(Y,t.id);ne?(p("Restaurante creado correctamente"),i(ne)):x("Error al crear el restaurante. Revisa permisos RLS o token autenticado.")}}catch(Y){x("Error al guardar el restaurante"),console.error(Y)}finally{h(!1)}},ae=["","","","","","","","","","","",""],oe=["#ff6b6b","#ee5a6f","#f06595","#cc5de8","#845ef7","#5c7cfa","#339af0","#22b8cf","#20c997","#51cf66","#94d82d","#ffd43b","#ffa94d","#ff922b"];return o?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100",children:[l.jsx($e,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100 pb-20",children:[l.jsx($e,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("button",{onClick:()=>e("/restaurante/dashboard"),className:"mr-4 bg-white p-3 rounded-full shadow-lg hover:shadow-xl transition",children:l.jsx(lg,{className:"text-orange-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n?"Editar Restaurante":"Crear Restaurante"}),l.jsx("p",{className:"text-gray-600",children:"Configura la informacin de tu negocio"})]})]}),f&&l.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:f}),v&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:v}),l.jsxs("form",{onSubmit:ee,className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsx("div",{className:"rounded-xl p-6 mb-6 text-white",style:{backgroundColor:N},children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"text-6xl",children:k}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:b||"Nombre del Restaurante"}),l.jsx("p",{className:"text-sm opacity-90",children:j||"Descripcin del restaurante"}),l.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[l.jsxs("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:[l.jsx(lr,{className:"inline mr-1"}),O," min"]}),l.jsxs("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:[l.jsx(ml,{className:"inline mr-1"}),"$",I]})]})]})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[l.jsx(pl,{className:"inline mr-2"}),"Nombre del Restaurante *"]}),l.jsx("input",{type:"text",value:b,onChange:z=>w(z.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"Ej: La Casa del Sabor"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descripcin"}),l.jsx("textarea",{value:j,onChange:z=>_(z.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"Describe tu restaurante..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"URL de la Imagen"}),l.jsx("input",{type:"url",value:E,onChange:z=>C(z.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"https://ejemplo.com/imagen.jpg"}),E&&l.jsx("img",{src:E,alt:"Preview",className:"mt-3 w-full h-48 object-cover rounded-xl",onError:z=>{z.target.style.display="none"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Emoji Representativo"}),l.jsx("div",{className:"grid grid-cols-6 md:grid-cols-12 gap-2",children:ae.map(z=>l.jsx("button",{type:"button",onClick:()=>A(z),className:`text-3xl p-3 rounded-xl hover:bg-gray-100 transition ${k===z?"bg-orange-100 ring-2 ring-orange-500":"bg-gray-50"}`,children:z},z))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Color del Tema"}),l.jsx("div",{className:"grid grid-cols-7 md:grid-cols-14 gap-2",children:oe.map(z=>l.jsx("button",{type:"button",onClick:()=>T(z),className:`w-12 h-12 rounded-xl transition ${N===z?"ring-4 ring-gray-400 scale-110":""}`,style:{backgroundColor:z}},z))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tiempo de Entrega (min)"}),l.jsx("input",{type:"number",value:O,onChange:z=>R(Number(z.target.value)),min:"10",max:"120",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Costo de Envo (Lps)"}),l.jsx("input",{type:"number",value:I,onChange:z=>P(Number(z.target.value)),min:"0",step:"0.01",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none"})]})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-xl",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-800",children:"Estado del Restaurante"}),l.jsx("p",{className:"text-sm text-gray-600",children:G?"Abierto y aceptando pedidos":"Cerrado temporalmente"})]}),l.jsx("button",{type:"button",onClick:()=>se(!G),className:`relative inline-flex items-center h-8 rounded-full w-16 transition ${G?"bg-green-500":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block w-6 h-6 transform bg-white rounded-full transition ${G?"translate-x-9":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("button",{type:"submit",disabled:u,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white font-bold py-4 rounded-xl hover:from-orange-600 hover:to-red-700 transition disabled:opacity-50 flex items-center justify-center",children:u?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Guardando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(TP,{className:"mr-2"}),n?"Actualizar Restaurante":"Crear Restaurante"]})}),l.jsx("button",{type:"button",onClick:()=>e("/restaurante/dashboard"),className:"px-6 py-4 bg-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-300 transition",children:"Cancelar"})]})]})]})]})]})}function WP(){const{usuario:t}=ot(),e=Ze(),[n,i]=g.useState([]),[o,c]=g.useState(!0),[u,h]=g.useState(!1),[f,p]=g.useState(null),[v,x]=g.useState(""),[b,w]=g.useState(""),[j,_]=g.useState(""),[E,C]=g.useState(""),[N,T]=g.useState("15"),[k,A]=g.useState(!0),[O,R]=g.useState(!1),[I,P]=g.useState(!1),[G,se]=g.useState(!1);g.useEffect(()=>{if(!t||t.tipo_usuario!=="restaurante"){e("/");return}re()},[t,e]);const re=async()=>{if(!t)return;c(!0);const J=await zP(t.id);i(J),c(!1)},ee=()=>{p(null),oe(),h(!0)},ae=J=>{p(J),x(J.nombre),w(J.descripcion||""),_(J.precio.toString()),C(J.imagen_url||""),T(J.tiempo_preparacion.toString()),A(J.disponible),R(J.es_vegetariano),P(J.es_picante),h(!0)},oe=()=>{x(""),w(""),_(""),C(""),T("15"),A(!0),R(!1),P(!1)},z=async J=>{if(J.preventDefault(),!!t){se(!0);try{const le={restaurante_id:t.id,nombre:v,descripcion:b||void 0,precio:parseFloat(j),imagen_url:E||void 0,tiempo_preparacion:parseInt(N),disponible:k,es_vegetariano:O,es_picante:I};f?await Gw(f.id,le)&&(await re(),h(!1)):await UP(le)&&(await re(),h(!1))}catch(le){console.error("Error al guardar platillo:",le)}finally{se(!1)}}},Y=async J=>{if(!confirm("Ests seguro de eliminar este platillo?"))return;await BP(J)&&await re()},ne=async J=>{await Gw(J.id,{disponible:!J.disponible})&&await re()};return o?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100",children:[l.jsx($e,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando platillos..."})]})})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100 pb-20",children:[l.jsx($e,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>e("/restaurante/dashboard"),className:"mr-4 bg-white p-3 rounded-full shadow-lg hover:shadow-xl transition",children:l.jsx(lg,{className:"text-orange-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Gestin de Platillos"}),l.jsxs("p",{className:"text-gray-600",children:[n.length," platillos en total"]})]})]}),l.jsxs("button",{onClick:ee,className:"bg-gradient-to-r from-orange-500 to-red-600 text-white font-bold px-6 py-3 rounded-xl hover:from-orange-600 hover:to-red-700 transition flex items-center shadow-lg",children:[l.jsx(CP,{className:"mr-2"}),"Nuevo Platillo"]})]}),n.length===0?l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[l.jsx(ar,{className:"text-6xl text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No hay platillos"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza agregando platillos a tu men"}),l.jsx("button",{onClick:ee,className:"bg-orange-500 text-white px-6 py-3 rounded-xl font-semibold hover:bg-orange-600 transition",children:"Agregar Primer Platillo"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(J=>l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition",children:[l.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-orange-100 to-red-100",children:[J.imagen_url?l.jsx("img",{src:J.imagen_url,alt:J.nombre,className:"w-full h-full object-cover"}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx(ar,{className:"text-6xl text-orange-300"})}),l.jsx("div",{className:"absolute top-3 right-3",children:l.jsxs("button",{onClick:()=>ne(J),className:`px-3 py-1 rounded-full text-sm font-semibold ${J.disponible?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:[J.disponible?l.jsx(EP,{className:"inline mr-1"}):l.jsx(SP,{className:"inline mr-1"}),J.disponible?"Disponible":"No disponible"]})}),l.jsxs("div",{className:"absolute bottom-3 left-3 flex space-x-2",children:[J.es_vegetariano&&l.jsx("span",{className:"bg-green-500 text-white px-2 py-1 rounded text-xs font-semibold",children:" Vegetariano"}),J.es_picante&&l.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded text-xs font-semibold",children:" Picante"})]})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:J.nombre}),l.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:J.descripcion||"Sin descripcin"}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("span",{className:"text-2xl font-bold text-orange-600",children:["$",J.precio.toFixed(2)]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[" ",J.tiempo_preparacion," min"]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>ae(J),className:"flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition font-semibold flex items-center justify-center",children:[l.jsx(wP,{className:"mr-2"}),"Editar"]}),l.jsx("button",{onClick:()=>Y(J.id),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition",children:l.jsx(LP,{})})]})]})]},J.id))}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:f?"Editar Platillo":"Nuevo Platillo"}),l.jsx("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),l.jsxs("form",{onSubmit:z,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nombre *"}),l.jsx("input",{type:"text",value:v,onChange:J=>x(J.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"Ej: Tacos al Pastor"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descripcin"}),l.jsx("textarea",{value:b,onChange:J=>w(J.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"Describe el platillo..."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Precio ($) *"}),l.jsx("input",{type:"number",value:j,onChange:J=>_(J.target.value),required:!0,min:"0",step:"0.01",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"0.00"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tiempo Preparacin (min)"}),l.jsx("input",{type:"number",value:N,onChange:J=>T(J.target.value),min:"5",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"URL de la Imagen"}),l.jsx("input",{type:"url",value:E,onChange:J=>C(J.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"https://ejemplo.com/imagen.jpg"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl",children:[l.jsx("label",{className:"font-semibold text-gray-700",children:"Disponible"}),l.jsx("button",{type:"button",onClick:()=>A(!k),className:`relative inline-flex items-center h-6 rounded-full w-11 transition ${k?"bg-green-500":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition ${k?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl",children:[l.jsx("label",{className:"font-semibold text-gray-700",children:" Vegetariano"}),l.jsx("button",{type:"button",onClick:()=>R(!O),className:`relative inline-flex items-center h-6 rounded-full w-11 transition ${O?"bg-green-500":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition ${O?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl",children:[l.jsx("label",{className:"font-semibold text-gray-700",children:" Picante"}),l.jsx("button",{type:"button",onClick:()=>P(!I),className:`relative inline-flex items-center h-6 rounded-full w-11 transition ${I?"bg-red-500":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition ${I?"translate-x-6":"translate-x-1"}`})})]})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"submit",disabled:G,className:"flex-1 bg-orange-500 text-white font-bold py-3 rounded-xl hover:bg-orange-600 transition disabled:opacity-50",children:G?"Guardando...":f?"Actualizar":"Crear"}),l.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-6 py-3 bg-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-300 transition",children:"Cancelar"})]})]})]})})]})]})}function KP(){const{usuario:t}=ot(),e=Ze(),[n,i]=g.useState([]),[o,c]=g.useState(!0),[u,h]=g.useState("todos"),[f,p]=g.useState(null),[v,x]=g.useState([]),[b,w]=g.useState(!1),[j,_]=g.useState(!1);g.useEffect(()=>{if(!t||t.tipo_usuario!=="restaurante"){e("/");return}E();const O=VP(t.id,R=>{i(R)});return()=>{O()}},[t,e]);const E=async()=>{if(!t)return;c(!0);const O=await yE(t.id);i(O),c(!1)},C=async O=>{p(O),w(!0);const R=await IP(O.id);x(R)},N=async(O,R)=>{_(!0),await $P(O,R)&&(await E(),w(!1)),_(!1)},T=n.filter(O=>u==="todos"?!0:u==="activos"?["pendiente","confirmado","en_preparacion","listo"].includes(O.estado):O.estado===u),k=O=>{switch(O){case"pendiente":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"confirmado":return"bg-blue-100 text-blue-700 border-blue-300";case"en_preparacion":return"bg-orange-100 text-orange-700 border-orange-300";case"listo":return"bg-purple-100 text-purple-700 border-purple-300";case"en_camino":return"bg-indigo-100 text-indigo-700 border-indigo-300";case"entregado":return"bg-green-100 text-green-700 border-green-300";case"cancelado":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},A=O=>{switch(O){case"pendiente":return" Pendiente";case"confirmado":return" Confirmado";case"en_preparacion":return" En Preparacin";case"listo":return" Listo";case"en_camino":return" En Camino";case"entregado":return" Entregado";case"cancelado":return" Cancelado";default:return O}};return o?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100",children:[l.jsx($e,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando pedidos..."})]})})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100 pb-20",children:[l.jsx($e,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>e("/restaurante/dashboard"),className:"mr-4 bg-white p-3 rounded-full shadow-lg hover:shadow-xl transition",children:l.jsx(lg,{className:"text-orange-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Pedidos del Restaurante"}),l.jsxs("p",{className:"text-gray-600",children:[T.length," pedidos"]})]})]})}),l.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4 mb-6",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{onClick:()=>h("todos"),className:`px-4 py-2 rounded-xl font-semibold transition ${u==="todos"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Todos (",n.length,")"]}),l.jsxs("button",{onClick:()=>h("activos"),className:`px-4 py-2 rounded-xl font-semibold transition ${u==="activos"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Activos (",n.filter(O=>["pendiente","confirmado","en_preparacion","listo"].includes(O.estado)).length,")"]}),l.jsxs("button",{onClick:()=>h("pendiente"),className:`px-4 py-2 rounded-xl font-semibold transition ${u==="pendiente"?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Pendientes (",n.filter(O=>O.estado==="pendiente").length,")"]}),l.jsxs("button",{onClick:()=>h("en_preparacion"),className:`px-4 py-2 rounded-xl font-semibold transition ${u==="en_preparacion"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["En Preparacin (",n.filter(O=>O.estado==="en_preparacion").length,")"]}),l.jsxs("button",{onClick:()=>h("listo"),className:`px-4 py-2 rounded-xl font-semibold transition ${u==="listo"?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Listos (",n.filter(O=>O.estado==="listo").length,")"]})]})}),T.length===0?l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[l.jsx(ar,{className:"text-6xl text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No hay pedidos"}),l.jsx("p",{className:"text-gray-600",children:"No se encontraron pedidos con este filtro"})]}):l.jsx("div",{className:"space-y-4",children:T.map(O=>l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition cursor-pointer",onClick:()=>C(O),children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:O.numero_pedido}),l.jsxs("p",{className:"text-sm text-gray-600 flex items-center mt-1",children:[l.jsx(lr,{className:"mr-2"}),new Date(O.creado_en).toLocaleString()]})]}),l.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold border-2 ${k(O.estado)}`,children:A(O.estado)})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center text-gray-700",children:[l.jsx(OP,{className:"mr-3 text-orange-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Cliente"}),l.jsx("p",{className:"font-semibold",children:O.cliente_nombre||"N/A"})]})]}),l.jsxs("div",{className:"flex items-center text-gray-700",children:[l.jsx(_P,{className:"mr-3 text-blue-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Telfono"}),l.jsx("p",{className:"font-semibold",children:O.cliente_telefono||"N/A"})]})]})]}),l.jsxs("div",{className:"flex items-start text-gray-700 mb-4",children:[l.jsx(cm,{className:"mr-3 text-red-500 mt-1"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Direccin de entrega"}),l.jsx("p",{className:"font-semibold",children:O.direccion_entrega})]})]}),O.notas_cliente&&l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3 mb-4",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-semibold",children:"Notas del cliente:"})," ",O.notas_cliente]})}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[l.jsxs("span",{className:"text-3xl font-bold text-orange-600",children:["$",O.total.toFixed(2)]}),O.estado==="pendiente"&&l.jsxs("button",{onClick:R=>{R.stopPropagation(),N(O.id,"confirmado")},className:"bg-blue-500 text-white px-6 py-2 rounded-xl font-semibold hover:bg-blue-600 transition",children:[l.jsx(lm,{className:"inline mr-2"}),"Confirmar"]}),O.estado==="confirmado"&&l.jsxs("button",{onClick:R=>{R.stopPropagation(),N(O.id,"en_preparacion")},className:"bg-orange-500 text-white px-6 py-2 rounded-xl font-semibold hover:bg-orange-600 transition",children:[l.jsx(ar,{className:"inline mr-2"}),"Iniciar Preparacin"]}),O.estado==="en_preparacion"&&l.jsxs("button",{onClick:R=>{R.stopPropagation(),N(O.id,"listo")},className:"bg-purple-500 text-white px-6 py-2 rounded-xl font-semibold hover:bg-purple-600 transition",children:[l.jsx(lm,{className:"inline mr-2"}),"Marcar como Listo"]})]})]},O.id))}),b&&f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Detalle del Pedido"}),l.jsx("button",{onClick:()=>w(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[l.jsx("h3",{className:"font-bold text-lg mb-2",children:f.numero_pedido}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Cliente:"})," ",f.cliente_nombre]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Telfono:"})," ",f.cliente_telefono]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Direccin:"})," ",f.direccion_entrega]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Estado:"})," ",l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${k(f.estado)}`,children:A(f.estado)})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg mb-3",children:"Productos"}),l.jsx("div",{className:"space-y-2",children:v.map(O=>l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:O.platillo_nombre||O.bebida_nombre}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Cantidad: ",O.cantidad,"  $",O.precio_unitario.toFixed(2)]}),O.notas&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Nota: ",O.notas]})]}),l.jsxs("span",{className:"font-bold text-orange-600",children:["$",O.subtotal.toFixed(2)]})]},O.id))})]}),l.jsx("div",{className:"bg-orange-50 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Total"}),l.jsxs("span",{className:"text-3xl font-bold text-orange-600",children:["$",f.total.toFixed(2)]})]})}),l.jsxs("div",{className:"space-y-2 pt-4",children:[f.estado==="pendiente"&&l.jsx("button",{onClick:()=>N(f.id,"confirmado"),disabled:j,className:"w-full bg-blue-500 text-white font-bold py-3 rounded-xl hover:bg-blue-600 transition disabled:opacity-50",children:j?"Procesando...":"Confirmar Pedido"}),f.estado==="confirmado"&&l.jsx("button",{onClick:()=>N(f.id,"en_preparacion"),disabled:j,className:"w-full bg-orange-500 text-white font-bold py-3 rounded-xl hover:bg-orange-600 transition disabled:opacity-50",children:j?"Procesando...":"Iniciar Preparacin"}),f.estado==="en_preparacion"&&l.jsx("button",{onClick:()=>N(f.id,"listo"),disabled:j,className:"w-full bg-purple-500 text-white font-bold py-3 rounded-xl hover:bg-purple-600 transition disabled:opacity-50",children:j?"Procesando...":"Marcar como Listo"}),l.jsx("button",{onClick:()=>w(!1),className:"w-full bg-gray-200 text-gray-700 font-semibold py-3 rounded-xl hover:bg-gray-300 transition",children:"Cerrar"})]})]})]})})]})]})}function YP(){const t=Ze(),[e,n]=g.useState(!1),{logout:i,usuario:o}=ot(),c=u=>{n(!1),t(u)};return l.jsxs(l.Fragment,{children:[l.jsx(Je.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n(!e),style:ZP,children:l.jsxs(Je.div,{animate:e?"open":"closed",variants:JP,style:XP,children:[l.jsx(Je.span,{variants:QP,style:pp}),l.jsx(Je.span,{variants:ez,style:pp}),l.jsx(Je.span,{variants:tz,style:pp})]})}),l.jsx(Qn,{show:e,as:g.Fragment,children:l.jsxs(fi,{as:"div",onClose:()=>n(!1),style:nz,children:[l.jsx(Qn.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:l.jsx("div",{style:sz})}),l.jsx("div",{style:iz,children:l.jsx(Qn.Child,{as:g.Fragment,enter:"transform transition ease-out duration-400",enterFrom:"translate-y-full opacity-0",enterTo:"translate-y-0 opacity-100",leave:"transform transition ease-in duration-300",leaveFrom:"translate-y-0 opacity-100",leaveTo:"translate-y-full opacity-0",children:l.jsxs(fi.Panel,{style:rz,children:[l.jsx("div",{style:az}),l.jsxs("div",{style:oz,children:[l.jsx("div",{style:lz,children:o?.email?.[0].toUpperCase()}),l.jsxs("div",{style:cz,children:[l.jsx("p",{style:uz,children:"Hola!"}),l.jsx("h3",{style:dz,children:o?.email?.split("@")[0]})]}),l.jsx("button",{onClick:()=>{i(),n(!1)},style:hz,children:l.jsx("span",{style:fz,children:""})})]}),l.jsxs("div",{style:pz,children:[l.jsxs(Je.button,{whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},onClick:()=>c("/home"),style:mz,children:[l.jsx("div",{style:gz,children:""}),l.jsxs("div",{style:vz,children:[l.jsx("span",{style:yz,children:"Inicio"}),l.jsx("span",{style:xz,children:"Descubre restaurantes"})]}),l.jsx("span",{style:bz,children:""})]}),l.jsxs(Je.button,{whileHover:{scale:1.05,y:-4},whileTap:{scale:.95},onClick:()=>c("/restaurantes"),style:Ww,children:[l.jsx("div",{style:Kw,children:""}),l.jsx("span",{style:Yw,children:"Restaurantes"})]}),l.jsxs(Je.button,{whileHover:{scale:1.05,y:-4},whileTap:{scale:.95},onClick:()=>c("/pedidos"),style:Ww,children:[l.jsx("div",{style:Kw,children:""}),l.jsx("span",{style:Yw,children:"Mis Pedidos"})]}),l.jsxs(Je.button,{whileHover:{scale:1.05,y:-4},whileTap:{scale:.95},onClick:()=>c("/carrito"),style:Zw,children:[l.jsx("div",{style:Xw,children:""}),l.jsx("span",{style:Jw,children:"Carrito"})]}),l.jsxs(Je.button,{whileHover:{scale:1.05,y:-4},whileTap:{scale:.95},onClick:()=>c("/mi-cuenta"),style:Zw,children:[l.jsx("div",{style:Xw,children:""}),l.jsx("span",{style:Jw,children:"Perfil"})]})]}),l.jsxs("div",{style:wz,children:[l.jsx("p",{style:jz,children:"Food Delibery Roatan"}),l.jsx("p",{style:Sz,children:"Tu comida, ms cerca"})]})]})})})]})})]})}const ZP={position:"fixed",bottom:"24px",right:"24px",width:"64px",height:"64px",borderRadius:"50%",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",border:"none",boxShadow:"0 8px 32px rgba(79, 70, 229, 0.4), 0 0 0 0 rgba(79, 70, 229, 0.3)",cursor:"pointer",zIndex:10003,display:"flex",alignItems:"center",justifyContent:"center",transition:"box-shadow 0.3s ease"},XP={width:"24px",height:"18px",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative"},pp={width:"100%",height:"2.5px",background:"#ffffff",borderRadius:"2px",transformOrigin:"center"},JP={open:{},closed:{}},QP={open:{rotate:45,y:8},closed:{rotate:0,y:0}},ez={open:{opacity:0},closed:{opacity:1}},tz={open:{rotate:-45,y:-8},closed:{rotate:0,y:0}},nz={zIndex:1e4,position:"fixed",inset:0},sz={position:"fixed",inset:0,background:"rgba(15, 23, 42, 0.7)",backdropFilter:"blur(12px)"},iz={position:"fixed",bottom:0,left:0,right:0,display:"flex",justifyContent:"center",pointerEvents:"none"},rz={background:"linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)",width:"100%",maxWidth:"540px",maxHeight:"85vh",borderRadius:"32px 32px 0 0",padding:"24px 20px 32px",boxShadow:"0 -10px 60px rgba(15, 23, 42, 0.2)",border:"1px solid rgba(255, 255, 255, 0.8)",borderBottom:"none",pointerEvents:"auto",overflowY:"auto"},az={width:"48px",height:"5px",background:"linear-gradient(90deg, #e0e7ff 0%, #c7d2fe 100%)",borderRadius:"10px",margin:"0 auto 24px"},oz={display:"flex",alignItems:"center",gap:"16px",padding:"20px",background:"linear-gradient(135deg, #eef2ff 0%, #e0e7ff 100%)",borderRadius:"20px",marginBottom:"24px",border:"2px solid #c7d2fe",boxShadow:"0 4px 16px rgba(79, 70, 229, 0.1)"},lz={width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:900,boxShadow:"0 8px 20px rgba(79, 70, 229, 0.4)"},cz={flex:1},uz={margin:0,fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"4px"},dz={margin:0,fontSize:"20px",color:"#1e293b",fontWeight:800},hz={width:"48px",height:"48px",borderRadius:"12px",background:"#ffffff",border:"2px solid #fee2e2",color:"#ef4444",fontSize:"20px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.1)"},fz={fontSize:"20px"},pz={display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"24px"},cg={border:"none",borderRadius:"20px",cursor:"pointer",display:"flex",alignItems:"center",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 16px rgba(15, 23, 42, 0.08)",position:"relative",overflow:"hidden"},mz={...cg,gridColumn:"span 2",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",padding:"24px",justifyContent:"space-between",gap:"16px"},gz={width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"28px",flexShrink:0},vz={flex:1,textAlign:"left",display:"flex",flexDirection:"column",gap:"4px"},yz={fontSize:"20px",fontWeight:800,color:"#ffffff",display:"block"},xz={fontSize:"13px",color:"rgba(255, 255, 255, 0.8)",fontWeight:600},bz={fontSize:"24px",color:"rgba(255, 255, 255, 0.6)",fontWeight:700},Ww={...cg,background:"#ffffff",padding:"20px",flexDirection:"column",gap:"12px",alignItems:"flex-start"},Kw={width:"48px",height:"48px",borderRadius:"14px",background:"linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},Yw={fontSize:"16px",fontWeight:800,color:"#1e293b"},Zw={...cg,background:"#ffffff",padding:"16px",flexDirection:"column",gap:"10px",alignItems:"center",justifyContent:"center"},Xw={width:"44px",height:"44px",borderRadius:"12px",background:"linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"22px"},Jw={fontSize:"14px",fontWeight:700,color:"#1e293b"},wz={textAlign:"center",paddingTop:"16px",borderTop:"2px solid #f1f5f9"},jz={margin:0,fontSize:"14px",fontWeight:800,color:"#1e293b",marginBottom:"4px"},Sz={margin:0,fontSize:"12px",color:"#64748b",fontWeight:600};function Dn({children:t}){const{usuario:e}=ot();return e?l.jsx(l.Fragment,{children:t}):l.jsx(cn,{to:"/",replace:!0})}function Ez({children:t}){const{usuario:e}=ot();if(!e)return l.jsx(l.Fragment,{children:t});switch(e.tipo_usuario){case"repartidor":return l.jsx(cn,{to:"/repartidor/dashboard",replace:!0});case"restaurante":return l.jsx(cn,{to:"/restaurante/dashboard",replace:!0});case"operador":return l.jsx(cn,{to:"/operador/dashboard",replace:!0});case"admin":return l.jsx(cn,{to:"/admin/dashboard",replace:!0});default:return l.jsx(cn,{to:"/home",replace:!0})}}function _z(){return l.jsxs(z4,{children:[l.jsx(st,{path:"/",element:l.jsx(Ez,{children:l.jsx(aO,{})})}),l.jsx(st,{path:"/home",element:l.jsx(Dn,{children:l.jsx(cO,{})})}),l.jsx(st,{path:"/platillos/:categoriaId",element:l.jsx(Dn,{children:l.jsx(uO,{})})}),l.jsx(st,{path:"/categoria/:id",element:l.jsx(Dn,{children:l.jsx(EO,{})})}),l.jsx(st,{path:"/categorias",element:l.jsx(Dn,{children:l.jsx(_O,{})})}),l.jsx(st,{path:"/restaurantes",element:l.jsx(Dn,{children:l.jsx(CO,{})})}),l.jsx(st,{path:"/restaurante/:id",element:l.jsx(Dn,{children:l.jsx(DO,{})})}),l.jsx(st,{path:"/platillo/:id",element:l.jsx(Dn,{children:l.jsx(n5,{})})}),l.jsx(st,{path:"/mi-cuenta",element:l.jsx(Dn,{children:l.jsx(r5,{})})}),l.jsx(st,{path:"/carrito",element:l.jsx(Dn,{children:l.jsx(e8,{})})}),l.jsx(st,{path:"/pedidos",element:l.jsx(Dn,{children:l.jsx(t8,{})})}),l.jsx(st,{path:"/pedido/:pedidoId",element:l.jsx(Dn,{children:l.jsx(ZD,{})})}),l.jsx(st,{path:"/repartidor/dashboard",element:l.jsx(kn,{allowedRoles:["repartidor"],children:l.jsx(RP,{})})}),l.jsx(st,{path:"/repartidor/disponibles",element:l.jsx(kn,{allowedRoles:["repartidor"],children:l.jsx(iP,{})})}),l.jsx(st,{path:"/repartidor/mis-pedidos",element:l.jsx(kn,{allowedRoles:["repartidor"],children:l.jsx(rP,{})})}),l.jsx(st,{path:"/repartidor/entrega/:pedidoId",element:l.jsx(kn,{allowedRoles:["repartidor"],children:l.jsx(aP,{})})}),l.jsx(st,{path:"/repartidor/perfil",element:l.jsx(kn,{allowedRoles:["repartidor"],children:l.jsx(oP,{})})}),l.jsx(st,{path:"/restaurante/dashboard",element:l.jsx(kn,{allowedRoles:["restaurante"],children:l.jsx(HP,{})})}),l.jsx(st,{path:"/restaurante/gestion",element:l.jsx(kn,{allowedRoles:["restaurante"],children:l.jsx(GP,{})})}),l.jsx(st,{path:"/restaurante/platillos",element:l.jsx(kn,{allowedRoles:["restaurante"],children:l.jsx(WP,{})})}),l.jsx(st,{path:"/restaurante/pedidos",element:l.jsx(kn,{allowedRoles:["restaurante"],children:l.jsx(KP,{})})}),l.jsx(st,{path:"/operador/dashboard",element:l.jsx(kn,{allowedRoles:["operador"],children:l.jsx(qP,{})})}),l.jsx(st,{path:"/admin/dashboard",element:l.jsx(kn,{allowedRoles:["admin"],children:l.jsx(FP,{})})}),l.jsx(st,{path:"*",element:l.jsx(cn,{to:"/",replace:!0})})]})}function Cz(){const{usuario:t}=ot();return l.jsxs(l.Fragment,{children:[l.jsx(_z,{}),t&&l.jsx(YP,{})]})}function Tz(){return l.jsx(oT,{children:l.jsx(yT,{children:l.jsx(xT,{children:l.jsx(Cz,{})})})})}IC.createRoot(document.getElementById("root")).render(l.jsx(g.StrictMode,{children:l.jsx(Tz,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{t.addEventListener("updatefound",()=>{const n=t.installing;n&&n.addEventListener("statechange",()=>{n.state==="installed"&&navigator.serviceWorker.controller&&confirm("Hay una nueva versin disponible. Deseas actualizar ahora?")&&n.postMessage({type:"SKIP_WAITING"})})});let e=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{e||(window.location.reload(),e=!0)})}).catch(t=>{console.warn("SW registration failed:",t)})});
