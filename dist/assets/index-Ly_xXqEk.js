function lj(e,t){for(var i=0;i<t.length;i++){const s=t[i];if(typeof s!="string"&&!Array.isArray(s)){for(const c in s)if(c!=="default"&&!(c in e)){const h=Object.getOwnPropertyDescriptor(s,c);h&&Object.defineProperty(e,c,h.get?h:{enumerable:!0,get:()=>s[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(c){if(c.ep)return;c.ep=!0;const h=i(c);fetch(c.href,h)}})();function z_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nm={exports:{}},uc={};var ox;function cj(){if(ox)return uc;ox=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,c,h){var f=null;if(h!==void 0&&(f=""+h),c.key!==void 0&&(f=""+c.key),"key"in c){h={};for(var p in c)p!=="key"&&(h[p]=c[p])}else h=c;return c=h.ref,{$$typeof:e,type:s,key:f,ref:c!==void 0?c:null,props:h}}return uc.Fragment=t,uc.jsx=i,uc.jsxs=i,uc}var lx;function uj(){return lx||(lx=1,Nm.exports=cj()),Nm.exports}var l=uj(),Cm={exports:{}},Pe={};var cx;function dj(){if(cx)return Pe;cx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),E=Symbol.iterator;function N(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,P={};function M(U,Q,ie){this.props=U,this.context=Q,this.refs=P,this.updater=ie||A}M.prototype.isReactComponent={},M.prototype.setState=function(U,Q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Q,"setState")},M.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function D(){}D.prototype=M.prototype;function R(U,Q,ie){this.props=U,this.context=Q,this.refs=P,this.updater=ie||A}var Z=R.prototype=new D;Z.constructor=R,k(Z,M.prototype),Z.isPureReactComponent=!0;var F=Array.isArray;function V(){}var B={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function me(U,Q,ie){var ue=ie.ref;return{$$typeof:e,type:U,key:Q,ref:ue!==void 0?ue:null,props:ie}}function ve(U,Q){return me(U.type,Q,U.props)}function Te(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function Ne(U){var Q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ie){return Q[ie]})}var it=/\/+/g;function Fe(U,Q){return typeof U=="object"&&U!==null&&U.key!=null?Ne(""+U.key):Q.toString(36)}function ht(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(V,V):(U.status="pending",U.then(function(Q){U.status==="pending"&&(U.status="fulfilled",U.value=Q)},function(Q){U.status==="pending"&&(U.status="rejected",U.reason=Q)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function $(U,Q,ie,ue,fe){var pe=typeof U;(pe==="undefined"||pe==="boolean")&&(U=null);var ke=!1;if(U===null)ke=!0;else switch(pe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(U.$$typeof){case e:case t:ke=!0;break;case _:return ke=U._init,$(ke(U._payload),Q,ie,ue,fe)}}if(ke)return fe=fe(U),ke=ue===""?"."+Fe(U,0):ue,F(fe)?(ie="",ke!=null&&(ie=ke.replace(it,"$&/")+"/"),$(fe,Q,ie,"",function(Yi){return Yi})):fe!=null&&(Te(fe)&&(fe=ve(fe,ie+(fe.key==null||U&&U.key===fe.key?"":(""+fe.key).replace(it,"$&/")+"/")+ke)),Q.push(fe)),1;ke=0;var et=ue===""?".":ue+":";if(F(U))for(var Je=0;Je<U.length;Je++)ue=U[Je],pe=et+Fe(ue,Je),ke+=$(ue,Q,ie,pe,fe);else if(Je=N(U),typeof Je=="function")for(U=Je.call(U),Je=0;!(ue=U.next()).done;)ue=ue.value,pe=et+Fe(ue,Je++),ke+=$(ue,Q,ie,pe,fe);else if(pe==="object"){if(typeof U.then=="function")return $(ht(U),Q,ie,ue,fe);throw Q=String(U),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ke}function oe(U,Q,ie){if(U==null)return U;var ue=[],fe=0;return $(U,ue,"","",function(pe){return Q.call(ie,pe,fe++)}),ue}function ne(U){if(U._status===-1){var Q=U._result;Q=Q(),Q.then(function(ie){(U._status===0||U._status===-1)&&(U._status=1,U._result=ie)},function(ie){(U._status===0||U._status===-1)&&(U._status=2,U._result=ie)}),U._status===-1&&(U._status=0,U._result=Q)}if(U._status===1)return U._result.default;throw U._result}var le=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},ce={map:oe,forEach:function(U,Q,ie){oe(U,function(){Q.apply(this,arguments)},ie)},count:function(U){var Q=0;return oe(U,function(){Q++}),Q},toArray:function(U){return oe(U,function(Q){return Q})||[]},only:function(U){if(!Te(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Pe.Activity=w,Pe.Children=ce,Pe.Component=M,Pe.Fragment=i,Pe.Profiler=c,Pe.PureComponent=R,Pe.StrictMode=s,Pe.Suspense=g,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return B.H.useMemoCache(U)}},Pe.cache=function(U){return function(){return U.apply(null,arguments)}},Pe.cacheSignal=function(){return null},Pe.cloneElement=function(U,Q,ie){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ue=k({},U.props),fe=U.key;if(Q!=null)for(pe in Q.key!==void 0&&(fe=""+Q.key),Q)!te.call(Q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&Q.ref===void 0||(ue[pe]=Q[pe]);var pe=arguments.length-2;if(pe===1)ue.children=ie;else if(1<pe){for(var ke=Array(pe),et=0;et<pe;et++)ke[et]=arguments[et+2];ue.children=ke}return me(U.type,fe,ue)},Pe.createContext=function(U){return U={$$typeof:f,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:h,_context:U},U},Pe.createElement=function(U,Q,ie){var ue,fe={},pe=null;if(Q!=null)for(ue in Q.key!==void 0&&(pe=""+Q.key),Q)te.call(Q,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(fe[ue]=Q[ue]);var ke=arguments.length-2;if(ke===1)fe.children=ie;else if(1<ke){for(var et=Array(ke),Je=0;Je<ke;Je++)et[Je]=arguments[Je+2];fe.children=et}if(U&&U.defaultProps)for(ue in ke=U.defaultProps,ke)fe[ue]===void 0&&(fe[ue]=ke[ue]);return me(U,pe,fe)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(U){return{$$typeof:p,render:U}},Pe.isValidElement=Te,Pe.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:ne}},Pe.memo=function(U,Q){return{$$typeof:x,type:U,compare:Q===void 0?null:Q}},Pe.startTransition=function(U){var Q=B.T,ie={};B.T=ie;try{var ue=U(),fe=B.S;fe!==null&&fe(ie,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(V,le)}catch(pe){le(pe)}finally{Q!==null&&ie.types!==null&&(Q.types=ie.types),B.T=Q}},Pe.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Pe.use=function(U){return B.H.use(U)},Pe.useActionState=function(U,Q,ie){return B.H.useActionState(U,Q,ie)},Pe.useCallback=function(U,Q){return B.H.useCallback(U,Q)},Pe.useContext=function(U){return B.H.useContext(U)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(U,Q){return B.H.useDeferredValue(U,Q)},Pe.useEffect=function(U,Q){return B.H.useEffect(U,Q)},Pe.useEffectEvent=function(U){return B.H.useEffectEvent(U)},Pe.useId=function(){return B.H.useId()},Pe.useImperativeHandle=function(U,Q,ie){return B.H.useImperativeHandle(U,Q,ie)},Pe.useInsertionEffect=function(U,Q){return B.H.useInsertionEffect(U,Q)},Pe.useLayoutEffect=function(U,Q){return B.H.useLayoutEffect(U,Q)},Pe.useMemo=function(U,Q){return B.H.useMemo(U,Q)},Pe.useOptimistic=function(U,Q){return B.H.useOptimistic(U,Q)},Pe.useReducer=function(U,Q,ie){return B.H.useReducer(U,Q,ie)},Pe.useRef=function(U){return B.H.useRef(U)},Pe.useState=function(U){return B.H.useState(U)},Pe.useSyncExternalStore=function(U,Q,ie){return B.H.useSyncExternalStore(U,Q,ie)},Pe.useTransition=function(){return B.H.useTransition()},Pe.version="19.2.3",Pe}var ux;function lh(){return ux||(ux=1,Cm.exports=dj()),Cm.exports}var T=lh();const je=z_(T),dx=lj({__proto__:null,default:je},[T]);var Am={exports:{}},dc={},Rm={exports:{}},Om={};var hx;function hj(){return hx||(hx=1,(function(e){function t($,oe){var ne=$.length;$.push(oe);e:for(;0<ne;){var le=ne-1>>>1,ce=$[le];if(0<c(ce,oe))$[le]=oe,$[ne]=ce,ne=le;else break e}}function i($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var oe=$[0],ne=$.pop();if(ne!==oe){$[0]=ne;e:for(var le=0,ce=$.length,U=ce>>>1;le<U;){var Q=2*(le+1)-1,ie=$[Q],ue=Q+1,fe=$[ue];if(0>c(ie,ne))ue<ce&&0>c(fe,ie)?($[le]=fe,$[ue]=ne,le=ue):($[le]=ie,$[Q]=ne,le=Q);else if(ue<ce&&0>c(fe,ne))$[le]=fe,$[ue]=ne,le=ue;else break e}}return oe}function c($,oe){var ne=$.sortIndex-oe.sortIndex;return ne!==0?ne:$.id-oe.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();e.unstable_now=function(){return f.now()-p}}var g=[],x=[],_=1,w=null,E=3,N=!1,A=!1,k=!1,P=!1,M=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function Z($){for(var oe=i(x);oe!==null;){if(oe.callback===null)s(x);else if(oe.startTime<=$)s(x),oe.sortIndex=oe.expirationTime,t(g,oe);else break;oe=i(x)}}function F($){if(k=!1,Z($),!A)if(i(g)!==null)A=!0,V||(V=!0,Ne());else{var oe=i(x);oe!==null&&ht(F,oe.startTime-$)}}var V=!1,B=-1,te=5,me=-1;function ve(){return P?!0:!(e.unstable_now()-me<te)}function Te(){if(P=!1,V){var $=e.unstable_now();me=$;var oe=!0;try{e:{A=!1,k&&(k=!1,D(B),B=-1),N=!0;var ne=E;try{t:{for(Z($),w=i(g);w!==null&&!(w.expirationTime>$&&ve());){var le=w.callback;if(typeof le=="function"){w.callback=null,E=w.priorityLevel;var ce=le(w.expirationTime<=$);if($=e.unstable_now(),typeof ce=="function"){w.callback=ce,Z($),oe=!0;break t}w===i(g)&&s(g),Z($)}else s(g);w=i(g)}if(w!==null)oe=!0;else{var U=i(x);U!==null&&ht(F,U.startTime-$),oe=!1}}break e}finally{w=null,E=ne,N=!1}oe=void 0}}finally{oe?Ne():V=!1}}}var Ne;if(typeof R=="function")Ne=function(){R(Te)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,Fe=it.port2;it.port1.onmessage=Te,Ne=function(){Fe.postMessage(null)}}else Ne=function(){M(Te,0)};function ht($,oe){B=M(function(){$(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function($){switch(E){case 1:case 2:case 3:var oe=3;break;default:oe=E}var ne=E;E=oe;try{return $()}finally{E=ne}},e.unstable_requestPaint=function(){P=!0},e.unstable_runWithPriority=function($,oe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ne=E;E=$;try{return oe()}finally{E=ne}},e.unstable_scheduleCallback=function($,oe,ne){var le=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?le+ne:le):ne=le,$){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ne+ce,$={id:_++,callback:oe,priorityLevel:$,startTime:ne,expirationTime:ce,sortIndex:-1},ne>le?($.sortIndex=ne,t(x,$),i(g)===null&&$===i(x)&&(k?(D(B),B=-1):k=!0,ht(F,ne-le))):($.sortIndex=ce,t(g,$),A||N||(A=!0,V||(V=!0,Ne()))),$},e.unstable_shouldYield=ve,e.unstable_wrapCallback=function($){var oe=E;return function(){var ne=E;E=oe;try{return $.apply(this,arguments)}finally{E=ne}}}})(Om)),Om}var fx;function fj(){return fx||(fx=1,Rm.exports=hj()),Rm.exports}var km={exports:{}},cn={};var mx;function mj(){if(mx)return cn;mx=1;var e=lh();function t(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)x+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(g,x,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:g,containerInfo:x,implementation:_}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(g,x){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(t(299));return h(g,x,null,_)},cn.flushSync=function(g){var x=f.T,_=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=x,s.p=_,s.d.f()}},cn.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,s.d.C(g,x))},cn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},cn.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var _=x.as,w=p(_,x.crossOrigin),E=typeof x.integrity=="string"?x.integrity:void 0,N=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;_==="style"?s.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:N}):_==="script"&&s.d.X(g,{crossOrigin:w,integrity:E,fetchPriority:N,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},cn.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var _=p(x.as,x.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&s.d.M(g)},cn.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var _=x.as,w=p(_,x.crossOrigin);s.d.L(g,_,{crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},cn.preloadModule=function(g,x){if(typeof g=="string")if(x){var _=p(x.as,x.crossOrigin);s.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:_,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else s.d.m(g)},cn.requestFormReset=function(g){s.d.r(g)},cn.unstable_batchedUpdates=function(g,x){return g(x)},cn.useFormState=function(g,x,_){return f.H.useFormState(g,x,_)},cn.useFormStatus=function(){return f.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var px;function B_(){if(px)return km.exports;px=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),km.exports=mj(),km.exports}var gx;function pj(){if(gx)return dc;gx=1;var e=fj(),t=lh(),i=B_();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function h(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function g(n){if(h(n)!==n)throw Error(s(188))}function x(n){var r=n.alternate;if(!r){if(r=h(n),r===null)throw Error(s(188));return r!==n?null:n}for(var o=n,d=r;;){var y=o.return;if(y===null)break;var v=y.alternate;if(v===null){if(d=y.return,d!==null){o=d;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===o)return g(y),n;if(v===d)return g(y),r;v=v.sibling}throw Error(s(188))}if(o.return!==d.return)o=y,d=v;else{for(var j=!1,O=y.child;O;){if(O===o){j=!0,o=y,d=v;break}if(O===d){j=!0,d=y,o=v;break}O=O.sibling}if(!j){for(O=v.child;O;){if(O===o){j=!0,o=v,d=y;break}if(O===d){j=!0,d=v,o=y;break}O=O.sibling}if(!j)throw Error(s(189))}}if(o.alternate!==d)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:r}function _(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=_(n),r!==null)return r;n=n.sibling}return null}var w=Object.assign,E=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),R=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function Ne(n){return n===null||typeof n!="object"?null:(n=Te&&n[Te]||n["@@iterator"],typeof n=="function"?n:null)}var it=Symbol.for("react.client.reference");function Fe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===it?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case M:return"Profiler";case P:return"StrictMode";case F:return"Suspense";case V:return"SuspenseList";case me:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case R:return n.displayName||"Context";case D:return(n._context.displayName||"Context")+".Consumer";case Z:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case B:return r=n.displayName||null,r!==null?r:Fe(n.type)||"Memo";case te:r=n._payload,n=n._init;try{return Fe(n(r))}catch{}}return null}var ht=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},le=[],ce=-1;function U(n){return{current:n}}function Q(n){0>ce||(n.current=le[ce],le[ce]=null,ce--)}function ie(n,r){ce++,le[ce]=n.current,n.current=r}var ue=U(null),fe=U(null),pe=U(null),ke=U(null);function et(n,r){switch(ie(pe,r),ie(fe,n),ie(ue,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Rv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Rv(r),n=Ov(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Q(ue),ie(ue,n)}function Je(){Q(ue),Q(fe),Q(pe)}function Yi(n){n.memoizedState!==null&&ie(ke,n);var r=ue.current,o=Ov(r,n.type);r!==o&&(ie(fe,n),ie(ue,o))}function Lr(n){fe.current===n&&(Q(ue),Q(fe)),ke.current===n&&(Q(ke),ac._currentValue=ne)}var Xi,Ba;function Ji(n){if(Xi===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Xi=r&&r[1]||"",Ba=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xi+n+Ba}var Ua=!1;function Ia(n,r){if(!n||Ua)return"";Ua=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var X=J}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(J){X=J}n.call(ae.prototype)}}else{try{throw Error()}catch(J){X=J}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),j=v[0],O=v[1];if(j&&O){var I=j.split(`
`),K=O.split(`
`);for(y=d=0;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;for(;y<K.length&&!K[y].includes("DetermineComponentFrameRoot");)y++;if(d===I.length||y===K.length)for(d=I.length-1,y=K.length-1;1<=d&&0<=y&&I[d]!==K[y];)y--;for(;1<=d&&0<=y;d--,y--)if(I[d]!==K[y]){if(d!==1||y!==1)do if(d--,y--,0>y||I[d]!==K[y]){var ee=`
`+I[d].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=d&&0<=y);break}}}finally{Ua=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Ji(o):""}function rl(n,r){switch(n.tag){case 26:case 27:case 5:return Ji(n.type);case 16:return Ji("Lazy");case 13:return n.child!==r&&r!==null?Ji("Suspense Fallback"):Ji("Suspense");case 19:return Ji("SuspenseList");case 0:case 15:return Ia(n.type,!1);case 11:return Ia(n.type.render,!1);case 1:return Ia(n.type,!0);case 31:return Ji("Activity");default:return""}}function As(n){try{var r="",o=null;do r+=rl(n,o),o=n,n=n.return;while(n);return r}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var sl=Object.prototype.hasOwnProperty,Va=e.unstable_scheduleCallback,Rs=e.unstable_cancelCallback,tu=e.unstable_shouldYield,nu=e.unstable_requestPaint,dn=e.unstable_now,Ch=e.unstable_getCurrentPriorityLevel,Ha=e.unstable_ImmediatePriority,al=e.unstable_UserBlockingPriority,Os=e.unstable_NormalPriority,Ah=e.unstable_LowPriority,ol=e.unstable_IdlePriority,iu=e.log,Rh=e.unstable_setDisableYieldValue,Pr=null,Jt=null;function ci(n){if(typeof iu=="function"&&Rh(n),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Pr,n)}catch{}}var hn=Math.clz32?Math.clz32:kh,ks=Math.log,Oh=Math.LN2;function kh(n){return n>>>=0,n===0?32:31-(ks(n)/Oh|0)|0}var Ls=256,Ps=262144,Ms=4194304;function Qi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function $a(n,r,o){var d=n.pendingLanes;if(d===0)return 0;var y=0,v=n.suspendedLanes,j=n.pingedLanes;n=n.warmLanes;var O=d&134217727;return O!==0?(d=O&~v,d!==0?y=Qi(d):(j&=O,j!==0?y=Qi(j):o||(o=O&~n,o!==0&&(y=Qi(o))))):(O=d&~v,O!==0?y=Qi(O):j!==0?y=Qi(j):o||(o=d&~n,o!==0&&(y=Qi(o)))),y===0?0:r!==0&&r!==y&&(r&v)===0&&(v=y&-y,o=r&-r,v>=o||v===32&&(o&4194048)!==0)?r:y}function Ds(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Lh(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var n=Ms;return Ms<<=1,(Ms&62914560)===0&&(Ms=4194304),n}function ll(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function er(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ph(n,r,o,d,y,v){var j=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var O=n.entanglements,I=n.expirationTimes,K=n.hiddenUpdates;for(o=j&~o;0<o;){var ee=31-hn(o),ae=1<<ee;O[ee]=0,I[ee]=-1;var X=K[ee];if(X!==null)for(K[ee]=null,ee=0;ee<X.length;ee++){var J=X[ee];J!==null&&(J.lane&=-536870913)}o&=~ae}d!==0&&su(n,d,0),v!==0&&y===0&&n.tag!==0&&(n.suspendedLanes|=v&~(j&~r))}function su(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var d=31-hn(r);n.entangledLanes|=r,n.entanglements[d]=n.entanglements[d]|1073741824|o&261930}function au(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var d=31-hn(o),y=1<<d;y&r|n[d]&r&&(n[d]|=r),o&=~y}}function ou(n,r){var o=r&-r;return o=(o&42)!==0?1:yn(o),(o&(n.suspendedLanes|r))!==0?0:o}function yn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function be(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function cl(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:ex(n.type))}function ul(n,r){var o=oe.p;try{return oe.p=n,r()}finally{oe.p=o}}var ui=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ui,Wt="__reactProps$"+ui,tr="__reactContainer$"+ui,Ai="__reactEvents$"+ui,lu="__reactListeners$"+ui,Mh="__reactHandles$"+ui,cu="__reactResources$"+ui,zs="__reactMarker$"+ui;function dl(n){delete n[Mt],delete n[Wt],delete n[Ai],delete n[lu],delete n[Mh]}function nr(n){var r=n[Mt];if(r)return r;for(var o=n.parentNode;o;){if(r=o[tr]||o[Mt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=Bv(n);n!==null;){if(o=n[Mt])return o;n=Bv(n)}return r}n=o,o=n.parentNode}return null}function Mr(n){if(n=n[Mt]||n[tr]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Ri(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Dr(n){var r=n[cu];return r||(r=n[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Dt(n){n[zs]=!0}var uu=new Set,du={};function ir(n,r){Oi(n,r),Oi(n+"Capture",r)}function Oi(n,r){for(du[n]=r,n=0;n<r.length;n++)uu.add(r[n])}var Bs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},fl={};function Us(n){return sl.call(fl,n)?!0:sl.call(hl,n)?!1:Bs.test(n)?fl[n]=!0:(hl[n]=!0,!1)}function Be(n,r,o){if(Us(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function rt(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function vn(n,r,o,d){if(d===null)n.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+d)}}function $t(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function rr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ml(n,r,o){var d=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,v=d.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return y.call(this)},set:function(j){o=""+j,v.call(this,j)}}),Object.defineProperty(n,r,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(j){o=""+j},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Le(n){if(!n._valueTracker){var r=rr(n)?"checked":"value";n._valueTracker=ml(n,r,""+n[r])}}function vt(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),d="";return n&&(d=rr(n)?n.checked?"true":"false":n.value),n=d,n!==o?(r.setValue(n),!0):!1}function zr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var qa=/[\n"\\]/g;function pt(n){return n.replace(qa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pl(n,r,o,d,y,v,j,O){n.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?n.type=j:n.removeAttribute("type"),r!=null?j==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+$t(r)):n.value!==""+$t(r)&&(n.value=""+$t(r)):j!=="submit"&&j!=="reset"||n.removeAttribute("value"),r!=null?di(n,j,$t(r)):o!=null?di(n,j,$t(o)):d!=null&&n.removeAttribute("value"),y==null&&v!=null&&(n.defaultChecked=!!v),y!=null&&(n.checked=y&&typeof y!="function"&&typeof y!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?n.name=""+$t(O):n.removeAttribute("name")}function Is(n,r,o,d,y,v,j,O){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),r!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||r!=null)){Le(n);return}o=o!=null?""+$t(o):"",r=r!=null?""+$t(r):o,O||r===n.value||(n.value=r),n.defaultValue=r}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=O?n.checked:!!d,n.defaultChecked=!!d,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(n.name=j),Le(n)}function di(n,r,o){r==="number"&&zr(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function lt(n,r,o,d){if(n=n.options,r){r={};for(var y=0;y<o.length;y++)r["$"+o[y]]=!0;for(o=0;o<n.length;o++)y=r.hasOwnProperty("$"+n[o].value),n[o].selected!==y&&(n[o].selected=y),y&&d&&(n[o].defaultSelected=!0)}else{for(o=""+$t(o),r=null,y=0;y<n.length;y++){if(n[y].value===o){n[y].selected=!0,d&&(n[y].defaultSelected=!0);return}r!==null||n[y].disabled||(r=n[y])}r!==null&&(r.selected=!0)}}function ki(n,r,o){if(r!=null&&(r=""+$t(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+$t(o):""}function Br(n,r,o,d){if(r==null){if(d!=null){if(o!=null)throw Error(s(92));if(ht(d)){if(1<d.length)throw Error(s(93));d=d[0]}o=d}o==null&&(o=""),r=o}o=$t(r),n.defaultValue=o,d=n.textContent,d===o&&d!==""&&d!==null&&(n.value=d),Le(n)}function Zn(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var gl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ur(n,r,o){var d=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":d?n.setProperty(r,o):typeof o!="number"||o===0||gl.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function Fa(n,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var y in r)d=r[y],r.hasOwnProperty(y)&&o[y]!==d&&Ur(n,y,d)}else for(var v in r)r.hasOwnProperty(v)&&Ur(n,v,r[v])}function Vs(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Za=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ir(n){return yl.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function xn(){}var Ga=null;function Hs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Vr=null,Re=null;function kn(n){var r=Mr(n);if(r&&(n=r.stateNode)){var o=n[Wt]||null;e:switch(n=r.stateNode,r.type){case"input":if(pl(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var d=o[r];if(d!==n&&d.form===n.form){var y=d[Wt]||null;if(!y)throw Error(s(90));pl(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<o.length;r++)d=o[r],d.form===n.form&&vt(d)}break e;case"textarea":ki(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&lt(n,!!o.multiple,r,!1)}}}var Qe=!1;function vl(n,r,o){if(Qe)return n(r,o);Qe=!0;try{var d=n(r);return d}finally{if(Qe=!1,(Vr!==null||Re!==null)&&(od(),Vr&&(r=Vr,n=Re,Re=Vr=null,kn(r),n)))for(r=0;r<n.length;r++)kn(n[r])}}function sr(n,r){var o=n.stateNode;if(o===null)return null;var d=o[Wt]||null;if(d===null)return null;o=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$s=!1;if(Ln)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){$s=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{$s=!1}var Gn=null,ar=null,Nt=null;function Li(){if(Nt)return Nt;var n,r=ar,o=r.length,d,y="value"in Gn?Gn.value:Gn.textContent,v=y.length;for(n=0;n<o&&r[n]===y[n];n++);var j=o-n;for(d=1;d<=j&&r[o-d]===y[v-d];d++);return Nt=y.slice(n,1<d?1-d:void 0)}function qs(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Fs(){return!0}function hu(){return!1}function Qt(n){function r(o,d,y,v,j){this._reactName=o,this._targetInst=y,this.type=d,this.nativeEvent=v,this.target=j,this.currentTarget=null;for(var O in n)n.hasOwnProperty(O)&&(o=n[O],this[O]=o?o(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Fs:hu,this.isPropagationStopped=hu,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),r}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=Qt(hi),Hr=w({},hi,{view:0,detail:0}),He=Qt(Hr),xl,fn,fi,Zs=w({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fi&&(fi&&n.type==="mousemove"?(xl=n.screenX-fi.screenX,fn=n.screenY-fi.screenY):fn=xl=0,fi=n),xl)},movementY:function(n){return"movementY"in n?n.movementY:fn}}),fu=Qt(Zs),bl=w({},Zs,{dataTransfer:0}),Dh=Qt(bl),mu=w({},Hr,{relatedTarget:0}),_l=Qt(mu),zh=w({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),wl=Qt(zh),Bh=w({},hi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Wn=Qt(Bh),Uh=w({},hi,{data:0}),Sl=Qt(Uh),Pi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=gu[n])?!!r[n]:!1}function Tl(){return jl}var yu=w({},Hr,{key:function(n){if(n.key){var r=Pi[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=qs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?pu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(n){return n.type==="keypress"?qs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),vu=Qt(yu),Ih=w({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xu=Qt(Ih),El=w({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),Vh=Qt(El),bu=w({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=Qt(bu),Ka=w({},Zs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),or=Qt(Ka),Hh=w({},hi,{newState:0,oldState:0}),Gs=Qt(Hh),bn=[9,13,27,32],Ya=Ln&&"CompositionEvent"in window,$r=null;Ln&&"documentMode"in document&&($r=document.documentMode);var $h=Ln&&"TextEvent"in window&&!$r,Xa=Ln&&(!Ya||$r&&8<$r&&11>=$r),Ja=" ",wu=!1;function Su(n,r){switch(n){case"keyup":return bn.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nl(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qr=!1;function Mn(n,r){switch(n){case"compositionend":return Nl(r);case"keypress":return r.which!==32?null:(wu=!0,Ja);case"textInput":return n=r.data,n===Ja&&wu?null:n;default:return null}}function Fr(n,r){if(qr)return n==="compositionend"||!Ya&&Su(n,r)?(n=Li(),Nt=ar=Gn=null,qr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Xa&&r.locale!=="ko"?null:r.data;default:return null}}var qh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!qh[n.type]:r==="textarea"}function ju(n,r,o,d){Vr?Re?Re.push(d):Re=[d]:Vr=d,r=md(r,"onChange"),0<r.length&&(o=new Wa("onChange","change",null,o,d),n.push({event:o,listeners:r}))}var Yn=null,Ws=null;function Ks(n){jv(n,0)}function Ys(n){var r=Ri(n);if(vt(r))return n}function Xs(n,r){if(n==="change")return r}var Tu=!1;if(Ln){var Xn;if(Ln){var Zr="oninput"in document;if(!Zr){var Eu=document.createElement("div");Eu.setAttribute("oninput","return;"),Zr=typeof Eu.oninput=="function"}Xn=Zr}else Xn=!1;Tu=Xn&&(!document.documentMode||9<document.documentMode)}function Qa(){Yn&&(Yn.detachEvent("onpropertychange",Nu),Ws=Yn=null)}function Nu(n){if(n.propertyName==="value"&&Ys(Ws)){var r=[];ju(r,Ws,n,Hs(n)),vl(Ks,r)}}function mi(n,r,o){n==="focusin"?(Qa(),Yn=r,Ws=o,Yn.attachEvent("onpropertychange",Nu)):n==="focusout"&&Qa()}function Fh(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ys(Ws)}function Gr(n,r){if(n==="click")return Ys(r)}function Zh(n,r){if(n==="input"||n==="change")return Ys(r)}function pi(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Kt=typeof Object.is=="function"?Object.is:pi;function Wr(n,r){if(Kt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),d=Object.keys(r);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var y=o[d];if(!sl.call(r,y)||!Kt(n[y],r[y]))return!1}return!0}function eo(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Js(n,r){var o=eo(n);n=0;for(var d;o;){if(o.nodeType===3){if(d=n+o.textContent.length,n<=r&&d>=r)return{node:o,offset:r-n};n=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=eo(o)}}function to(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?to(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Qs(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=zr(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=zr(n.document)}return r}function Mi(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var no=Ln&&"documentMode"in document&&11>=document.documentMode,Di=null,io=null,ea=null,Kr=!1;function Cu(n,r,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Kr||Di==null||Di!==zr(d)||(d=Di,"selectionStart"in d&&Mi(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ea&&Wr(ea,d)||(ea=d,d=md(io,"onSelect"),0<d.length&&(r=new Wa("onSelect","select",null,r,o),n.push({event:r,listeners:d}),r.target=Di)))}function zi(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Yr={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionrun:zi("Transition","TransitionRun"),transitionstart:zi("Transition","TransitionStart"),transitioncancel:zi("Transition","TransitionCancel"),transitionend:zi("Transition","TransitionEnd")},ro={},Au={};Ln&&(Au=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function Yt(n){if(ro[n])return ro[n];if(!Yr[n])return n;var r=Yr[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in Au)return ro[n]=r[o];return n}var ta=Yt("animationend"),Ru=Yt("animationiteration"),na=Yt("animationstart"),Gh=Yt("transitionrun"),Ou=Yt("transitionstart"),Wh=Yt("transitioncancel"),Xr=Yt("transitionend"),ku=new Map,Bi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bi.push("scrollEnd");function _n(n,r){ku.set(n,r),ir(r,[n])}var ia=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},wn=[],on=0,so=0;function ra(){for(var n=on,r=so=on=0;r<n;){var o=wn[r];wn[r++]=null;var d=wn[r];wn[r++]=null;var y=wn[r];wn[r++]=null;var v=wn[r];if(wn[r++]=null,d!==null&&y!==null){var j=d.pending;j===null?y.next=y:(y.next=j.next,j.next=y),d.pending=y}v!==0&&Jr(o,y,v)}}function Ui(n,r,o,d){wn[on++]=n,wn[on++]=r,wn[on++]=o,wn[on++]=d,so|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function Cl(n,r,o,d){return Ui(n,r,o,d),sa(n)}function Jn(n,r){return Ui(n,null,null,r),sa(n)}function Jr(n,r,o){n.lanes|=o;var d=n.alternate;d!==null&&(d.lanes|=o);for(var y=!1,v=n.return;v!==null;)v.childLanes|=o,d=v.alternate,d!==null&&(d.childLanes|=o),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(y=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,y&&r!==null&&(y=31-hn(o),n=v.hiddenUpdates,d=n[y],d===null?n[y]=[r]:d.push(r),r.lane=o|536870912),v):null}function sa(n){if(50<Ql)throw Ql=0,Xf=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var lr={};function Kh(n,r,o,d){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(n,r,o,d){return new Kh(n,r,o,d)}function ao(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qn(n,r){var o=n.alternate;return o===null?(o=ln(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Al(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function aa(n,r,o,d,y,v){var j=0;if(d=n,typeof n=="function")ao(n)&&(j=1);else if(typeof n=="string")j=YS(n,o,ue.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case me:return n=ln(31,o,r,y),n.elementType=me,n.lanes=v,n;case k:return cr(o.children,y,v,r);case P:j=8,y|=24;break;case M:return n=ln(12,o,r,y|2),n.elementType=M,n.lanes=v,n;case F:return n=ln(13,o,r,y),n.elementType=F,n.lanes=v,n;case V:return n=ln(19,o,r,y),n.elementType=V,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R:j=10;break e;case D:j=9;break e;case Z:j=11;break e;case B:j=14;break e;case te:j=16,d=null;break e}j=29,o=Error(s(130,n===null?"null":typeof n,"")),d=null}return r=ln(j,o,r,y),r.elementType=n,r.type=d,r.lanes=v,r}function cr(n,r,o,d){return n=ln(7,n,d,r),n.lanes=o,n}function oo(n,r,o){return n=ln(6,n,null,r),n.lanes=o,n}function Rl(n){var r=ln(18,null,null,0);return r.stateNode=n,r}function Ol(n,r,o){return r=ln(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var a=new WeakMap;function u(n,r){if(typeof n=="object"&&n!==null){var o=a.get(n);return o!==void 0?o:(r={value:n,source:r,stack:As(r)},a.set(n,r),r)}return{value:n,source:r,stack:As(r)}}var m=[],b=0,S=null,C=0,z=[],G=0,Y=null,se=1,de="";function _e(n,r){m[b++]=C,m[b++]=S,S=n,C=r}function De(n,r,o){z[G++]=se,z[G++]=de,z[G++]=Y,Y=n;var d=se;n=de;var y=32-hn(d)-1;d&=~(1<<y),o+=1;var v=32-hn(r)+y;if(30<v){var j=y-y%5;v=(d&(1<<j)-1).toString(32),d>>=j,y-=j,se=1<<32-hn(r)+y|o<<y|d,de=v+n}else se=1<<v|o<<y|d,de=n}function qt(n){n.return!==null&&(_e(n,1),De(n,1,0))}function Ct(n){for(;n===S;)S=m[--b],m[b]=null,C=m[--b],m[b]=null;for(;n===Y;)Y=z[--G],z[G]=null,de=z[--G],z[G]=null,se=z[--G],z[G]=null}function mn(n,r){z[G++]=se,z[G++]=de,z[G++]=Y,se=r.id,de=r.overflow,Y=n}var Ze=null,Ge=null,Ue=!1,Ii=null,Sn=!1,lo=Error(s(519));function Vi(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oa(u(r,n)),lo}function kl(n){var r=n.stateNode,o=n.type,d=n.memoizedProps;switch(r[Mt]=n,r[Wt]=d,o){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(o=0;o<tc.length;o++)Ve(tc[o],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),Is(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),Br(r,d.value,d.defaultValue,d.children)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||d.suppressHydrationWarning===!0||Cv(r.textContent,o)?(d.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),d.onScroll!=null&&Ve("scroll",r),d.onScrollEnd!=null&&Ve("scrollend",r),d.onClick!=null&&(r.onclick=xn),r=!0):r=!1,r||Vi(n,!0)}function wt(n){for(Ze=n.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Sn=!1;return;case 27:case 3:Sn=!0;return;default:Ze=Ze.return}}function gi(n){if(n!==Ze)return!1;if(!Ue)return wt(n),Ue=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||hm(n.type,n.memoizedProps)),o=!o),o&&Ge&&Vi(n),wt(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Ge=zv(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Ge=zv(n)}else r===27?(r=Ge,hs(n.type)?(n=ym,ym=null,Ge=n):Ge=r):Ge=Ze?ti(n.stateNode.nextSibling):null;return!0}function ur(){Ge=Ze=null,Ue=!1}function Ll(){var n=Ii;return n!==null&&(Nn===null?Nn=n:Nn.push.apply(Nn,n),Ii=null),n}function oa(n){Ii===null?Ii=[n]:Ii.push(n)}var la=U(null),Hi=null,yi=null;function Qr(n,r,o){ie(la,r._currentValue),r._currentValue=o}function dr(n){n._currentValue=la.current,Q(la)}function Yh(n,r,o){for(;n!==null;){var d=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),n===o)break;n=n.return}}function Xh(n,r,o,d){var y=n.child;for(y!==null&&(y.return=n);y!==null;){var v=y.dependencies;if(v!==null){var j=y.child;v=v.firstContext;e:for(;v!==null;){var O=v;v=y;for(var I=0;I<r.length;I++)if(O.context===r[I]){v.lanes|=o,O=v.alternate,O!==null&&(O.lanes|=o),Yh(v.return,o,n),d||(j=null);break e}v=O.next}}else if(y.tag===18){if(j=y.return,j===null)throw Error(s(341));j.lanes|=o,v=j.alternate,v!==null&&(v.lanes|=o),Yh(j,o,n),j=null}else j=y.child;if(j!==null)j.return=y;else for(j=y;j!==null;){if(j===n){j=null;break}if(y=j.sibling,y!==null){y.return=j.return,j=y;break}j=j.return}y=j}}function co(n,r,o,d){n=null;for(var y=r,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var j=y.alternate;if(j===null)throw Error(s(387));if(j=j.memoizedProps,j!==null){var O=y.type;Kt(y.pendingProps.value,j.value)||(n!==null?n.push(O):n=[O])}}else if(y===ke.current){if(j=y.alternate,j===null)throw Error(s(387));j.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(n!==null?n.push(ac):n=[ac])}y=y.return}n!==null&&Xh(r,n,o,d),r.flags|=262144}function Lu(n){for(n=n.firstContext;n!==null;){if(!Kt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ca(n){Hi=n,yi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return f0(Hi,n)}function Pu(n,r){return Hi===null&&ca(n),f0(n,r)}function f0(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},yi===null){if(n===null)throw Error(s(308));yi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else yi=yi.next=r;return o}var Z2=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,d){n.push(d)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},G2=e.unstable_scheduleCallback,W2=e.unstable_NormalPriority,zt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new Z2,data:new Map,refCount:0}}function Pl(n){n.refCount--,n.refCount===0&&G2(W2,function(){n.controller.abort()})}var Ml=null,Qh=0,uo=0,ho=null;function K2(n,r){if(Ml===null){var o=Ml=[];Qh=0,uo=im(),ho={status:"pending",value:void 0,then:function(d){o.push(d)}}}return Qh++,r.then(m0,m0),r}function m0(){if(--Qh===0&&Ml!==null){ho!==null&&(ho.status="fulfilled");var n=Ml;Ml=null,uo=0,ho=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Y2(n,r){var o=[],d={status:"pending",value:null,reason:null,then:function(y){o.push(y)}};return n.then(function(){d.status="fulfilled",d.value=r;for(var y=0;y<o.length;y++)(0,o[y])(r)},function(y){for(d.status="rejected",d.reason=y,y=0;y<o.length;y++)(0,o[y])(void 0)}),d}var p0=$.S;$.S=function(n,r){Jy=dn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&K2(n,r),p0!==null&&p0(n,r)};var ua=U(null);function ef(){var n=ua.current;return n!==null?n:ct.pooledCache}function Mu(n,r){r===null?ie(ua,ua.current):ie(ua,r.pool)}function g0(){var n=ef();return n===null?null:{parent:zt._currentValue,pool:n}}var fo=Error(s(460)),tf=Error(s(474)),Du=Error(s(542)),zu={then:function(){}};function y0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function v0(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(xn,xn),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,b0(n),n;default:if(typeof r.status=="string")r.then(xn,xn);else{if(n=ct,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(d){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=d}},function(d){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,b0(n),n}throw ha=r,fo}}function da(n){try{var r=n._init;return r(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ha=o,fo):o}}var ha=null;function x0(){if(ha===null)throw Error(s(459));var n=ha;return ha=null,n}function b0(n){if(n===fo||n===Du)throw Error(s(483))}var mo=null,Dl=0;function Bu(n){var r=Dl;return Dl+=1,mo===null&&(mo=[]),v0(mo,n,r)}function zl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Uu(n,r){throw r.$$typeof===E?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function _0(n){function r(q,H){if(n){var W=q.deletions;W===null?(q.deletions=[H],q.flags|=16):W.push(H)}}function o(q,H){if(!n)return null;for(;H!==null;)r(q,H),H=H.sibling;return null}function d(q){for(var H=new Map;q!==null;)q.key!==null?H.set(q.key,q):H.set(q.index,q),q=q.sibling;return H}function y(q,H){return q=Qn(q,H),q.index=0,q.sibling=null,q}function v(q,H,W){return q.index=W,n?(W=q.alternate,W!==null?(W=W.index,W<H?(q.flags|=67108866,H):W):(q.flags|=67108866,H)):(q.flags|=1048576,H)}function j(q){return n&&q.alternate===null&&(q.flags|=67108866),q}function O(q,H,W,re){return H===null||H.tag!==6?(H=oo(W,q.mode,re),H.return=q,H):(H=y(H,W),H.return=q,H)}function I(q,H,W,re){var Se=W.type;return Se===k?ee(q,H,W.props.children,re,W.key):H!==null&&(H.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===te&&da(Se)===H.type)?(H=y(H,W.props),zl(H,W),H.return=q,H):(H=aa(W.type,W.key,W.props,null,q.mode,re),zl(H,W),H.return=q,H)}function K(q,H,W,re){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Ol(W,q.mode,re),H.return=q,H):(H=y(H,W.children||[]),H.return=q,H)}function ee(q,H,W,re,Se){return H===null||H.tag!==7?(H=cr(W,q.mode,re,Se),H.return=q,H):(H=y(H,W),H.return=q,H)}function ae(q,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=oo(""+H,q.mode,W),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case N:return W=aa(H.type,H.key,H.props,null,q.mode,W),zl(W,H),W.return=q,W;case A:return H=Ol(H,q.mode,W),H.return=q,H;case te:return H=da(H),ae(q,H,W)}if(ht(H)||Ne(H))return H=cr(H,q.mode,W,null),H.return=q,H;if(typeof H.then=="function")return ae(q,Bu(H),W);if(H.$$typeof===R)return ae(q,Pu(q,H),W);Uu(q,H)}return null}function X(q,H,W,re){var Se=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Se!==null?null:O(q,H,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case N:return W.key===Se?I(q,H,W,re):null;case A:return W.key===Se?K(q,H,W,re):null;case te:return W=da(W),X(q,H,W,re)}if(ht(W)||Ne(W))return Se!==null?null:ee(q,H,W,re,null);if(typeof W.then=="function")return X(q,H,Bu(W),re);if(W.$$typeof===R)return X(q,H,Pu(q,W),re);Uu(q,W)}return null}function J(q,H,W,re,Se){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return q=q.get(W)||null,O(H,q,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case N:return q=q.get(re.key===null?W:re.key)||null,I(H,q,re,Se);case A:return q=q.get(re.key===null?W:re.key)||null,K(H,q,re,Se);case te:return re=da(re),J(q,H,W,re,Se)}if(ht(re)||Ne(re))return q=q.get(W)||null,ee(H,q,re,Se,null);if(typeof re.then=="function")return J(q,H,W,Bu(re),Se);if(re.$$typeof===R)return J(q,H,W,Pu(H,re),Se);Uu(H,re)}return null}function ye(q,H,W,re){for(var Se=null,We=null,xe=H,ze=H=0,qe=null;xe!==null&&ze<W.length;ze++){xe.index>ze?(qe=xe,xe=null):qe=xe.sibling;var Ke=X(q,xe,W[ze],re);if(Ke===null){xe===null&&(xe=qe);break}n&&xe&&Ke.alternate===null&&r(q,xe),H=v(Ke,H,ze),We===null?Se=Ke:We.sibling=Ke,We=Ke,xe=qe}if(ze===W.length)return o(q,xe),Ue&&_e(q,ze),Se;if(xe===null){for(;ze<W.length;ze++)xe=ae(q,W[ze],re),xe!==null&&(H=v(xe,H,ze),We===null?Se=xe:We.sibling=xe,We=xe);return Ue&&_e(q,ze),Se}for(xe=d(xe);ze<W.length;ze++)qe=J(xe,q,ze,W[ze],re),qe!==null&&(n&&qe.alternate!==null&&xe.delete(qe.key===null?ze:qe.key),H=v(qe,H,ze),We===null?Se=qe:We.sibling=qe,We=qe);return n&&xe.forEach(function(ys){return r(q,ys)}),Ue&&_e(q,ze),Se}function Ee(q,H,W,re){if(W==null)throw Error(s(151));for(var Se=null,We=null,xe=H,ze=H=0,qe=null,Ke=W.next();xe!==null&&!Ke.done;ze++,Ke=W.next()){xe.index>ze?(qe=xe,xe=null):qe=xe.sibling;var ys=X(q,xe,Ke.value,re);if(ys===null){xe===null&&(xe=qe);break}n&&xe&&ys.alternate===null&&r(q,xe),H=v(ys,H,ze),We===null?Se=ys:We.sibling=ys,We=ys,xe=qe}if(Ke.done)return o(q,xe),Ue&&_e(q,ze),Se;if(xe===null){for(;!Ke.done;ze++,Ke=W.next())Ke=ae(q,Ke.value,re),Ke!==null&&(H=v(Ke,H,ze),We===null?Se=Ke:We.sibling=Ke,We=Ke);return Ue&&_e(q,ze),Se}for(xe=d(xe);!Ke.done;ze++,Ke=W.next())Ke=J(xe,q,ze,Ke.value,re),Ke!==null&&(n&&Ke.alternate!==null&&xe.delete(Ke.key===null?ze:Ke.key),H=v(Ke,H,ze),We===null?Se=Ke:We.sibling=Ke,We=Ke);return n&&xe.forEach(function(oj){return r(q,oj)}),Ue&&_e(q,ze),Se}function ot(q,H,W,re){if(typeof W=="object"&&W!==null&&W.type===k&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case N:e:{for(var Se=W.key;H!==null;){if(H.key===Se){if(Se=W.type,Se===k){if(H.tag===7){o(q,H.sibling),re=y(H,W.props.children),re.return=q,q=re;break e}}else if(H.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===te&&da(Se)===H.type){o(q,H.sibling),re=y(H,W.props),zl(re,W),re.return=q,q=re;break e}o(q,H);break}else r(q,H);H=H.sibling}W.type===k?(re=cr(W.props.children,q.mode,re,W.key),re.return=q,q=re):(re=aa(W.type,W.key,W.props,null,q.mode,re),zl(re,W),re.return=q,q=re)}return j(q);case A:e:{for(Se=W.key;H!==null;){if(H.key===Se)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){o(q,H.sibling),re=y(H,W.children||[]),re.return=q,q=re;break e}else{o(q,H);break}else r(q,H);H=H.sibling}re=Ol(W,q.mode,re),re.return=q,q=re}return j(q);case te:return W=da(W),ot(q,H,W,re)}if(ht(W))return ye(q,H,W,re);if(Ne(W)){if(Se=Ne(W),typeof Se!="function")throw Error(s(150));return W=Se.call(W),Ee(q,H,W,re)}if(typeof W.then=="function")return ot(q,H,Bu(W),re);if(W.$$typeof===R)return ot(q,H,Pu(q,W),re);Uu(q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(o(q,H.sibling),re=y(H,W),re.return=q,q=re):(o(q,H),re=oo(W,q.mode,re),re.return=q,q=re),j(q)):o(q,H)}return function(q,H,W,re){try{Dl=0;var Se=ot(q,H,W,re);return mo=null,Se}catch(xe){if(xe===fo||xe===Du)throw xe;var We=ln(29,xe,null,q.mode);return We.lanes=re,We.return=q,We}}}var fa=_0(!0),w0=_0(!1),es=!1;function nf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ts(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ns(n,r,o){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(Xe&2)!==0){var y=d.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),d.pending=r,r=sa(n),Jr(n,null,o),r}return Ui(n,d,r,o),sa(n)}function Bl(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var d=r.lanes;d&=n.pendingLanes,o|=d,r.lanes=o,au(n,o)}}function sf(n,r){var o=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var y=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var j={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?y=v=j:v=v.next=j,o=o.next}while(o!==null);v===null?y=v=r:v=v.next=r}else y=v=r;o={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var af=!1;function Ul(){if(af){var n=ho;if(n!==null)throw n}}function Il(n,r,o,d){af=!1;var y=n.updateQueue;es=!1;var v=y.firstBaseUpdate,j=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var I=O,K=I.next;I.next=null,j===null?v=K:j.next=K,j=I;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,O=ee.lastBaseUpdate,O!==j&&(O===null?ee.firstBaseUpdate=K:O.next=K,ee.lastBaseUpdate=I))}if(v!==null){var ae=y.baseState;j=0,ee=K=I=null,O=v;do{var X=O.lane&-536870913,J=X!==O.lane;if(J?($e&X)===X:(d&X)===X){X!==0&&X===uo&&(af=!0),ee!==null&&(ee=ee.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var ye=n,Ee=O;X=r;var ot=o;switch(Ee.tag){case 1:if(ye=Ee.payload,typeof ye=="function"){ae=ye.call(ot,ae,X);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ee.payload,X=typeof ye=="function"?ye.call(ot,ae,X):ye,X==null)break e;ae=w({},ae,X);break e;case 2:es=!0}}X=O.callback,X!==null&&(n.flags|=64,J&&(n.flags|=8192),J=y.callbacks,J===null?y.callbacks=[X]:J.push(X))}else J={lane:X,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ee===null?(K=ee=J,I=ae):ee=ee.next=J,j|=X;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;J=O,O=J.next,J.next=null,y.lastBaseUpdate=J,y.shared.pending=null}}while(!0);ee===null&&(I=ae),y.baseState=I,y.firstBaseUpdate=K,y.lastBaseUpdate=ee,v===null&&(y.shared.lanes=0),os|=j,n.lanes=j,n.memoizedState=ae}}function S0(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function j0(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)S0(o[n],r)}var po=U(null),Iu=U(0);function T0(n,r){n=br,ie(Iu,n),ie(po,r),br=n|r.baseLanes}function of(){ie(Iu,br),ie(po,po.current)}function lf(){br=Iu.current,Q(po),Q(Iu)}var Dn=U(null),ei=null;function is(n){var r=n.alternate;ie(Lt,Lt.current&1),ie(Dn,n),ei===null&&(r===null||po.current!==null||r.memoizedState!==null)&&(ei=n)}function cf(n){ie(Lt,Lt.current),ie(Dn,n),ei===null&&(ei=n)}function E0(n){n.tag===22?(ie(Lt,Lt.current),ie(Dn,n),ei===null&&(ei=n)):rs()}function rs(){ie(Lt,Lt.current),ie(Dn,Dn.current)}function zn(n){Q(Dn),ei===n&&(ei=null),Q(Lt)}var Lt=U(0);function Vu(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||pm(o)||gm(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var hr=0,Me=null,st=null,Bt=null,Hu=!1,go=!1,ma=!1,$u=0,Vl=0,yo=null,X2=0;function At(){throw Error(s(321))}function uf(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Kt(n[o],r[o]))return!1;return!0}function df(n,r,o,d,y,v){return hr=v,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=n===null||n.memoizedState===null?cy:Ef,ma=!1,v=o(d,y),ma=!1,go&&(v=C0(r,o,d,y)),N0(n),v}function N0(n){$.H=ql;var r=st!==null&&st.next!==null;if(hr=0,Bt=st=Me=null,Hu=!1,Vl=0,yo=null,r)throw Error(s(300));n===null||Ut||(n=n.dependencies,n!==null&&Lu(n)&&(Ut=!0))}function C0(n,r,o,d){Me=n;var y=0;do{if(go&&(yo=null),Vl=0,go=!1,25<=y)throw Error(s(301));if(y+=1,Bt=st=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=uy,v=r(o,d)}while(go);return v}function J2(){var n=$.H,r=n.useState()[0];return r=typeof r.then=="function"?Hl(r):r,n=n.useState()[0],(st!==null?st.memoizedState:null)!==n&&(Me.flags|=1024),r}function hf(){var n=$u!==0;return $u=0,n}function ff(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function mf(n){if(Hu){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Hu=!1}hr=0,Bt=st=Me=null,go=!1,Vl=$u=0,yo=null}function pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Me.memoizedState=Bt=n:Bt=Bt.next=n,Bt}function Pt(){if(st===null){var n=Me.alternate;n=n!==null?n.memoizedState:null}else n=st.next;var r=Bt===null?Me.memoizedState:Bt.next;if(r!==null)Bt=r,st=n;else{if(n===null)throw Me.alternate===null?Error(s(467)):Error(s(310));st=n,n={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Bt===null?Me.memoizedState=Bt=n:Bt=Bt.next=n}return Bt}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(n){var r=Vl;return Vl+=1,yo===null&&(yo=[]),n=v0(yo,n,r),r=Me,(Bt===null?r.memoizedState:Bt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?cy:Ef),n}function Fu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Hl(n);if(n.$$typeof===R)return en(n)}throw Error(s(438,String(n)))}function pf(n){var r=null,o=Me.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var d=Me.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=qu(),Me.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),d=0;d<n;d++)o[d]=ve;return r.index++,o}function fr(n,r){return typeof r=="function"?r(n):r}function Zu(n){var r=Pt();return gf(r,st,n)}function gf(n,r,o){var d=n.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=o;var y=n.baseQueue,v=d.pending;if(v!==null){if(y!==null){var j=y.next;y.next=v.next,v.next=j}r.baseQueue=y=v,d.pending=null}if(v=n.baseState,y===null)n.memoizedState=v;else{r=y.next;var O=j=null,I=null,K=r,ee=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?($e&ae)===ae:(hr&ae)===ae){var X=K.revertLane;if(X===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===uo&&(ee=!0);else if((hr&X)===X){K=K.next,X===uo&&(ee=!0);continue}else ae={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},I===null?(O=I=ae,j=v):I=I.next=ae,Me.lanes|=X,os|=X;ae=K.action,ma&&o(v,ae),v=K.hasEagerState?K.eagerState:o(v,ae)}else X={lane:ae,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},I===null?(O=I=X,j=v):I=I.next=X,Me.lanes|=ae,os|=ae;K=K.next}while(K!==null&&K!==r);if(I===null?j=v:I.next=O,!Kt(v,n.memoizedState)&&(Ut=!0,ee&&(o=ho,o!==null)))throw o;n.memoizedState=v,n.baseState=j,n.baseQueue=I,d.lastRenderedState=v}return y===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function yf(n){var r=Pt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var d=o.dispatch,y=o.pending,v=r.memoizedState;if(y!==null){o.pending=null;var j=y=y.next;do v=n(v,j.action),j=j.next;while(j!==y);Kt(v,r.memoizedState)||(Ut=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),o.lastRenderedState=v}return[v,d]}function A0(n,r,o){var d=Me,y=Pt(),v=Ue;if(v){if(o===void 0)throw Error(s(407));o=o()}else o=r();var j=!Kt((st||y).memoizedState,o);if(j&&(y.memoizedState=o,Ut=!0),y=y.queue,bf(k0.bind(null,d,y,n),[n]),y.getSnapshot!==r||j||Bt!==null&&Bt.memoizedState.tag&1){if(d.flags|=2048,vo(9,{destroy:void 0},O0.bind(null,d,y,o,r),null),ct===null)throw Error(s(349));v||(hr&127)!==0||R0(d,r,o)}return o}function R0(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Me.updateQueue,r===null?(r=qu(),Me.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function O0(n,r,o,d){r.value=o,r.getSnapshot=d,L0(r)&&P0(n)}function k0(n,r,o){return o(function(){L0(r)&&P0(n)})}function L0(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Kt(n,o)}catch{return!0}}function P0(n){var r=Jn(n,2);r!==null&&Cn(r,n,2)}function vf(n){var r=pn();if(typeof n=="function"){var o=n;if(n=o(),ma){ci(!0);try{o()}finally{ci(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:n},r}function M0(n,r,o,d){return n.baseState=o,gf(n,st,typeof d=="function"?d:fr)}function Q2(n,r,o,d,y){if(Ku(n))throw Error(s(485));if(n=r.action,n!==null){var v={payload:y,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){v.listeners.push(j)}};$.T!==null?o(!0):v.isTransition=!1,d(v),o=r.pending,o===null?(v.next=r.pending=v,D0(r,v)):(v.next=o.next,r.pending=o.next=v)}}function D0(n,r){var o=r.action,d=r.payload,y=n.state;if(r.isTransition){var v=$.T,j={};$.T=j;try{var O=o(y,d),I=$.S;I!==null&&I(j,O),z0(n,r,O)}catch(K){xf(n,r,K)}finally{v!==null&&j.types!==null&&(v.types=j.types),$.T=v}}else try{v=o(y,d),z0(n,r,v)}catch(K){xf(n,r,K)}}function z0(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){B0(n,r,d)},function(d){return xf(n,r,d)}):B0(n,r,o)}function B0(n,r,o){r.status="fulfilled",r.value=o,U0(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,D0(n,o)))}function xf(n,r,o){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=o,U0(r),r=r.next;while(r!==d)}n.action=null}function U0(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function I0(n,r){return r}function V0(n,r){if(Ue){var o=ct.formState;if(o!==null){e:{var d=Me;if(Ue){if(Ge){t:{for(var y=Ge,v=Sn;y.nodeType!==8;){if(!v){y=null;break t}if(y=ti(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){Ge=ti(y.nextSibling),d=y.data==="F!";break e}}Vi(d)}d=!1}d&&(r=o[0])}}return o=pn(),o.memoizedState=o.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I0,lastRenderedState:r},o.queue=d,o=ay.bind(null,Me,d),d.dispatch=o,d=vf(!1),v=Tf.bind(null,Me,!1,d.queue),d=pn(),y={state:r,dispatch:null,action:n,pending:null},d.queue=y,o=Q2.bind(null,Me,y,v,o),y.dispatch=o,d.memoizedState=n,[r,o,!1]}function H0(n){var r=Pt();return $0(r,st,n)}function $0(n,r,o){if(r=gf(n,r,I0)[0],n=Zu(fr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=Hl(r)}catch(j){throw j===fo?Du:j}else d=r;r=Pt();var y=r.queue,v=y.dispatch;return o!==r.memoizedState&&(Me.flags|=2048,vo(9,{destroy:void 0},eS.bind(null,y,o),null)),[d,v,n]}function eS(n,r){n.action=r}function q0(n){var r=Pt(),o=st;if(o!==null)return $0(r,o,n);Pt(),r=r.memoizedState,o=Pt();var d=o.queue.dispatch;return o.memoizedState=n,[r,d,!1]}function vo(n,r,o,d){return n={tag:n,create:o,deps:d,inst:r,next:null},r=Me.updateQueue,r===null&&(r=qu(),Me.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(d=o.next,o.next=n,n.next=d,r.lastEffect=n),n}function F0(){return Pt().memoizedState}function Gu(n,r,o,d){var y=pn();Me.flags|=n,y.memoizedState=vo(1|r,{destroy:void 0},o,d===void 0?null:d)}function Wu(n,r,o,d){var y=Pt();d=d===void 0?null:d;var v=y.memoizedState.inst;st!==null&&d!==null&&uf(d,st.memoizedState.deps)?y.memoizedState=vo(r,v,o,d):(Me.flags|=n,y.memoizedState=vo(1|r,v,o,d))}function Z0(n,r){Gu(8390656,8,n,r)}function bf(n,r){Wu(2048,8,n,r)}function tS(n){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=qu(),Me.updateQueue=r,r.events=[n];else{var o=r.events;o===null?r.events=[n]:o.push(n)}}function G0(n){var r=Pt().memoizedState;return tS({ref:r,nextImpl:n}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function W0(n,r){return Wu(4,2,n,r)}function K0(n,r){return Wu(4,4,n,r)}function Y0(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function X0(n,r,o){o=o!=null?o.concat([n]):null,Wu(4,4,Y0.bind(null,r,n),o)}function _f(){}function J0(n,r){var o=Pt();r=r===void 0?null:r;var d=o.memoizedState;return r!==null&&uf(r,d[1])?d[0]:(o.memoizedState=[n,r],n)}function Q0(n,r){var o=Pt();r=r===void 0?null:r;var d=o.memoizedState;if(r!==null&&uf(r,d[1]))return d[0];if(d=n(),ma){ci(!0);try{n()}finally{ci(!1)}}return o.memoizedState=[d,r],d}function wf(n,r,o){return o===void 0||(hr&1073741824)!==0&&($e&261930)===0?n.memoizedState=r:(n.memoizedState=o,n=ev(),Me.lanes|=n,os|=n,o)}function ey(n,r,o,d){return Kt(o,r)?o:po.current!==null?(n=wf(n,o,d),Kt(n,r)||(Ut=!0),n):(hr&42)===0||(hr&1073741824)!==0&&($e&261930)===0?(Ut=!0,n.memoizedState=o):(n=ev(),Me.lanes|=n,os|=n,r)}function ty(n,r,o,d,y){var v=oe.p;oe.p=v!==0&&8>v?v:8;var j=$.T,O={};$.T=O,Tf(n,!1,r,o);try{var I=y(),K=$.S;if(K!==null&&K(O,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ee=Y2(I,d);$l(n,r,ee,In(n))}else $l(n,r,d,In(n))}catch(ae){$l(n,r,{then:function(){},status:"rejected",reason:ae},In())}finally{oe.p=v,j!==null&&O.types!==null&&(j.types=O.types),$.T=j}}function nS(){}function Sf(n,r,o,d){if(n.tag!==5)throw Error(s(476));var y=ny(n).queue;ty(n,y,r,ne,o===null?nS:function(){return iy(n),o(d)})}function ny(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:ne},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function iy(n){var r=ny(n);r.next===null&&(r=n.alternate.memoizedState),$l(n,r.next.queue,{},In())}function jf(){return en(ac)}function ry(){return Pt().memoizedState}function sy(){return Pt().memoizedState}function iS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=In();n=ts(o);var d=ns(r,n,o);d!==null&&(Cn(d,r,o),Bl(d,r,o)),r={cache:Jh()},n.payload=r;return}r=r.return}}function rS(n,r,o){var d=In();o={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(n)?oy(r,o):(o=Cl(n,r,o,d),o!==null&&(Cn(o,n,d),ly(o,r,d)))}function ay(n,r,o){var d=In();$l(n,r,o,d)}function $l(n,r,o,d){var y={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ku(n))oy(r,y);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var j=r.lastRenderedState,O=v(j,o);if(y.hasEagerState=!0,y.eagerState=O,Kt(O,j))return Ui(n,r,y,0),ct===null&&ra(),!1}catch{}if(o=Cl(n,r,y,d),o!==null)return Cn(o,n,d),ly(o,r,d),!0}return!1}function Tf(n,r,o,d){if(d={lane:2,revertLane:im(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ku(n)){if(r)throw Error(s(479))}else r=Cl(n,o,d,2),r!==null&&Cn(r,n,2)}function Ku(n){var r=n.alternate;return n===Me||r!==null&&r===Me}function oy(n,r){go=Hu=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function ly(n,r,o){if((o&4194048)!==0){var d=r.lanes;d&=n.pendingLanes,o|=d,r.lanes=o,au(n,o)}}var ql={readContext:en,use:Fu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};ql.useEffectEvent=At;var cy={readContext:en,use:Fu,useCallback:function(n,r){return pn().memoizedState=[n,r===void 0?null:r],n},useContext:en,useEffect:Z0,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,Gu(4194308,4,Y0.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Gu(4194308,4,n,r)},useInsertionEffect:function(n,r){Gu(4,2,n,r)},useMemo:function(n,r){var o=pn();r=r===void 0?null:r;var d=n();if(ma){ci(!0);try{n()}finally{ci(!1)}}return o.memoizedState=[d,r],d},useReducer:function(n,r,o){var d=pn();if(o!==void 0){var y=o(r);if(ma){ci(!0);try{o(r)}finally{ci(!1)}}}else y=r;return d.memoizedState=d.baseState=y,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:y},d.queue=n,n=n.dispatch=rS.bind(null,Me,n),[d.memoizedState,n]},useRef:function(n){var r=pn();return n={current:n},r.memoizedState=n},useState:function(n){n=vf(n);var r=n.queue,o=ay.bind(null,Me,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:_f,useDeferredValue:function(n,r){var o=pn();return wf(o,n,r)},useTransition:function(){var n=vf(!1);return n=ty.bind(null,Me,n.queue,!0,!1),pn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var d=Me,y=pn();if(Ue){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ct===null)throw Error(s(349));($e&127)!==0||R0(d,r,o)}y.memoizedState=o;var v={value:o,getSnapshot:r};return y.queue=v,Z0(k0.bind(null,d,v,n),[n]),d.flags|=2048,vo(9,{destroy:void 0},O0.bind(null,d,v,o,r),null),o},useId:function(){var n=pn(),r=ct.identifierPrefix;if(Ue){var o=de,d=se;o=(d&~(1<<32-hn(d)-1)).toString(32)+o,r="_"+r+"R_"+o,o=$u++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=X2++,r="_"+r+"r_"+o.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:jf,useFormState:V0,useActionState:V0,useOptimistic:function(n){var r=pn();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Tf.bind(null,Me,!0,o),o.dispatch=r,[n,r]},useMemoCache:pf,useCacheRefresh:function(){return pn().memoizedState=iS.bind(null,Me)},useEffectEvent:function(n){var r=pn(),o={impl:n};return r.memoizedState=o,function(){if((Xe&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Ef={readContext:en,use:Fu,useCallback:J0,useContext:en,useEffect:bf,useImperativeHandle:X0,useInsertionEffect:W0,useLayoutEffect:K0,useMemo:Q0,useReducer:Zu,useRef:F0,useState:function(){return Zu(fr)},useDebugValue:_f,useDeferredValue:function(n,r){var o=Pt();return ey(o,st.memoizedState,n,r)},useTransition:function(){var n=Zu(fr)[0],r=Pt().memoizedState;return[typeof n=="boolean"?n:Hl(n),r]},useSyncExternalStore:A0,useId:ry,useHostTransitionStatus:jf,useFormState:H0,useActionState:H0,useOptimistic:function(n,r){var o=Pt();return M0(o,st,n,r)},useMemoCache:pf,useCacheRefresh:sy};Ef.useEffectEvent=G0;var uy={readContext:en,use:Fu,useCallback:J0,useContext:en,useEffect:bf,useImperativeHandle:X0,useInsertionEffect:W0,useLayoutEffect:K0,useMemo:Q0,useReducer:yf,useRef:F0,useState:function(){return yf(fr)},useDebugValue:_f,useDeferredValue:function(n,r){var o=Pt();return st===null?wf(o,n,r):ey(o,st.memoizedState,n,r)},useTransition:function(){var n=yf(fr)[0],r=Pt().memoizedState;return[typeof n=="boolean"?n:Hl(n),r]},useSyncExternalStore:A0,useId:ry,useHostTransitionStatus:jf,useFormState:q0,useActionState:q0,useOptimistic:function(n,r){var o=Pt();return st!==null?M0(o,st,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:pf,useCacheRefresh:sy};uy.useEffectEvent=G0;function Nf(n,r,o,d){r=n.memoizedState,o=o(d,r),o=o==null?r:w({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Cf={enqueueSetState:function(n,r,o){n=n._reactInternals;var d=In(),y=ts(d);y.payload=r,o!=null&&(y.callback=o),r=ns(n,y,d),r!==null&&(Cn(r,n,d),Bl(r,n,d))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var d=In(),y=ts(d);y.tag=1,y.payload=r,o!=null&&(y.callback=o),r=ns(n,y,d),r!==null&&(Cn(r,n,d),Bl(r,n,d))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=In(),d=ts(o);d.tag=2,r!=null&&(d.callback=r),r=ns(n,d,o),r!==null&&(Cn(r,n,o),Bl(r,n,o))}};function dy(n,r,o,d,y,v,j){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,v,j):r.prototype&&r.prototype.isPureReactComponent?!Wr(o,d)||!Wr(y,v):!0}function hy(n,r,o,d){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,d),r.state!==n&&Cf.enqueueReplaceState(r,r.state,null)}function pa(n,r){var o=r;if("ref"in r){o={};for(var d in r)d!=="ref"&&(o[d]=r[d])}if(n=n.defaultProps){o===r&&(o=w({},o));for(var y in n)o[y]===void 0&&(o[y]=n[y])}return o}function fy(n){ia(n)}function my(n){console.error(n)}function py(n){ia(n)}function Yu(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function gy(n,r,o){try{var d=n.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Af(n,r,o){return o=ts(o),o.tag=3,o.payload={element:null},o.callback=function(){Yu(n,r)},o}function yy(n){return n=ts(n),n.tag=3,n}function vy(n,r,o,d){var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var v=d.value;n.payload=function(){return y(v)},n.callback=function(){gy(r,o,d)}}var j=o.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(n.callback=function(){gy(r,o,d),typeof y!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function sS(n,r,o,d,y){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=o.alternate,r!==null&&co(r,o,y,!0),o=Dn.current,o!==null){switch(o.tag){case 31:case 13:return ei===null?ld():o.alternate===null&&Rt===0&&(Rt=3),o.flags&=-257,o.flags|=65536,o.lanes=y,d===zu?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([d]):r.add(d),em(n,d,y)),!1;case 22:return o.flags|=65536,d===zu?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([d]):o.add(d)),em(n,d,y)),!1}throw Error(s(435,o.tag))}return em(n,d,y),ld(),!1}if(Ue)return r=Dn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,d!==lo&&(n=Error(s(422),{cause:d}),oa(u(n,o)))):(d!==lo&&(r=Error(s(423),{cause:d}),oa(u(r,o))),n=n.current.alternate,n.flags|=65536,y&=-y,n.lanes|=y,d=u(d,o),y=Af(n.stateNode,d,y),sf(n,y),Rt!==4&&(Rt=2)),!1;var v=Error(s(520),{cause:d});if(v=u(v,o),Jl===null?Jl=[v]:Jl.push(v),Rt!==4&&(Rt=2),r===null)return!0;d=u(d,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=y&-y,o.lanes|=n,n=Af(o.stateNode,d,n),sf(o,n),!1;case 1:if(r=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ls===null||!ls.has(v))))return o.flags|=65536,y&=-y,o.lanes|=y,y=yy(y),vy(y,n,o,d),sf(o,y),!1}o=o.return}while(o!==null);return!1}var Rf=Error(s(461)),Ut=!1;function tn(n,r,o,d){r.child=n===null?w0(r,null,o,d):fa(r,n.child,o,d)}function xy(n,r,o,d,y){o=o.render;var v=r.ref;if("ref"in d){var j={};for(var O in d)O!=="ref"&&(j[O]=d[O])}else j=d;return ca(r),d=df(n,r,o,j,v,y),O=hf(),n!==null&&!Ut?(ff(n,r,y),mr(n,r,y)):(Ue&&O&&qt(r),r.flags|=1,tn(n,r,d,y),r.child)}function by(n,r,o,d,y){if(n===null){var v=o.type;return typeof v=="function"&&!ao(v)&&v.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=v,_y(n,r,v,d,y)):(n=aa(o.type,null,d,r,r.mode,y),n.ref=r.ref,n.return=r,r.child=n)}if(v=n.child,!Bf(n,y)){var j=v.memoizedProps;if(o=o.compare,o=o!==null?o:Wr,o(j,d)&&n.ref===r.ref)return mr(n,r,y)}return r.flags|=1,n=Qn(v,d),n.ref=r.ref,n.return=r,r.child=n}function _y(n,r,o,d,y){if(n!==null){var v=n.memoizedProps;if(Wr(v,d)&&n.ref===r.ref)if(Ut=!1,r.pendingProps=d=v,Bf(n,y))(n.flags&131072)!==0&&(Ut=!0);else return r.lanes=n.lanes,mr(n,r,y)}return Of(n,r,o,d,y)}function wy(n,r,o,d){var y=d.children,v=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((r.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,n!==null){for(d=r.child=n.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~v}else d=0,r.child=null;return Sy(n,r,v,o,d)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Mu(r,v!==null?v.cachePool:null),v!==null?T0(r,v):of(),E0(r);else return d=r.lanes=536870912,Sy(n,r,v!==null?v.baseLanes|o:o,o,d)}else v!==null?(Mu(r,v.cachePool),T0(r,v),rs(),r.memoizedState=null):(n!==null&&Mu(r,null),of(),rs());return tn(n,r,y,o),r.child}function Fl(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Sy(n,r,o,d,y){var v=ef();return v=v===null?null:{parent:zt._currentValue,pool:v},r.memoizedState={baseLanes:o,cachePool:v},n!==null&&Mu(r,null),of(),E0(r),n!==null&&co(n,r,d,!0),r.childLanes=y,null}function Xu(n,r){return r=Qu({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function jy(n,r,o){return fa(r,n.child,null,o),n=Xu(r,r.pendingProps),n.flags|=2,zn(r),r.memoizedState=null,n}function aS(n,r,o){var d=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Ue){if(d.mode==="hidden")return n=Xu(r,d),r.lanes=536870912,Fl(null,n);if(cf(r),(n=Ge)?(n=Dv(n,Sn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Y!==null?{id:se,overflow:de}:null,retryLane:536870912,hydrationErrors:null},o=Rl(n),o.return=r,r.child=o,Ze=r,Ge=null)):n=null,n===null)throw Vi(r);return r.lanes=536870912,null}return Xu(r,d)}var v=n.memoizedState;if(v!==null){var j=v.dehydrated;if(cf(r),y)if(r.flags&256)r.flags&=-257,r=jy(n,r,o);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ut||co(n,r,o,!1),y=(o&n.childLanes)!==0,Ut||y){if(d=ct,d!==null&&(j=ou(d,o),j!==0&&j!==v.retryLane))throw v.retryLane=j,Jn(n,j),Cn(d,n,j),Rf;ld(),r=jy(n,r,o)}else n=v.treeContext,Ge=ti(j.nextSibling),Ze=r,Ue=!0,Ii=null,Sn=!1,n!==null&&mn(r,n),r=Xu(r,d),r.flags|=4096;return r}return n=Qn(n.child,{mode:d.mode,children:d.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Ju(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function Of(n,r,o,d,y){return ca(r),o=df(n,r,o,d,void 0,y),d=hf(),n!==null&&!Ut?(ff(n,r,y),mr(n,r,y)):(Ue&&d&&qt(r),r.flags|=1,tn(n,r,o,y),r.child)}function Ty(n,r,o,d,y,v){return ca(r),r.updateQueue=null,o=C0(r,d,o,y),N0(n),d=hf(),n!==null&&!Ut?(ff(n,r,v),mr(n,r,v)):(Ue&&d&&qt(r),r.flags|=1,tn(n,r,o,v),r.child)}function Ey(n,r,o,d,y){if(ca(r),r.stateNode===null){var v=lr,j=o.contextType;typeof j=="object"&&j!==null&&(v=en(j)),v=new o(d,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Cf,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=d,v.state=r.memoizedState,v.refs={},nf(r),j=o.contextType,v.context=typeof j=="object"&&j!==null?en(j):lr,v.state=r.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(Nf(r,o,j,d),v.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(j=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),j!==v.state&&Cf.enqueueReplaceState(v,v.state,null),Il(r,d,v,y),Ul(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(n===null){v=r.stateNode;var O=r.memoizedProps,I=pa(o,O);v.props=I;var K=v.context,ee=o.contextType;j=lr,typeof ee=="object"&&ee!==null&&(j=en(ee));var ae=o.getDerivedStateFromProps;ee=typeof ae=="function"||typeof v.getSnapshotBeforeUpdate=="function",O=r.pendingProps!==O,ee||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O||K!==j)&&hy(r,v,d,j),es=!1;var X=r.memoizedState;v.state=X,Il(r,d,v,y),Ul(),K=r.memoizedState,O||X!==K||es?(typeof ae=="function"&&(Nf(r,o,ae,d),K=r.memoizedState),(I=es||dy(r,o,I,d,X,K,j))?(ee||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=K),v.props=d,v.state=K,v.context=j,d=I):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{v=r.stateNode,rf(n,r),j=r.memoizedProps,ee=pa(o,j),v.props=ee,ae=r.pendingProps,X=v.context,K=o.contextType,I=lr,typeof K=="object"&&K!==null&&(I=en(K)),O=o.getDerivedStateFromProps,(K=typeof O=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(j!==ae||X!==I)&&hy(r,v,d,I),es=!1,X=r.memoizedState,v.state=X,Il(r,d,v,y),Ul();var J=r.memoizedState;j!==ae||X!==J||es||n!==null&&n.dependencies!==null&&Lu(n.dependencies)?(typeof O=="function"&&(Nf(r,o,O,d),J=r.memoizedState),(ee=es||dy(r,o,ee,d,X,J,I)||n!==null&&n.dependencies!==null&&Lu(n.dependencies))?(K||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,J,I),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,J,I)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||j===n.memoizedProps&&X===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&X===n.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=J),v.props=d,v.state=J,v.context=I,d=ee):(typeof v.componentDidUpdate!="function"||j===n.memoizedProps&&X===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&X===n.memoizedState||(r.flags|=1024),d=!1)}return v=d,Ju(n,r),d=(r.flags&128)!==0,v||d?(v=r.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,n!==null&&d?(r.child=fa(r,n.child,null,y),r.child=fa(r,null,o,y)):tn(n,r,o,y),r.memoizedState=v.state,n=r.child):n=mr(n,r,y),n}function Ny(n,r,o,d){return ur(),r.flags|=256,tn(n,r,o,d),r.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(n){return{baseLanes:n,cachePool:g0()}}function Pf(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=Un),n}function Cy(n,r,o){var d=r.pendingProps,y=!1,v=(r.flags&128)!==0,j;if((j=v)||(j=n!==null&&n.memoizedState===null?!1:(Lt.current&2)!==0),j&&(y=!0,r.flags&=-129),j=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ue){if(y?is(r):rs(),(n=Ge)?(n=Dv(n,Sn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Y!==null?{id:se,overflow:de}:null,retryLane:536870912,hydrationErrors:null},o=Rl(n),o.return=r,r.child=o,Ze=r,Ge=null)):n=null,n===null)throw Vi(r);return gm(n)?r.lanes=32:r.lanes=536870912,null}var O=d.children;return d=d.fallback,y?(rs(),y=r.mode,O=Qu({mode:"hidden",children:O},y),d=cr(d,y,o,null),O.return=r,d.return=r,O.sibling=d,r.child=O,d=r.child,d.memoizedState=Lf(o),d.childLanes=Pf(n,j,o),r.memoizedState=kf,Fl(null,d)):(is(r),Mf(r,O))}var I=n.memoizedState;if(I!==null&&(O=I.dehydrated,O!==null)){if(v)r.flags&256?(is(r),r.flags&=-257,r=Df(n,r,o)):r.memoizedState!==null?(rs(),r.child=n.child,r.flags|=128,r=null):(rs(),O=d.fallback,y=r.mode,d=Qu({mode:"visible",children:d.children},y),O=cr(O,y,o,null),O.flags|=2,d.return=r,O.return=r,d.sibling=O,r.child=d,fa(r,n.child,null,o),d=r.child,d.memoizedState=Lf(o),d.childLanes=Pf(n,j,o),r.memoizedState=kf,r=Fl(null,d));else if(is(r),gm(O)){if(j=O.nextSibling&&O.nextSibling.dataset,j)var K=j.dgst;j=K,d=Error(s(419)),d.stack="",d.digest=j,oa({value:d,source:null,stack:null}),r=Df(n,r,o)}else if(Ut||co(n,r,o,!1),j=(o&n.childLanes)!==0,Ut||j){if(j=ct,j!==null&&(d=ou(j,o),d!==0&&d!==I.retryLane))throw I.retryLane=d,Jn(n,d),Cn(j,n,d),Rf;pm(O)||ld(),r=Df(n,r,o)}else pm(O)?(r.flags|=192,r.child=n.child,r=null):(n=I.treeContext,Ge=ti(O.nextSibling),Ze=r,Ue=!0,Ii=null,Sn=!1,n!==null&&mn(r,n),r=Mf(r,d.children),r.flags|=4096);return r}return y?(rs(),O=d.fallback,y=r.mode,I=n.child,K=I.sibling,d=Qn(I,{mode:"hidden",children:d.children}),d.subtreeFlags=I.subtreeFlags&65011712,K!==null?O=Qn(K,O):(O=cr(O,y,o,null),O.flags|=2),O.return=r,d.return=r,d.sibling=O,r.child=d,Fl(null,d),d=r.child,O=n.child.memoizedState,O===null?O=Lf(o):(y=O.cachePool,y!==null?(I=zt._currentValue,y=y.parent!==I?{parent:I,pool:I}:y):y=g0(),O={baseLanes:O.baseLanes|o,cachePool:y}),d.memoizedState=O,d.childLanes=Pf(n,j,o),r.memoizedState=kf,Fl(n.child,d)):(is(r),o=n.child,n=o.sibling,o=Qn(o,{mode:"visible",children:d.children}),o.return=r,o.sibling=null,n!==null&&(j=r.deletions,j===null?(r.deletions=[n],r.flags|=16):j.push(n)),r.child=o,r.memoizedState=null,o)}function Mf(n,r){return r=Qu({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Qu(n,r){return n=ln(22,n,null,r),n.lanes=0,n}function Df(n,r,o){return fa(r,n.child,null,o),n=Mf(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Ay(n,r,o){n.lanes|=r;var d=n.alternate;d!==null&&(d.lanes|=r),Yh(n.return,r,o)}function zf(n,r,o,d,y,v){var j=n.memoizedState;j===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:y,treeForkCount:v}:(j.isBackwards=r,j.rendering=null,j.renderingStartTime=0,j.last=d,j.tail=o,j.tailMode=y,j.treeForkCount=v)}function Ry(n,r,o){var d=r.pendingProps,y=d.revealOrder,v=d.tail;d=d.children;var j=Lt.current,O=(j&2)!==0;if(O?(j=j&1|2,r.flags|=128):j&=1,ie(Lt,j),tn(n,r,d,o),d=Ue?C:0,!O&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ay(n,o,r);else if(n.tag===19)Ay(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(y){case"forwards":for(o=r.child,y=null;o!==null;)n=o.alternate,n!==null&&Vu(n)===null&&(y=o),o=o.sibling;o=y,o===null?(y=r.child,r.child=null):(y=o.sibling,o.sibling=null),zf(r,!1,y,o,v,d);break;case"backwards":case"unstable_legacy-backwards":for(o=null,y=r.child,r.child=null;y!==null;){if(n=y.alternate,n!==null&&Vu(n)===null){r.child=y;break}n=y.sibling,y.sibling=o,o=y,y=n}zf(r,!0,o,null,v,d);break;case"together":zf(r,!1,null,null,void 0,d);break;default:r.memoizedState=null}return r.child}function mr(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),os|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(co(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,o=Qn(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=Qn(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Bf(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Lu(n)))}function oS(n,r,o){switch(r.tag){case 3:et(r,r.stateNode.containerInfo),Qr(r,zt,n.memoizedState.cache),ur();break;case 27:case 5:Yi(r);break;case 4:et(r,r.stateNode.containerInfo);break;case 10:Qr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,cf(r),null;break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(is(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Cy(n,r,o):(is(r),n=mr(n,r,o),n!==null?n.sibling:null);is(r);break;case 19:var y=(n.flags&128)!==0;if(d=(o&r.childLanes)!==0,d||(co(n,r,o,!1),d=(o&r.childLanes)!==0),y){if(d)return Ry(n,r,o);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ie(Lt,Lt.current),d)break;return null;case 22:return r.lanes=0,wy(n,r,o,r.pendingProps);case 24:Qr(r,zt,n.memoizedState.cache)}return mr(n,r,o)}function Oy(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ut=!0;else{if(!Bf(n,o)&&(r.flags&128)===0)return Ut=!1,oS(n,r,o);Ut=(n.flags&131072)!==0}else Ut=!1,Ue&&(r.flags&1048576)!==0&&De(r,C,r.index);switch(r.lanes=0,r.tag){case 16:e:{var d=r.pendingProps;if(n=da(r.elementType),r.type=n,typeof n=="function")ao(n)?(d=pa(n,d),r.tag=1,r=Ey(null,r,n,d,o)):(r.tag=0,r=Of(null,r,n,d,o));else{if(n!=null){var y=n.$$typeof;if(y===Z){r.tag=11,r=xy(null,r,n,d,o);break e}else if(y===B){r.tag=14,r=by(null,r,n,d,o);break e}}throw r=Fe(n)||n,Error(s(306,r,""))}}return r;case 0:return Of(n,r,r.type,r.pendingProps,o);case 1:return d=r.type,y=pa(d,r.pendingProps),Ey(n,r,d,y,o);case 3:e:{if(et(r,r.stateNode.containerInfo),n===null)throw Error(s(387));d=r.pendingProps;var v=r.memoizedState;y=v.element,rf(n,r),Il(r,d,null,o);var j=r.memoizedState;if(d=j.cache,Qr(r,zt,d),d!==v.cache&&Xh(r,[zt],o,!0),Ul(),d=j.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:j.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=Ny(n,r,d,o);break e}else if(d!==y){y=u(Error(s(424)),r),oa(y),r=Ny(n,r,d,o);break e}else for(n=r.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Ge=ti(n.firstChild),Ze=r,Ue=!0,Ii=null,Sn=!0,o=w0(r,null,d,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ur(),d===y){r=mr(n,r,o);break e}tn(n,r,d,o)}r=r.child}return r;case 26:return Ju(n,r),n===null?(o=Hv(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ue||(o=r.type,n=r.pendingProps,d=pd(pe.current).createElement(o),d[Mt]=r,d[Wt]=n,nn(d,o,n),Dt(d),r.stateNode=d):r.memoizedState=Hv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Yi(r),n===null&&Ue&&(d=r.stateNode=Uv(r.type,r.pendingProps,pe.current),Ze=r,Sn=!0,y=Ge,hs(r.type)?(ym=y,Ge=ti(d.firstChild)):Ge=y),tn(n,r,r.pendingProps.children,o),Ju(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ue&&((y=d=Ge)&&(d=zS(d,r.type,r.pendingProps,Sn),d!==null?(r.stateNode=d,Ze=r,Ge=ti(d.firstChild),Sn=!1,y=!0):y=!1),y||Vi(r)),Yi(r),y=r.type,v=r.pendingProps,j=n!==null?n.memoizedProps:null,d=v.children,hm(y,v)?d=null:j!==null&&hm(y,j)&&(r.flags|=32),r.memoizedState!==null&&(y=df(n,r,J2,null,null,o),ac._currentValue=y),Ju(n,r),tn(n,r,d,o),r.child;case 6:return n===null&&Ue&&((n=o=Ge)&&(o=BS(o,r.pendingProps,Sn),o!==null?(r.stateNode=o,Ze=r,Ge=null,n=!0):n=!1),n||Vi(r)),null;case 13:return Cy(n,r,o);case 4:return et(r,r.stateNode.containerInfo),d=r.pendingProps,n===null?r.child=fa(r,null,d,o):tn(n,r,d,o),r.child;case 11:return xy(n,r,r.type,r.pendingProps,o);case 7:return tn(n,r,r.pendingProps,o),r.child;case 8:return tn(n,r,r.pendingProps.children,o),r.child;case 12:return tn(n,r,r.pendingProps.children,o),r.child;case 10:return d=r.pendingProps,Qr(r,r.type,d.value),tn(n,r,d.children,o),r.child;case 9:return y=r.type._context,d=r.pendingProps.children,ca(r),y=en(y),d=d(y),r.flags|=1,tn(n,r,d,o),r.child;case 14:return by(n,r,r.type,r.pendingProps,o);case 15:return _y(n,r,r.type,r.pendingProps,o);case 19:return Ry(n,r,o);case 31:return aS(n,r,o);case 22:return wy(n,r,o,r.pendingProps);case 24:return ca(r),d=en(zt),n===null?(y=ef(),y===null&&(y=ct,v=Jh(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=o),y=v),r.memoizedState={parent:d,cache:y},nf(r),Qr(r,zt,y)):((n.lanes&o)!==0&&(rf(n,r),Il(r,null,null,o),Ul()),y=n.memoizedState,v=r.memoizedState,y.parent!==d?(y={parent:d,cache:d},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),Qr(r,zt,d)):(d=v.cache,Qr(r,zt,d),d!==y.cache&&Xh(r,[zt],o,!0))),tn(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function pr(n){n.flags|=4}function Uf(n,r,o,d,y){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(y&335544128)===y)if(n.stateNode.complete)n.flags|=8192;else if(rv())n.flags|=8192;else throw ha=zu,tf}else n.flags&=-16777217}function ky(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Gv(r))if(rv())n.flags|=8192;else throw ha=zu,tf}function ed(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?ru():536870912,n.lanes|=r,wo|=r)}function Zl(n,r){if(!Ue)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function gt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,d=0;if(r)for(var y=n.child;y!==null;)o|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)o|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=d,n.childLanes=o,r}function lS(n,r,o){var d=r.pendingProps;switch(Ct(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return gt(r),null;case 3:return o=r.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),dr(zt),Je(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(gi(r)?pr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ll())),gt(r),null;case 26:var y=r.type,v=r.memoizedState;return n===null?(pr(r),v!==null?(gt(r),ky(r,v)):(gt(r),Uf(r,y,null,d,o))):v?v!==n.memoizedState?(pr(r),gt(r),ky(r,v)):(gt(r),r.flags&=-16777217):(n=n.memoizedProps,n!==d&&pr(r),gt(r),Uf(r,y,n,d,o)),null;case 27:if(Lr(r),o=pe.current,y=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==d&&pr(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return gt(r),null}n=ue.current,gi(r)?kl(r):(n=Uv(y,d,o),r.stateNode=n,pr(r))}return gt(r),null;case 5:if(Lr(r),y=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==d&&pr(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return gt(r),null}if(v=ue.current,gi(r))kl(r);else{var j=pd(pe.current);switch(v){case 1:v=j.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=j.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=j.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=j.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=j.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof d.is=="string"?j.createElement("select",{is:d.is}):j.createElement("select"),d.multiple?v.multiple=!0:d.size&&(v.size=d.size);break;default:v=typeof d.is=="string"?j.createElement(y,{is:d.is}):j.createElement(y)}}v[Mt]=r,v[Wt]=d;e:for(j=r.child;j!==null;){if(j.tag===5||j.tag===6)v.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===r)break e;for(;j.sibling===null;){if(j.return===null||j.return===r)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}r.stateNode=v;e:switch(nn(v,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&pr(r)}}return gt(r),Uf(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,o),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==d&&pr(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(s(166));if(n=pe.current,gi(r)){if(n=r.stateNode,o=r.memoizedProps,d=null,y=Ze,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}n[Mt]=r,n=!!(n.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||Cv(n.nodeValue,o)),n||Vi(r,!0)}else n=pd(n).createTextNode(d),n[Mt]=r,r.stateNode=n}return gt(r),null;case 31:if(o=r.memoizedState,n===null||n.memoizedState!==null){if(d=gi(r),o!==null){if(n===null){if(!d)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[Mt]=r}else ur(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),n=!1}else o=Ll(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return r.flags&256?(zn(r),r):(zn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return gt(r),null;case 13:if(d=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(y=gi(r),d!==null&&d.dehydrated!==null){if(n===null){if(!y)throw Error(s(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[Mt]=r}else ur(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),y=!1}else y=Ll(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(zn(r),r):(zn(r),null)}return zn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=d!==null,n=n!==null&&n.memoizedState!==null,o&&(d=r.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==y&&(d.flags|=2048)),o!==n&&o&&(r.child.flags|=8192),ed(r,r.updateQueue),gt(r),null);case 4:return Je(),n===null&&om(r.stateNode.containerInfo),gt(r),null;case 10:return dr(r.type),gt(r),null;case 19:if(Q(Lt),d=r.memoizedState,d===null)return gt(r),null;if(y=(r.flags&128)!==0,v=d.rendering,v===null)if(y)Zl(d,!1);else{if(Rt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(v=Vu(n),v!==null){for(r.flags|=128,Zl(d,!1),n=v.updateQueue,r.updateQueue=n,ed(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)Al(o,n),o=o.sibling;return ie(Lt,Lt.current&1|2),Ue&&_e(r,d.treeForkCount),r.child}n=n.sibling}d.tail!==null&&dn()>sd&&(r.flags|=128,y=!0,Zl(d,!1),r.lanes=4194304)}else{if(!y)if(n=Vu(v),n!==null){if(r.flags|=128,y=!0,n=n.updateQueue,r.updateQueue=n,ed(r,n),Zl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!v.alternate&&!Ue)return gt(r),null}else 2*dn()-d.renderingStartTime>sd&&o!==536870912&&(r.flags|=128,y=!0,Zl(d,!1),r.lanes=4194304);d.isBackwards?(v.sibling=r.child,r.child=v):(n=d.last,n!==null?n.sibling=v:r.child=v,d.last=v)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=dn(),n.sibling=null,o=Lt.current,ie(Lt,y?o&1|2:o&1),Ue&&_e(r,d.treeForkCount),n):(gt(r),null);case 22:case 23:return zn(r),lf(),d=r.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(o&536870912)!==0&&(r.flags&128)===0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),o=r.updateQueue,o!==null&&ed(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==o&&(r.flags|=2048),n!==null&&Q(ua),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),dr(zt),gt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function cS(n,r){switch(Ct(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return dr(zt),Je(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Lr(r),null;case 31:if(r.memoizedState!==null){if(zn(r),r.alternate===null)throw Error(s(340));ur()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(zn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ur()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Q(Lt),null;case 4:return Je(),null;case 10:return dr(r.type),null;case 22:case 23:return zn(r),lf(),n!==null&&Q(ua),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return dr(zt),null;case 25:return null;default:return null}}function Ly(n,r){switch(Ct(r),r.tag){case 3:dr(zt),Je();break;case 26:case 27:case 5:Lr(r);break;case 4:Je();break;case 31:r.memoizedState!==null&&zn(r);break;case 13:zn(r);break;case 19:Q(Lt);break;case 10:dr(r.type);break;case 22:case 23:zn(r),lf(),n!==null&&Q(ua);break;case 24:dr(zt)}}function Gl(n,r){try{var o=r.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var y=d.next;o=y;do{if((o.tag&n)===n){d=void 0;var v=o.create,j=o.inst;d=v(),j.destroy=d}o=o.next}while(o!==y)}}catch(O){nt(r,r.return,O)}}function ss(n,r,o){try{var d=r.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var v=y.next;d=v;do{if((d.tag&n)===n){var j=d.inst,O=j.destroy;if(O!==void 0){j.destroy=void 0,y=r;var I=o,K=O;try{K()}catch(ee){nt(y,I,ee)}}}d=d.next}while(d!==v)}}catch(ee){nt(r,r.return,ee)}}function Py(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{j0(r,o)}catch(d){nt(n,n.return,d)}}}function My(n,r,o){o.props=pa(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(d){nt(n,r,d)}}function Wl(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof o=="function"?n.refCleanup=o(d):o.current=d}}catch(y){nt(n,r,y)}}function $i(n,r){var o=n.ref,d=n.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(y){nt(n,r,y)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(y){nt(n,r,y)}else o.current=null}function Dy(n){var r=n.type,o=n.memoizedProps,d=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(y){nt(n,n.return,y)}}function If(n,r,o){try{var d=n.stateNode;OS(d,n.type,o,r),d[Wt]=r}catch(y){nt(n,n.return,y)}}function zy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&hs(n.type)||n.tag===4}function Vf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||zy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&hs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hf(n,r,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=xn));else if(d!==4&&(d===27&&hs(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Hf(n,r,o),n=n.sibling;n!==null;)Hf(n,r,o),n=n.sibling}function td(n,r,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(d!==4&&(d===27&&hs(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(td(n,r,o),n=n.sibling;n!==null;)td(n,r,o),n=n.sibling}function By(n){var r=n.stateNode,o=n.memoizedProps;try{for(var d=n.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);nn(r,d,o),r[Mt]=n,r[Wt]=o}catch(v){nt(n,n.return,v)}}var gr=!1,It=!1,$f=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function uS(n,r){if(n=n.containerInfo,um=wd,n=Qs(n),Mi(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var y=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var j=0,O=-1,I=-1,K=0,ee=0,ae=n,X=null;t:for(;;){for(var J;ae!==o||y!==0&&ae.nodeType!==3||(O=j+y),ae!==v||d!==0&&ae.nodeType!==3||(I=j+d),ae.nodeType===3&&(j+=ae.nodeValue.length),(J=ae.firstChild)!==null;)X=ae,ae=J;for(;;){if(ae===n)break t;if(X===o&&++K===y&&(O=j),X===v&&++ee===d&&(I=j),(J=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=J}o=O===-1||I===-1?null:{start:O,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(dm={focusedElem:n,selectionRange:o},wd=!1,Xt=r;Xt!==null;)if(r=Xt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Xt=n;else for(;Xt!==null;){switch(r=Xt,v=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)y=n[o],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,o=r,y=v.memoizedProps,v=v.memoizedState,d=o.stateNode;try{var ye=pa(o.type,y);n=d.getSnapshotBeforeUpdate(ye,v),d.__reactInternalSnapshotBeforeUpdate=n}catch(Ee){nt(o,o.return,Ee)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)mm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":mm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Xt=n;break}Xt=r.return}}function Iy(n,r,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:vr(n,o),d&4&&Gl(5,o);break;case 1:if(vr(n,o),d&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(j){nt(o,o.return,j)}else{var y=pa(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(y,r,n.__reactInternalSnapshotBeforeUpdate)}catch(j){nt(o,o.return,j)}}d&64&&Py(o),d&512&&Wl(o,o.return);break;case 3:if(vr(n,o),d&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{j0(n,r)}catch(j){nt(o,o.return,j)}}break;case 27:r===null&&d&4&&By(o);case 26:case 5:vr(n,o),r===null&&d&4&&Dy(o),d&512&&Wl(o,o.return);break;case 12:vr(n,o);break;case 31:vr(n,o),d&4&&$y(n,o);break;case 13:vr(n,o),d&4&&qy(n,o),d&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=xS.bind(null,o),US(n,o))));break;case 22:if(d=o.memoizedState!==null||gr,!d){r=r!==null&&r.memoizedState!==null||It,y=gr;var v=It;gr=d,(It=r)&&!v?xr(n,o,(o.subtreeFlags&8772)!==0):vr(n,o),gr=y,It=v}break;case 30:break;default:vr(n,o)}}function Vy(n){var r=n.alternate;r!==null&&(n.alternate=null,Vy(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&dl(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xt=null,jn=!1;function yr(n,r,o){for(o=o.child;o!==null;)Hy(n,r,o),o=o.sibling}function Hy(n,r,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Pr,o)}catch{}switch(o.tag){case 26:It||$i(o,r),yr(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:It||$i(o,r);var d=xt,y=jn;hs(o.type)&&(xt=o.stateNode,jn=!1),yr(n,r,o),ic(o.stateNode),xt=d,jn=y;break;case 5:It||$i(o,r);case 6:if(d=xt,y=jn,xt=null,yr(n,r,o),xt=d,jn=y,xt!==null)if(jn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(v){nt(o,r,v)}else try{xt.removeChild(o.stateNode)}catch(v){nt(o,r,v)}break;case 18:xt!==null&&(jn?(n=xt,Pv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Ro(n)):Pv(xt,o.stateNode));break;case 4:d=xt,y=jn,xt=o.stateNode.containerInfo,jn=!0,yr(n,r,o),xt=d,jn=y;break;case 0:case 11:case 14:case 15:ss(2,o,r),It||ss(4,o,r),yr(n,r,o);break;case 1:It||($i(o,r),d=o.stateNode,typeof d.componentWillUnmount=="function"&&My(o,r,d)),yr(n,r,o);break;case 21:yr(n,r,o);break;case 22:It=(d=It)||o.memoizedState!==null,yr(n,r,o),It=d;break;default:yr(n,r,o)}}function $y(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Ro(n)}catch(o){nt(r,r.return,o)}}}function qy(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ro(n)}catch(o){nt(r,r.return,o)}}function dS(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Uy),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Uy),r;default:throw Error(s(435,n.tag))}}function nd(n,r){var o=dS(n);r.forEach(function(d){if(!o.has(d)){o.add(d);var y=bS.bind(null,n,d);d.then(y,y)}})}function Tn(n,r){var o=r.deletions;if(o!==null)for(var d=0;d<o.length;d++){var y=o[d],v=n,j=r,O=j;e:for(;O!==null;){switch(O.tag){case 27:if(hs(O.type)){xt=O.stateNode,jn=!1;break e}break;case 5:xt=O.stateNode,jn=!1;break e;case 3:case 4:xt=O.stateNode.containerInfo,jn=!0;break e}O=O.return}if(xt===null)throw Error(s(160));Hy(v,j,y),xt=null,jn=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Fy(r,n),r=r.sibling}var vi=null;function Fy(n,r){var o=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Tn(r,n),En(n),d&4&&(ss(3,n,n.return),Gl(3,n),ss(5,n,n.return));break;case 1:Tn(r,n),En(n),d&512&&(It||o===null||$i(o,o.return)),d&64&&gr&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var y=vi;if(Tn(r,n),En(n),d&512&&(It||o===null||$i(o,o.return)),d&4){var v=o!==null?o.memoizedState:null;if(d=n.memoizedState,o===null)if(d===null)if(n.stateNode===null){e:{d=n.type,o=n.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":v=y.getElementsByTagName("title")[0],(!v||v[zs]||v[Mt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(d),y.head.insertBefore(v,y.querySelector("head > title"))),nn(v,d,o),v[Mt]=n,Dt(v),d=v;break e;case"link":var j=Fv("link","href",y).get(d+(o.href||""));if(j){for(var O=0;O<j.length;O++)if(v=j[O],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){j.splice(O,1);break t}}v=y.createElement(d),nn(v,d,o),y.head.appendChild(v);break;case"meta":if(j=Fv("meta","content",y).get(d+(o.content||""))){for(O=0;O<j.length;O++)if(v=j[O],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){j.splice(O,1);break t}}v=y.createElement(d),nn(v,d,o),y.head.appendChild(v);break;default:throw Error(s(468,d))}v[Mt]=n,Dt(v),d=v}n.stateNode=d}else Zv(y,n.type,n.stateNode);else n.stateNode=qv(y,d,n.memoizedProps);else v!==d?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,d===null?Zv(y,n.type,n.stateNode):qv(y,d,n.memoizedProps)):d===null&&n.stateNode!==null&&If(n,n.memoizedProps,o.memoizedProps)}break;case 27:Tn(r,n),En(n),d&512&&(It||o===null||$i(o,o.return)),o!==null&&d&4&&If(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Tn(r,n),En(n),d&512&&(It||o===null||$i(o,o.return)),n.flags&32){y=n.stateNode;try{Zn(y,"")}catch(ye){nt(n,n.return,ye)}}d&4&&n.stateNode!=null&&(y=n.memoizedProps,If(n,y,o!==null?o.memoizedProps:y)),d&1024&&($f=!0);break;case 6:if(Tn(r,n),En(n),d&4){if(n.stateNode===null)throw Error(s(162));d=n.memoizedProps,o=n.stateNode;try{o.nodeValue=d}catch(ye){nt(n,n.return,ye)}}break;case 3:if(vd=null,y=vi,vi=gd(r.containerInfo),Tn(r,n),vi=y,En(n),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Ro(r.containerInfo)}catch(ye){nt(n,n.return,ye)}$f&&($f=!1,Zy(n));break;case 4:d=vi,vi=gd(n.stateNode.containerInfo),Tn(r,n),En(n),vi=d;break;case 12:Tn(r,n),En(n);break;case 31:Tn(r,n),En(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,nd(n,d)));break;case 13:Tn(r,n),En(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(rd=dn()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,nd(n,d)));break;case 22:y=n.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,K=gr,ee=It;if(gr=K||y,It=ee||I,Tn(r,n),It=ee,gr=K,En(n),d&8192)e:for(r=n.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(o===null||I||gr||It||ga(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){I=o=r;try{if(v=I.stateNode,y)j=v.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{O=I.stateNode;var ae=I.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;O.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ye){nt(I,I.return,ye)}}}else if(r.tag===6){if(o===null){I=r;try{I.stateNode.nodeValue=y?"":I.memoizedProps}catch(ye){nt(I,I.return,ye)}}}else if(r.tag===18){if(o===null){I=r;try{var J=I.stateNode;y?Mv(J,!0):Mv(I.stateNode,!1)}catch(ye){nt(I,I.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=n.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,nd(n,o))));break;case 19:Tn(r,n),En(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,nd(n,d)));break;case 30:break;case 21:break;default:Tn(r,n),En(n)}}function En(n){var r=n.flags;if(r&2){try{for(var o,d=n.return;d!==null;){if(zy(d)){o=d;break}d=d.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var y=o.stateNode,v=Vf(n);td(n,v,y);break;case 5:var j=o.stateNode;o.flags&32&&(Zn(j,""),o.flags&=-33);var O=Vf(n);td(n,O,j);break;case 3:case 4:var I=o.stateNode.containerInfo,K=Vf(n);Hf(n,K,I);break;default:throw Error(s(161))}}catch(ee){nt(n,n.return,ee)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Zy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Zy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function vr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Iy(n,r.alternate,r),r=r.sibling}function ga(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ss(4,r,r.return),ga(r);break;case 1:$i(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&My(r,r.return,o),ga(r);break;case 27:ic(r.stateNode);case 26:case 5:$i(r,r.return),ga(r);break;case 22:r.memoizedState===null&&ga(r);break;case 30:ga(r);break;default:ga(r)}n=n.sibling}}function xr(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,y=n,v=r,j=v.flags;switch(v.tag){case 0:case 11:case 15:xr(y,v,o),Gl(4,v);break;case 1:if(xr(y,v,o),d=v,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(K){nt(d,d.return,K)}if(d=v,y=d.updateQueue,y!==null){var O=d.stateNode;try{var I=y.shared.hiddenCallbacks;if(I!==null)for(y.shared.hiddenCallbacks=null,y=0;y<I.length;y++)S0(I[y],O)}catch(K){nt(d,d.return,K)}}o&&j&64&&Py(v),Wl(v,v.return);break;case 27:By(v);case 26:case 5:xr(y,v,o),o&&d===null&&j&4&&Dy(v),Wl(v,v.return);break;case 12:xr(y,v,o);break;case 31:xr(y,v,o),o&&j&4&&$y(y,v);break;case 13:xr(y,v,o),o&&j&4&&qy(y,v);break;case 22:v.memoizedState===null&&xr(y,v,o),Wl(v,v.return);break;case 30:break;default:xr(y,v,o)}r=r.sibling}}function qf(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Pl(o))}function Ff(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Pl(n))}function xi(n,r,o,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Gy(n,r,o,d),r=r.sibling}function Gy(n,r,o,d){var y=r.flags;switch(r.tag){case 0:case 11:case 15:xi(n,r,o,d),y&2048&&Gl(9,r);break;case 1:xi(n,r,o,d);break;case 3:xi(n,r,o,d),y&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Pl(n)));break;case 12:if(y&2048){xi(n,r,o,d),n=r.stateNode;try{var v=r.memoizedProps,j=v.id,O=v.onPostCommit;typeof O=="function"&&O(j,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){nt(r,r.return,I)}}else xi(n,r,o,d);break;case 31:xi(n,r,o,d);break;case 13:xi(n,r,o,d);break;case 23:break;case 22:v=r.stateNode,j=r.alternate,r.memoizedState!==null?v._visibility&2?xi(n,r,o,d):Kl(n,r):v._visibility&2?xi(n,r,o,d):(v._visibility|=2,xo(n,r,o,d,(r.subtreeFlags&10256)!==0||!1)),y&2048&&qf(j,r);break;case 24:xi(n,r,o,d),y&2048&&Ff(r.alternate,r);break;default:xi(n,r,o,d)}}function xo(n,r,o,d,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var v=n,j=r,O=o,I=d,K=j.flags;switch(j.tag){case 0:case 11:case 15:xo(v,j,O,I,y),Gl(8,j);break;case 23:break;case 22:var ee=j.stateNode;j.memoizedState!==null?ee._visibility&2?xo(v,j,O,I,y):Kl(v,j):(ee._visibility|=2,xo(v,j,O,I,y)),y&&K&2048&&qf(j.alternate,j);break;case 24:xo(v,j,O,I,y),y&&K&2048&&Ff(j.alternate,j);break;default:xo(v,j,O,I,y)}r=r.sibling}}function Kl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,d=r,y=d.flags;switch(d.tag){case 22:Kl(o,d),y&2048&&qf(d.alternate,d);break;case 24:Kl(o,d),y&2048&&Ff(d.alternate,d);break;default:Kl(o,d)}r=r.sibling}}var Yl=8192;function bo(n,r,o){if(n.subtreeFlags&Yl)for(n=n.child;n!==null;)Wy(n,r,o),n=n.sibling}function Wy(n,r,o){switch(n.tag){case 26:bo(n,r,o),n.flags&Yl&&n.memoizedState!==null&&XS(o,vi,n.memoizedState,n.memoizedProps);break;case 5:bo(n,r,o);break;case 3:case 4:var d=vi;vi=gd(n.stateNode.containerInfo),bo(n,r,o),vi=d;break;case 22:n.memoizedState===null&&(d=n.alternate,d!==null&&d.memoizedState!==null?(d=Yl,Yl=16777216,bo(n,r,o),Yl=d):bo(n,r,o));break;default:bo(n,r,o)}}function Ky(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Xl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var d=r[o];Xt=d,Xy(d,n)}Ky(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yy(n),n=n.sibling}function Yy(n){switch(n.tag){case 0:case 11:case 15:Xl(n),n.flags&2048&&ss(9,n,n.return);break;case 3:Xl(n);break;case 12:Xl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,id(n)):Xl(n);break;default:Xl(n)}}function id(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var d=r[o];Xt=d,Xy(d,n)}Ky(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ss(8,r,r.return),id(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,id(r));break;default:id(r)}n=n.sibling}}function Xy(n,r){for(;Xt!==null;){var o=Xt;switch(o.tag){case 0:case 11:case 15:ss(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Pl(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,Xt=d;else e:for(o=n;Xt!==null;){d=Xt;var y=d.sibling,v=d.return;if(Vy(d),d===o){Xt=null;break e}if(y!==null){y.return=v,Xt=y;break e}Xt=v}}}var hS={getCacheForType:function(n){var r=en(zt),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o},cacheSignal:function(){return en(zt).controller.signal}},fS=typeof WeakMap=="function"?WeakMap:Map,Xe=0,ct=null,Ie=null,$e=0,tt=0,Bn=null,as=!1,_o=!1,Zf=!1,br=0,Rt=0,os=0,ya=0,Gf=0,Un=0,wo=0,Jl=null,Nn=null,Wf=!1,rd=0,Jy=0,sd=1/0,ad=null,ls=null,Ft=0,cs=null,So=null,_r=0,Kf=0,Yf=null,Qy=null,Ql=0,Xf=null;function In(){return(Xe&2)!==0&&$e!==0?$e&-$e:$.T!==null?im():cl()}function ev(){if(Un===0)if(($e&536870912)===0||Ue){var n=Ps;Ps<<=1,(Ps&3932160)===0&&(Ps=262144),Un=n}else Un=536870912;return n=Dn.current,n!==null&&(n.flags|=32),Un}function Cn(n,r,o){(n===ct&&(tt===2||tt===9)||n.cancelPendingCommit!==null)&&(jo(n,0),us(n,$e,Un,!1)),er(n,o),((Xe&2)===0||n!==ct)&&(n===ct&&((Xe&2)===0&&(ya|=o),Rt===4&&us(n,$e,Un,!1)),qi(n))}function tv(n,r,o){if((Xe&6)!==0)throw Error(s(327));var d=!o&&(r&127)===0&&(r&n.expiredLanes)===0||Ds(n,r),y=d?gS(n,r):Qf(n,r,!0),v=d;do{if(y===0){_o&&!d&&us(n,r,0,!1);break}else{if(o=n.current.alternate,v&&!mS(o)){y=Qf(n,r,!1),v=!1;continue}if(y===2){if(v=r,n.errorRecoveryDisabledLanes&v)var j=0;else j=n.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){r=j;e:{var O=n;y=Jl;var I=O.current.memoizedState.isDehydrated;if(I&&(jo(O,j).flags|=256),j=Qf(O,j,!1),j!==2){if(Zf&&!I){O.errorRecoveryDisabledLanes|=v,ya|=v,y=4;break e}v=Nn,Nn=y,v!==null&&(Nn===null?Nn=v:Nn.push.apply(Nn,v))}y=j}if(v=!1,y!==2)continue}}if(y===1){jo(n,0),us(n,r,0,!0);break}e:{switch(d=n,v=y,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:us(d,r,Un,!as);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(y=rd+300-dn(),10<y)){if(us(d,r,Un,!as),$a(d,0,!0)!==0)break e;_r=r,d.timeoutHandle=kv(nv.bind(null,d,o,Nn,ad,Wf,r,Un,ya,wo,as,v,"Throttled",-0,0),y);break e}nv(d,o,Nn,ad,Wf,r,Un,ya,wo,as,v,null,-0,0)}}break}while(!0);qi(n)}function nv(n,r,o,d,y,v,j,O,I,K,ee,ae,X,J){if(n.timeoutHandle=-1,ae=r.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xn},Wy(r,v,ae);var ye=(v&62914560)===v?rd-dn():(v&4194048)===v?Jy-dn():0;if(ye=JS(ae,ye),ye!==null){_r=v,n.cancelPendingCommit=ye(uv.bind(null,n,r,v,o,d,y,j,O,I,ee,ae,null,X,J)),us(n,v,j,!K);return}}uv(n,r,v,o,d,y,j,O,I)}function mS(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var y=o[d],v=y.getSnapshot;y=y.value;try{if(!Kt(v(),y))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function us(n,r,o,d){r&=~Gf,r&=~ya,n.suspendedLanes|=r,n.pingedLanes&=~r,d&&(n.warmLanes|=r),d=n.expirationTimes;for(var y=r;0<y;){var v=31-hn(y),j=1<<v;d[v]=-1,y&=~j}o!==0&&su(n,o,r)}function od(){return(Xe&6)===0?(ec(0),!1):!0}function Jf(){if(Ie!==null){if(tt===0)var n=Ie.return;else n=Ie,yi=Hi=null,mf(n),mo=null,Dl=0,n=Ie;for(;n!==null;)Ly(n.alternate,n),n=n.return;Ie=null}}function jo(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,PS(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),_r=0,Jf(),ct=n,Ie=o=Qn(n.current,null),$e=r,tt=0,Bn=null,as=!1,_o=Ds(n,r),Zf=!1,wo=Un=Gf=ya=os=Rt=0,Nn=Jl=null,Wf=!1,(r&8)!==0&&(r|=r&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=r;0<d;){var y=31-hn(d),v=1<<y;r|=n[y],d&=~v}return br=r,ra(),o}function iv(n,r){Me=null,$.H=ql,r===fo||r===Du?(r=x0(),tt=3):r===tf?(r=x0(),tt=4):tt=r===Rf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,Ie===null&&(Rt=1,Yu(n,u(r,n.current)))}function rv(){var n=Dn.current;return n===null?!0:($e&4194048)===$e?ei===null:($e&62914560)===$e||($e&536870912)!==0?n===ei:!1}function sv(){var n=$.H;return $.H=ql,n===null?ql:n}function av(){var n=$.A;return $.A=hS,n}function ld(){Rt=4,as||($e&4194048)!==$e&&Dn.current!==null||(_o=!0),(os&134217727)===0&&(ya&134217727)===0||ct===null||us(ct,$e,Un,!1)}function Qf(n,r,o){var d=Xe;Xe|=2;var y=sv(),v=av();(ct!==n||$e!==r)&&(ad=null,jo(n,r)),r=!1;var j=Rt;e:do try{if(tt!==0&&Ie!==null){var O=Ie,I=Bn;switch(tt){case 8:Jf(),j=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(r=!0);var K=tt;if(tt=0,Bn=null,To(n,O,I,K),o&&_o){j=0;break e}break;default:K=tt,tt=0,Bn=null,To(n,O,I,K)}}pS(),j=Rt;break}catch(ee){iv(n,ee)}while(!0);return r&&n.shellSuspendCounter++,yi=Hi=null,Xe=d,$.H=y,$.A=v,Ie===null&&(ct=null,$e=0,ra()),j}function pS(){for(;Ie!==null;)ov(Ie)}function gS(n,r){var o=Xe;Xe|=2;var d=sv(),y=av();ct!==n||$e!==r?(ad=null,sd=dn()+500,jo(n,r)):_o=Ds(n,r);e:do try{if(tt!==0&&Ie!==null){r=Ie;var v=Bn;t:switch(tt){case 1:tt=0,Bn=null,To(n,r,v,1);break;case 2:case 9:if(y0(v)){tt=0,Bn=null,lv(r);break}r=function(){tt!==2&&tt!==9||ct!==n||(tt=7),qi(n)},v.then(r,r);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:y0(v)?(tt=0,Bn=null,lv(r)):(tt=0,Bn=null,To(n,r,v,7));break;case 5:var j=null;switch(Ie.tag){case 26:j=Ie.memoizedState;case 5:case 27:var O=Ie;if(j?Gv(j):O.stateNode.complete){tt=0,Bn=null;var I=O.sibling;if(I!==null)Ie=I;else{var K=O.return;K!==null?(Ie=K,cd(K)):Ie=null}break t}}tt=0,Bn=null,To(n,r,v,5);break;case 6:tt=0,Bn=null,To(n,r,v,6);break;case 8:Jf(),Rt=6;break e;default:throw Error(s(462))}}yS();break}catch(ee){iv(n,ee)}while(!0);return yi=Hi=null,$.H=d,$.A=y,Xe=o,Ie!==null?0:(ct=null,$e=0,ra(),Rt)}function yS(){for(;Ie!==null&&!tu();)ov(Ie)}function ov(n){var r=Oy(n.alternate,n,br);n.memoizedProps=n.pendingProps,r===null?cd(n):Ie=r}function lv(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=Ty(o,r,r.pendingProps,r.type,void 0,$e);break;case 11:r=Ty(o,r,r.pendingProps,r.type.render,r.ref,$e);break;case 5:mf(r);default:Ly(o,r),r=Ie=Al(r,br),r=Oy(o,r,br)}n.memoizedProps=n.pendingProps,r===null?cd(n):Ie=r}function To(n,r,o,d){yi=Hi=null,mf(r),mo=null,Dl=0;var y=r.return;try{if(sS(n,y,r,o,$e)){Rt=1,Yu(n,u(o,n.current)),Ie=null;return}}catch(v){if(y!==null)throw Ie=y,v;Rt=1,Yu(n,u(o,n.current)),Ie=null;return}r.flags&32768?(Ue||d===1?n=!0:_o||($e&536870912)!==0?n=!1:(as=n=!0,(d===2||d===9||d===3||d===6)&&(d=Dn.current,d!==null&&d.tag===13&&(d.flags|=16384))),cv(r,n)):cd(r)}function cd(n){var r=n;do{if((r.flags&32768)!==0){cv(r,as);return}n=r.return;var o=lS(r.alternate,r,br);if(o!==null){Ie=o;return}if(r=r.sibling,r!==null){Ie=r;return}Ie=r=n}while(r!==null);Rt===0&&(Rt=5)}function cv(n,r){do{var o=cS(n.alternate,n);if(o!==null){o.flags&=32767,Ie=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Ie=n;return}Ie=n=o}while(n!==null);Rt=6,Ie=null}function uv(n,r,o,d,y,v,j,O,I){n.cancelPendingCommit=null;do ud();while(Ft!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=so,Ph(n,o,v,j,O,I),n===ct&&(Ie=ct=null,$e=0),So=r,cs=n,_r=o,Kf=v,Yf=y,Qy=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,_S(Os,function(){return pv(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,y=oe.p,oe.p=2,j=Xe,Xe|=4;try{uS(n,r,o)}finally{Xe=j,oe.p=y,$.T=d}}Ft=1,dv(),hv(),fv()}}function dv(){if(Ft===1){Ft=0;var n=cs,r=So,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var d=oe.p;oe.p=2;var y=Xe;Xe|=4;try{Fy(r,n);var v=dm,j=Qs(n.containerInfo),O=v.focusedElem,I=v.selectionRange;if(j!==O&&O&&O.ownerDocument&&to(O.ownerDocument.documentElement,O)){if(I!==null&&Mi(O)){var K=I.start,ee=I.end;if(ee===void 0&&(ee=K),"selectionStart"in O)O.selectionStart=K,O.selectionEnd=Math.min(ee,O.value.length);else{var ae=O.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var J=X.getSelection(),ye=O.textContent.length,Ee=Math.min(I.start,ye),ot=I.end===void 0?Ee:Math.min(I.end,ye);!J.extend&&Ee>ot&&(j=ot,ot=Ee,Ee=j);var q=Js(O,Ee),H=Js(O,ot);if(q&&H&&(J.rangeCount!==1||J.anchorNode!==q.node||J.anchorOffset!==q.offset||J.focusNode!==H.node||J.focusOffset!==H.offset)){var W=ae.createRange();W.setStart(q.node,q.offset),J.removeAllRanges(),Ee>ot?(J.addRange(W),J.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),J.addRange(W))}}}}for(ae=[],J=O;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ae.length;O++){var re=ae[O];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}wd=!!um,dm=um=null}finally{Xe=y,oe.p=d,$.T=o}}n.current=r,Ft=2}}function hv(){if(Ft===2){Ft=0;var n=cs,r=So,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var d=oe.p;oe.p=2;var y=Xe;Xe|=4;try{Iy(n,r.alternate,r)}finally{Xe=y,oe.p=d,$.T=o}}Ft=3}}function fv(){if(Ft===4||Ft===3){Ft=0,nu();var n=cs,r=So,o=_r,d=Qy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ft=5:(Ft=0,So=cs=null,mv(n,n.pendingLanes));var y=n.pendingLanes;if(y===0&&(ls=null),be(o),r=r.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Pr,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=$.T,y=oe.p,oe.p=2,$.T=null;try{for(var v=n.onRecoverableError,j=0;j<d.length;j++){var O=d[j];v(O.value,{componentStack:O.stack})}}finally{$.T=r,oe.p=y}}(_r&3)!==0&&ud(),qi(n),y=n.pendingLanes,(o&261930)!==0&&(y&42)!==0?n===Xf?Ql++:(Ql=0,Xf=n):Ql=0,ec(0)}}function mv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Pl(r)))}function ud(){return dv(),hv(),fv(),pv()}function pv(){if(Ft!==5)return!1;var n=cs,r=Kf;Kf=0;var o=be(_r),d=$.T,y=oe.p;try{oe.p=32>o?32:o,$.T=null,o=Yf,Yf=null;var v=cs,j=_r;if(Ft=0,So=cs=null,_r=0,(Xe&6)!==0)throw Error(s(331));var O=Xe;if(Xe|=4,Yy(v.current),Gy(v,v.current,j,o),Xe=O,ec(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Pr,v)}catch{}return!0}finally{oe.p=y,$.T=d,mv(n,r)}}function gv(n,r,o){r=u(o,r),r=Af(n.stateNode,r,2),n=ns(n,r,2),n!==null&&(er(n,2),qi(n))}function nt(n,r,o){if(n.tag===3)gv(n,n,o);else for(;r!==null;){if(r.tag===3){gv(r,n,o);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ls===null||!ls.has(d))){n=u(o,n),o=yy(2),d=ns(r,o,2),d!==null&&(vy(o,d,r,n),er(d,2),qi(d));break}}r=r.return}}function em(n,r,o){var d=n.pingCache;if(d===null){d=n.pingCache=new fS;var y=new Set;d.set(r,y)}else y=d.get(r),y===void 0&&(y=new Set,d.set(r,y));y.has(o)||(Zf=!0,y.add(o),n=vS.bind(null,n,r,o),r.then(n,n))}function vS(n,r,o){var d=n.pingCache;d!==null&&d.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ct===n&&($e&o)===o&&(Rt===4||Rt===3&&($e&62914560)===$e&&300>dn()-rd?(Xe&2)===0&&jo(n,0):Gf|=o,wo===$e&&(wo=0)),qi(n)}function yv(n,r){r===0&&(r=ru()),n=Jn(n,r),n!==null&&(er(n,r),qi(n))}function xS(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),yv(n,o)}function bS(n,r){var o=0;switch(n.tag){case 31:case 13:var d=n.stateNode,y=n.memoizedState;y!==null&&(o=y.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(r),yv(n,o)}function _S(n,r){return Va(n,r)}var dd=null,Eo=null,tm=!1,hd=!1,nm=!1,ds=0;function qi(n){n!==Eo&&n.next===null&&(Eo===null?dd=Eo=n:Eo=Eo.next=n),hd=!0,tm||(tm=!0,SS())}function ec(n,r){if(!nm&&hd){nm=!0;do for(var o=!1,d=dd;d!==null;){if(n!==0){var y=d.pendingLanes;if(y===0)var v=0;else{var j=d.suspendedLanes,O=d.pingedLanes;v=(1<<31-hn(42|n)+1)-1,v&=y&~(j&~O),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,_v(d,v))}else v=$e,v=$a(d,d===ct?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Ds(d,v)||(o=!0,_v(d,v));d=d.next}while(o);nm=!1}}function wS(){vv()}function vv(){hd=tm=!1;var n=0;ds!==0&&LS()&&(n=ds);for(var r=dn(),o=null,d=dd;d!==null;){var y=d.next,v=xv(d,r);v===0?(d.next=null,o===null?dd=y:o.next=y,y===null&&(Eo=o)):(o=d,(n!==0||(v&3)!==0)&&(hd=!0)),d=y}Ft!==0&&Ft!==5||ec(n),ds!==0&&(ds=0)}function xv(n,r){for(var o=n.suspendedLanes,d=n.pingedLanes,y=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var j=31-hn(v),O=1<<j,I=y[j];I===-1?((O&o)===0||(O&d)!==0)&&(y[j]=Lh(O,r)):I<=r&&(n.expiredLanes|=O),v&=~O}if(r=ct,o=$e,o=$a(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,o===0||n===r&&(tt===2||tt===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&Rs(d),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ds(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(d!==null&&Rs(d),be(o)){case 2:case 8:o=al;break;case 32:o=Os;break;case 268435456:o=ol;break;default:o=Os}return d=bv.bind(null,n),o=Va(o,d),n.callbackPriority=r,n.callbackNode=o,r}return d!==null&&d!==null&&Rs(d),n.callbackPriority=2,n.callbackNode=null,2}function bv(n,r){if(Ft!==0&&Ft!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(ud()&&n.callbackNode!==o)return null;var d=$e;return d=$a(n,n===ct?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(tv(n,d,r),xv(n,dn()),n.callbackNode!=null&&n.callbackNode===o?bv.bind(null,n):null)}function _v(n,r){if(ud())return null;tv(n,r,!0)}function SS(){MS(function(){(Xe&6)!==0?Va(Ha,wS):vv()})}function im(){if(ds===0){var n=uo;n===0&&(n=Ls,Ls<<=1,(Ls&261888)===0&&(Ls=256)),ds=n}return ds}function wv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ir(""+n)}function Sv(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function jS(n,r,o,d,y){if(r==="submit"&&o&&o.stateNode===y){var v=wv((y[Wt]||null).action),j=d.submitter;j&&(r=(r=j[Wt]||null)?wv(r.formAction):j.getAttribute("formAction"),r!==null&&(v=r,j=null));var O=new Wa("action","action",null,d,y);n.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ds!==0){var I=j?Sv(y,j):new FormData(y);Sf(o,{pending:!0,data:I,method:y.method,action:v},null,I)}}else typeof v=="function"&&(O.preventDefault(),I=j?Sv(y,j):new FormData(y),Sf(o,{pending:!0,data:I,method:y.method,action:v},v,I))},currentTarget:y}]})}}for(var rm=0;rm<Bi.length;rm++){var sm=Bi[rm],TS=sm.toLowerCase(),ES=sm[0].toUpperCase()+sm.slice(1);_n(TS,"on"+ES)}_n(ta,"onAnimationEnd"),_n(Ru,"onAnimationIteration"),_n(na,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(Gh,"onTransitionRun"),_n(Ou,"onTransitionStart"),_n(Wh,"onTransitionCancel"),_n(Xr,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tc));function jv(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var d=n[o],y=d.event;d=d.listeners;e:{var v=void 0;if(r)for(var j=d.length-1;0<=j;j--){var O=d[j],I=O.instance,K=O.currentTarget;if(O=O.listener,I!==v&&y.isPropagationStopped())break e;v=O,y.currentTarget=K;try{v(y)}catch(ee){ia(ee)}y.currentTarget=null,v=I}else for(j=0;j<d.length;j++){if(O=d[j],I=O.instance,K=O.currentTarget,O=O.listener,I!==v&&y.isPropagationStopped())break e;v=O,y.currentTarget=K;try{v(y)}catch(ee){ia(ee)}y.currentTarget=null,v=I}}}}function Ve(n,r){var o=r[Ai];o===void 0&&(o=r[Ai]=new Set);var d=n+"__bubble";o.has(d)||(Tv(r,n,2,!1),o.add(d))}function am(n,r,o){var d=0;r&&(d|=4),Tv(o,n,d,r)}var fd="_reactListening"+Math.random().toString(36).slice(2);function om(n){if(!n[fd]){n[fd]=!0,uu.forEach(function(o){o!=="selectionchange"&&(NS.has(o)||am(o,!1,n),am(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[fd]||(r[fd]=!0,am("selectionchange",!1,r))}}function Tv(n,r,o,d){switch(ex(r)){case 2:var y=tj;break;case 8:y=nj;break;default:y=wm}o=y.bind(null,r,o,n),y=void 0,!$s||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),d?y!==void 0?n.addEventListener(r,o,{capture:!0,passive:y}):n.addEventListener(r,o,!0):y!==void 0?n.addEventListener(r,o,{passive:y}):n.addEventListener(r,o,!1)}function lm(n,r,o,d,y){var v=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var j=d.tag;if(j===3||j===4){var O=d.stateNode.containerInfo;if(O===y)break;if(j===4)for(j=d.return;j!==null;){var I=j.tag;if((I===3||I===4)&&j.stateNode.containerInfo===y)return;j=j.return}for(;O!==null;){if(j=nr(O),j===null)return;if(I=j.tag,I===5||I===6||I===26||I===27){d=v=j;continue e}O=O.parentNode}}d=d.return}vl(function(){var K=v,ee=Hs(o),ae=[];e:{var X=ku.get(n);if(X!==void 0){var J=Wa,ye=n;switch(n){case"keypress":if(qs(o)===0)break e;case"keydown":case"keyup":J=vu;break;case"focusin":ye="focus",J=_l;break;case"focusout":ye="blur",J=_l;break;case"beforeblur":case"afterblur":J=_l;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Vh;break;case ta:case Ru:case na:J=wl;break;case Xr:J=_u;break;case"scroll":case"scrollend":J=He;break;case"wheel":J=or;break;case"copy":case"cut":case"paste":J=Wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=xu;break;case"toggle":case"beforetoggle":J=Gs}var Ee=(r&4)!==0,ot=!Ee&&(n==="scroll"||n==="scrollend"),q=Ee?X!==null?X+"Capture":null:X;Ee=[];for(var H=K,W;H!==null;){var re=H;if(W=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||W===null||q===null||(re=sr(H,q),re!=null&&Ee.push(nc(H,re,W))),ot)break;H=H.return}0<Ee.length&&(X=new J(X,ye,null,o,ee),ae.push({event:X,listeners:Ee}))}}if((r&7)===0){e:{if(X=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",X&&o!==Ga&&(ye=o.relatedTarget||o.fromElement)&&(nr(ye)||ye[tr]))break e;if((J||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,J?(ye=o.relatedTarget||o.toElement,J=K,ye=ye?nr(ye):null,ye!==null&&(ot=h(ye),Ee=ye.tag,ye!==ot||Ee!==5&&Ee!==27&&Ee!==6)&&(ye=null)):(J=null,ye=K),J!==ye)){if(Ee=fu,re="onMouseLeave",q="onMouseEnter",H="mouse",(n==="pointerout"||n==="pointerover")&&(Ee=xu,re="onPointerLeave",q="onPointerEnter",H="pointer"),ot=J==null?X:Ri(J),W=ye==null?X:Ri(ye),X=new Ee(re,H+"leave",J,o,ee),X.target=ot,X.relatedTarget=W,re=null,nr(ee)===K&&(Ee=new Ee(q,H+"enter",ye,o,ee),Ee.target=W,Ee.relatedTarget=ot,re=Ee),ot=re,J&&ye)t:{for(Ee=CS,q=J,H=ye,W=0,re=q;re;re=Ee(re))W++;re=0;for(var Se=H;Se;Se=Ee(Se))re++;for(;0<W-re;)q=Ee(q),W--;for(;0<re-W;)H=Ee(H),re--;for(;W--;){if(q===H||H!==null&&q===H.alternate){Ee=q;break t}q=Ee(q),H=Ee(H)}Ee=null}else Ee=null;J!==null&&Ev(ae,X,J,Ee,!1),ye!==null&&ot!==null&&Ev(ae,ot,ye,Ee,!0)}}e:{if(X=K?Ri(K):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var We=Xs;else if(Kn(X))if(Tu)We=Zh;else{We=Fh;var xe=mi}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&Vs(K.elementType)&&(We=Xs):We=Gr;if(We&&(We=We(n,K))){ju(ae,We,o,ee);break e}xe&&xe(n,X,K),n==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&di(X,"number",X.value)}switch(xe=K?Ri(K):window,n){case"focusin":(Kn(xe)||xe.contentEditable==="true")&&(Di=xe,io=K,ea=null);break;case"focusout":ea=io=Di=null;break;case"mousedown":Kr=!0;break;case"contextmenu":case"mouseup":case"dragend":Kr=!1,Cu(ae,o,ee);break;case"selectionchange":if(no)break;case"keydown":case"keyup":Cu(ae,o,ee)}var ze;if(Ya)e:{switch(n){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else qr?Su(n,o)&&(qe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(qe="onCompositionStart");qe&&(Xa&&o.locale!=="ko"&&(qr||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&qr&&(ze=Li()):(Gn=ee,ar="value"in Gn?Gn.value:Gn.textContent,qr=!0)),xe=md(K,qe),0<xe.length&&(qe=new Sl(qe,n,null,o,ee),ae.push({event:qe,listeners:xe}),ze?qe.data=ze:(ze=Nl(o),ze!==null&&(qe.data=ze)))),(ze=$h?Mn(n,o):Fr(n,o))&&(qe=md(K,"onBeforeInput"),0<qe.length&&(xe=new Sl("onBeforeInput","beforeinput",null,o,ee),ae.push({event:xe,listeners:qe}),xe.data=ze)),jS(ae,n,K,o,ee)}jv(ae,r)})}function nc(n,r,o){return{instance:n,listener:r,currentTarget:o}}function md(n,r){for(var o=r+"Capture",d=[];n!==null;){var y=n,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=sr(n,o),y!=null&&d.unshift(nc(n,y,v)),y=sr(n,r),y!=null&&d.push(nc(n,y,v))),n.tag===3)return d;n=n.return}return[]}function CS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Ev(n,r,o,d,y){for(var v=r._reactName,j=[];o!==null&&o!==d;){var O=o,I=O.alternate,K=O.stateNode;if(O=O.tag,I!==null&&I===d)break;O!==5&&O!==26&&O!==27||K===null||(I=K,y?(K=sr(o,v),K!=null&&j.unshift(nc(o,K,I))):y||(K=sr(o,v),K!=null&&j.push(nc(o,K,I)))),o=o.return}j.length!==0&&n.push({event:r,listeners:j})}var AS=/\r\n?/g,RS=/\u0000|\uFFFD/g;function Nv(n){return(typeof n=="string"?n:""+n).replace(AS,`
`).replace(RS,"")}function Cv(n,r){return r=Nv(r),Nv(n)===r}function at(n,r,o,d,y,v){switch(o){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||Zn(n,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&Zn(n,""+d);break;case"className":rt(n,"class",d);break;case"tabIndex":rt(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(n,o,d);break;case"style":Fa(n,d,v);break;case"data":if(r!=="object"){rt(n,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(o);break}d=Ir(""+d),n.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(r!=="input"&&at(n,r,"name",y.name,y,null),at(n,r,"formEncType",y.formEncType,y,null),at(n,r,"formMethod",y.formMethod,y,null),at(n,r,"formTarget",y.formTarget,y,null)):(at(n,r,"encType",y.encType,y,null),at(n,r,"method",y.method,y,null),at(n,r,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(o);break}d=Ir(""+d),n.setAttribute(o,d);break;case"onClick":d!=null&&(n.onclick=xn);break;case"onScroll":d!=null&&Ve("scroll",n);break;case"onScrollEnd":d!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(o=d.__html,o!=null){if(y.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}o=Ir(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,""+d):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":d===!0?n.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,d):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(o,d):n.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(o):n.setAttribute(o,d);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),Be(n,"popover",d);break;case"xlinkActuate":vn(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":vn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":vn(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":vn(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":vn(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":vn(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":vn(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":vn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":vn(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Be(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Za.get(o)||o,Be(n,o,d))}}function cm(n,r,o,d,y,v){switch(o){case"style":Fa(n,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(o=d.__html,o!=null){if(y.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof d=="string"?Zn(n,d):(typeof d=="number"||typeof d=="bigint")&&Zn(n,""+d);break;case"onScroll":d!=null&&Ve("scroll",n);break;case"onScrollEnd":d!=null&&Ve("scrollend",n);break;case"onClick":d!=null&&(n.onclick=xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!du.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(y=o.endsWith("Capture"),r=o.slice(2,y?o.length-7:void 0),v=n[Wt]||null,v=v!=null?v[o]:null,typeof v=="function"&&n.removeEventListener(r,v,y),typeof d=="function")){typeof v!="function"&&v!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,d,y);break e}o in n?n[o]=d:d===!0?n.setAttribute(o,""):Be(n,o,d)}}}function nn(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var d=!1,y=!1,v;for(v in o)if(o.hasOwnProperty(v)){var j=o[v];if(j!=null)switch(v){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(n,r,v,j,o,null)}}y&&at(n,r,"srcSet",o.srcSet,o,null),d&&at(n,r,"src",o.src,o,null);return;case"input":Ve("invalid",n);var O=v=j=y=null,I=null,K=null;for(d in o)if(o.hasOwnProperty(d)){var ee=o[d];if(ee!=null)switch(d){case"name":y=ee;break;case"type":j=ee;break;case"checked":I=ee;break;case"defaultChecked":K=ee;break;case"value":v=ee;break;case"defaultValue":O=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:at(n,r,d,ee,o,null)}}Is(n,v,O,I,K,j,y,!1);return;case"select":Ve("invalid",n),d=j=v=null;for(y in o)if(o.hasOwnProperty(y)&&(O=o[y],O!=null))switch(y){case"value":v=O;break;case"defaultValue":j=O;break;case"multiple":d=O;default:at(n,r,y,O,o,null)}r=v,o=j,n.multiple=!!d,r!=null?lt(n,!!d,r,!1):o!=null&&lt(n,!!d,o,!0);return;case"textarea":Ve("invalid",n),v=y=d=null;for(j in o)if(o.hasOwnProperty(j)&&(O=o[j],O!=null))switch(j){case"value":d=O;break;case"defaultValue":y=O;break;case"children":v=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:at(n,r,j,O,o,null)}Br(n,d,y,v);return;case"option":for(I in o)o.hasOwnProperty(I)&&(d=o[I],d!=null)&&(I==="selected"?n.selected=d&&typeof d!="function"&&typeof d!="symbol":at(n,r,I,d,o,null));return;case"dialog":Ve("beforetoggle",n),Ve("toggle",n),Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(d=0;d<tc.length;d++)Ve(tc[d],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(d=o[K],d!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(n,r,K,d,o,null)}return;default:if(Vs(r)){for(ee in o)o.hasOwnProperty(ee)&&(d=o[ee],d!==void 0&&cm(n,r,ee,d,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(d=o[O],d!=null&&at(n,r,O,d,o,null))}function OS(n,r,o,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,j=null,O=null,I=null,K=null,ee=null;for(J in o){var ae=o[J];if(o.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":I=ae;default:d.hasOwnProperty(J)||at(n,r,J,null,d,ae)}}for(var X in d){var J=d[X];if(ae=o[X],d.hasOwnProperty(X)&&(J!=null||ae!=null))switch(X){case"type":v=J;break;case"name":y=J;break;case"checked":K=J;break;case"defaultChecked":ee=J;break;case"value":j=J;break;case"defaultValue":O=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:J!==ae&&at(n,r,X,J,d,ae)}}pl(n,j,O,I,K,ee,v,y);return;case"select":J=j=O=X=null;for(v in o)if(I=o[v],o.hasOwnProperty(v)&&I!=null)switch(v){case"value":break;case"multiple":J=I;default:d.hasOwnProperty(v)||at(n,r,v,null,d,I)}for(y in d)if(v=d[y],I=o[y],d.hasOwnProperty(y)&&(v!=null||I!=null))switch(y){case"value":X=v;break;case"defaultValue":O=v;break;case"multiple":j=v;default:v!==I&&at(n,r,y,v,d,I)}r=O,o=j,d=J,X!=null?lt(n,!!o,X,!1):!!d!=!!o&&(r!=null?lt(n,!!o,r,!0):lt(n,!!o,o?[]:"",!1));return;case"textarea":J=X=null;for(O in o)if(y=o[O],o.hasOwnProperty(O)&&y!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:at(n,r,O,null,d,y)}for(j in d)if(y=d[j],v=o[j],d.hasOwnProperty(j)&&(y!=null||v!=null))switch(j){case"value":X=y;break;case"defaultValue":J=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==v&&at(n,r,j,y,d,v)}ki(n,X,J);return;case"option":for(var ye in o)X=o[ye],o.hasOwnProperty(ye)&&X!=null&&!d.hasOwnProperty(ye)&&(ye==="selected"?n.selected=!1:at(n,r,ye,null,d,X));for(I in d)X=d[I],J=o[I],d.hasOwnProperty(I)&&X!==J&&(X!=null||J!=null)&&(I==="selected"?n.selected=X&&typeof X!="function"&&typeof X!="symbol":at(n,r,I,X,d,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in o)X=o[Ee],o.hasOwnProperty(Ee)&&X!=null&&!d.hasOwnProperty(Ee)&&at(n,r,Ee,null,d,X);for(K in d)if(X=d[K],J=o[K],d.hasOwnProperty(K)&&X!==J&&(X!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:at(n,r,K,X,d,J)}return;default:if(Vs(r)){for(var ot in o)X=o[ot],o.hasOwnProperty(ot)&&X!==void 0&&!d.hasOwnProperty(ot)&&cm(n,r,ot,void 0,d,X);for(ee in d)X=d[ee],J=o[ee],!d.hasOwnProperty(ee)||X===J||X===void 0&&J===void 0||cm(n,r,ee,X,d,J);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!d.hasOwnProperty(q)&&at(n,r,q,null,d,X);for(ae in d)X=d[ae],J=o[ae],!d.hasOwnProperty(ae)||X===J||X==null&&J==null||at(n,r,ae,X,d,J)}function Av(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,o=performance.getEntriesByType("resource"),d=0;d<o.length;d++){var y=o[d],v=y.transferSize,j=y.initiatorType,O=y.duration;if(v&&O&&Av(j)){for(j=0,O=y.responseEnd,d+=1;d<o.length;d++){var I=o[d],K=I.startTime;if(K>O)break;var ee=I.transferSize,ae=I.initiatorType;ee&&Av(ae)&&(I=I.responseEnd,j+=ee*(I<O?1:(O-K)/(I-K)))}if(--d,r+=8*(v+j)/(y.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var um=null,dm=null;function pd(n){return n.nodeType===9?n:n.ownerDocument}function Rv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ov(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function hm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var fm=null;function LS(){var n=window.event;return n&&n.type==="popstate"?n===fm?!1:(fm=n,!0):(fm=null,!1)}var kv=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,Lv=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof Lv<"u"?function(n){return Lv.resolve(null).then(n).catch(DS)}:kv;function DS(n){setTimeout(function(){throw n})}function hs(n){return n==="head"}function Pv(n,r){var o=r,d=0;do{var y=o.nextSibling;if(n.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"||o==="/&"){if(d===0){n.removeChild(y),Ro(r);return}d--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")d++;else if(o==="html")ic(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,ic(o);for(var v=o.firstChild;v;){var j=v.nextSibling,O=v.nodeName;v[zs]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=j}}else o==="body"&&ic(n.ownerDocument.body);o=y}while(o);Ro(r)}function Mv(n,r){var o=n;n=0;do{var d=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=d}while(o)}function mm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":mm(o),dl(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function zS(n,r,o,d){for(;n.nodeType===1;){var y=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[zs])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==y.rel||n.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||n.getAttribute("title")!==(y.title==null?null:y.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(y.src==null?null:y.src)||n.getAttribute("type")!==(y.type==null?null:y.type)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=ti(n.nextSibling),n===null)break}return null}function BS(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=ti(n.nextSibling),n===null))return null;return n}function Dv(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=ti(n.nextSibling),n===null))return null;return n}function pm(n){return n.data==="$?"||n.data==="$~"}function gm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function US(n,r){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||o.readyState!=="loading")r();else{var d=function(){r(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function ti(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var ym=null;function zv(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(r===0)return ti(n.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}n=n.nextSibling}return null}function Bv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return n;r--}else o!=="/$"&&o!=="/&"||r++}n=n.previousSibling}return null}function Uv(n,r,o){switch(r=pd(o),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function ic(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);dl(n)}var ni=new Map,Iv=new Set;function gd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var wr=oe.d;oe.d={f:IS,r:VS,D:HS,C:$S,L:qS,m:FS,X:GS,S:ZS,M:WS};function IS(){var n=wr.f(),r=od();return n||r}function VS(n){var r=Mr(n);r!==null&&r.tag===5&&r.type==="form"?iy(r):wr.r(n)}var No=typeof document>"u"?null:document;function Vv(n,r,o){var d=No;if(d&&typeof r=="string"&&r){var y=pt(r);y='link[rel="'+n+'"][href="'+y+'"]',typeof o=="string"&&(y+='[crossorigin="'+o+'"]'),Iv.has(y)||(Iv.add(y),n={rel:n,crossOrigin:o,href:r},d.querySelector(y)===null&&(r=d.createElement("link"),nn(r,"link",n),Dt(r),d.head.appendChild(r)))}}function HS(n){wr.D(n),Vv("dns-prefetch",n,null)}function $S(n,r){wr.C(n,r),Vv("preconnect",n,r)}function qS(n,r,o){wr.L(n,r,o);var d=No;if(d&&n&&r){var y='link[rel="preload"][as="'+pt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(y+='[imagesrcset="'+pt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(y+='[imagesizes="'+pt(o.imageSizes)+'"]')):y+='[href="'+pt(n)+'"]';var v=y;switch(r){case"style":v=Co(n);break;case"script":v=Ao(n)}ni.has(v)||(n=w({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),ni.set(v,n),d.querySelector(y)!==null||r==="style"&&d.querySelector(rc(v))||r==="script"&&d.querySelector(sc(v))||(r=d.createElement("link"),nn(r,"link",n),Dt(r),d.head.appendChild(r)))}}function FS(n,r){wr.m(n,r);var o=No;if(o&&n){var d=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+pt(d)+'"][href="'+pt(n)+'"]',v=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Ao(n)}if(!ni.has(v)&&(n=w({rel:"modulepreload",href:n},r),ni.set(v,n),o.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(sc(v)))return}d=o.createElement("link"),nn(d,"link",n),Dt(d),o.head.appendChild(d)}}}function ZS(n,r,o){wr.S(n,r,o);var d=No;if(d&&n){var y=Dr(d).hoistableStyles,v=Co(n);r=r||"default";var j=y.get(v);if(!j){var O={loading:0,preload:null};if(j=d.querySelector(rc(v)))O.loading=5;else{n=w({rel:"stylesheet",href:n,"data-precedence":r},o),(o=ni.get(v))&&vm(n,o);var I=j=d.createElement("link");Dt(I),nn(I,"link",n),I._p=new Promise(function(K,ee){I.onload=K,I.onerror=ee}),I.addEventListener("load",function(){O.loading|=1}),I.addEventListener("error",function(){O.loading|=2}),O.loading|=4,yd(j,r,d)}j={type:"stylesheet",instance:j,count:1,state:O},y.set(v,j)}}}function GS(n,r){wr.X(n,r);var o=No;if(o&&n){var d=Dr(o).hoistableScripts,y=Ao(n),v=d.get(y);v||(v=o.querySelector(sc(y)),v||(n=w({src:n,async:!0},r),(r=ni.get(y))&&xm(n,r),v=o.createElement("script"),Dt(v),nn(v,"link",n),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(y,v))}}function WS(n,r){wr.M(n,r);var o=No;if(o&&n){var d=Dr(o).hoistableScripts,y=Ao(n),v=d.get(y);v||(v=o.querySelector(sc(y)),v||(n=w({src:n,async:!0,type:"module"},r),(r=ni.get(y))&&xm(n,r),v=o.createElement("script"),Dt(v),nn(v,"link",n),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(y,v))}}function Hv(n,r,o,d){var y=(y=pe.current)?gd(y):null;if(!y)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Co(o.href),o=Dr(y).hoistableStyles,d=o.get(r),d||(d={type:"style",instance:null,count:0,state:null},o.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Co(o.href);var v=Dr(y).hoistableStyles,j=v.get(n);if(j||(y=y.ownerDocument||y,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,j),(v=y.querySelector(rc(n)))&&!v._p&&(j.instance=v,j.state.loading=5),ni.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ni.set(n,o),v||KS(y,n,o,j.state))),r&&d===null)throw Error(s(528,""));return j}if(r&&d!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ao(o),o=Dr(y).hoistableScripts,d=o.get(r),d||(d={type:"script",instance:null,count:0,state:null},o.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Co(n){return'href="'+pt(n)+'"'}function rc(n){return'link[rel="stylesheet"]['+n+"]"}function $v(n){return w({},n,{"data-precedence":n.precedence,precedence:null})}function KS(n,r,o,d){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=n.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),nn(r,"link",o),Dt(r),n.head.appendChild(r))}function Ao(n){return'[src="'+pt(n)+'"]'}function sc(n){return"script[async]"+n}function qv(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var d=n.querySelector('style[data-href~="'+pt(o.href)+'"]');if(d)return r.instance=d,Dt(d),d;var y=w({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),Dt(d),nn(d,"style",y),yd(d,o.precedence,n),r.instance=d;case"stylesheet":y=Co(o.href);var v=n.querySelector(rc(y));if(v)return r.state.loading|=4,r.instance=v,Dt(v),v;d=$v(o),(y=ni.get(y))&&vm(d,y),v=(n.ownerDocument||n).createElement("link"),Dt(v);var j=v;return j._p=new Promise(function(O,I){j.onload=O,j.onerror=I}),nn(v,"link",d),r.state.loading|=4,yd(v,o.precedence,n),r.instance=v;case"script":return v=Ao(o.src),(y=n.querySelector(sc(v)))?(r.instance=y,Dt(y),y):(d=o,(y=ni.get(v))&&(d=w({},o),xm(d,y)),n=n.ownerDocument||n,y=n.createElement("script"),Dt(y),nn(y,"link",d),n.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,yd(d,o.precedence,n));return r.instance}function yd(n,r,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,v=y,j=0;j<d.length;j++){var O=d[j];if(O.dataset.precedence===r)v=O;else if(v!==y)break}v?v.parentNode.insertBefore(n,v.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function vm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function xm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var vd=null;function Fv(n,r,o){if(vd===null){var d=new Map,y=vd=new Map;y.set(o,d)}else y=vd,d=y.get(o),d||(d=new Map,y.set(o,d));if(d.has(n))return d;for(d.set(n,null),o=o.getElementsByTagName(n),y=0;y<o.length;y++){var v=o[y];if(!(v[zs]||v[Mt]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var j=v.getAttribute(r)||"";j=n+j;var O=d.get(j);O?O.push(v):d.set(j,[v])}}return d}function Zv(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function YS(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(n=r.disabled,typeof r.precedence=="string"&&n==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Gv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function XS(n,r,o,d){if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Co(d.href),v=r.querySelector(rc(y));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=xd.bind(n),r.then(n,n)),o.state.loading|=4,o.instance=v,Dt(v);return}v=r.ownerDocument||r,d=$v(d),(y=ni.get(y))&&vm(d,y),v=v.createElement("link"),Dt(v);var j=v;j._p=new Promise(function(O,I){j.onload=O,j.onerror=I}),nn(v,"link",d),o.instance=v}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=xd.bind(n),r.addEventListener("load",o),r.addEventListener("error",o))}}var bm=0;function JS(n,r){return n.stylesheets&&n.count===0&&_d(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var d=setTimeout(function(){if(n.stylesheets&&_d(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4+r);0<n.imgBytes&&bm===0&&(bm=62500*kS());var y=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&_d(n,n.stylesheets),n.unsuspend)){var v=n.unsuspend;n.unsuspend=null,v()}},(n.imgBytes>bm?50:800)+r);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function xd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_d(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var bd=null;function _d(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,bd=new Map,r.forEach(QS,n),bd=null,xd.call(n))}function QS(n,r){if(!(r.state.loading&4)){var o=bd.get(n);if(o)var d=o.get(null);else{o=new Map,bd.set(n,o);for(var y=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var j=y[v];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(o.set(j.dataset.precedence,j),d=j)}d&&o.set(null,d)}y=r.instance,j=y.getAttribute("data-precedence"),v=o.get(j)||d,v===d&&o.set(null,y),o.set(j,y),this.count++,d=xd.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),v?v.parentNode.insertBefore(y,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(y,n.firstChild)),r.state.loading|=4}}var ac={$$typeof:R,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function ej(n,r,o,d,y,v,j,O,I){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ll(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.hiddenUpdates=ll(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Wv(n,r,o,d,y,v,j,O,I,K,ee,ae){return n=new ej(n,r,o,j,I,K,ee,ae,O),r=1,v===!0&&(r|=24),v=ln(3,null,null,r),n.current=v,v.stateNode=n,r=Jh(),r.refCount++,n.pooledCache=r,r.refCount++,v.memoizedState={element:d,isDehydrated:o,cache:r},nf(v),n}function Kv(n){return n?(n=lr,n):lr}function Yv(n,r,o,d,y,v){y=Kv(y),d.context===null?d.context=y:d.pendingContext=y,d=ts(r),d.payload={element:o},v=v===void 0?null:v,v!==null&&(d.callback=v),o=ns(n,d,r),o!==null&&(Cn(o,n,r),Bl(o,n,r))}function Xv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function _m(n,r){Xv(n,r),(n=n.alternate)&&Xv(n,r)}function Jv(n){if(n.tag===13||n.tag===31){var r=Jn(n,67108864);r!==null&&Cn(r,n,67108864),_m(n,67108864)}}function Qv(n){if(n.tag===13||n.tag===31){var r=In();r=yn(r);var o=Jn(n,r);o!==null&&Cn(o,n,r),_m(n,r)}}var wd=!0;function tj(n,r,o,d){var y=$.T;$.T=null;var v=oe.p;try{oe.p=2,wm(n,r,o,d)}finally{oe.p=v,$.T=y}}function nj(n,r,o,d){var y=$.T;$.T=null;var v=oe.p;try{oe.p=8,wm(n,r,o,d)}finally{oe.p=v,$.T=y}}function wm(n,r,o,d){if(wd){var y=Sm(d);if(y===null)lm(n,r,d,Sd,o),tx(n,d);else if(rj(y,n,r,o,d))d.stopPropagation();else if(tx(n,d),r&4&&-1<ij.indexOf(n)){for(;y!==null;){var v=Mr(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var j=Qi(v.pendingLanes);if(j!==0){var O=v;for(O.pendingLanes|=2,O.entangledLanes|=2;j;){var I=1<<31-hn(j);O.entanglements[1]|=I,j&=~I}qi(v),(Xe&6)===0&&(sd=dn()+500,ec(0))}}break;case 31:case 13:O=Jn(v,2),O!==null&&Cn(O,v,2),od(),_m(v,2)}if(v=Sm(d),v===null&&lm(n,r,d,Sd,o),v===y)break;y=v}y!==null&&d.stopPropagation()}else lm(n,r,d,null,o)}}function Sm(n){return n=Hs(n),jm(n)}var Sd=null;function jm(n){if(Sd=null,n=nr(n),n!==null){var r=h(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=f(r),n!==null)return n;n=null}else if(o===31){if(n=p(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Sd=n,null}function ex(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ch()){case Ha:return 2;case al:return 8;case Os:case Ah:return 32;case ol:return 268435456;default:return 32}default:return 32}}var Tm=!1,fs=null,ms=null,ps=null,oc=new Map,lc=new Map,gs=[],ij="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tx(n,r){switch(n){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":oc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(r.pointerId)}}function cc(n,r,o,d,y,v){return n===null||n.nativeEvent!==v?(n={blockedOn:r,domEventName:o,eventSystemFlags:d,nativeEvent:v,targetContainers:[y]},r!==null&&(r=Mr(r),r!==null&&Jv(r)),n):(n.eventSystemFlags|=d,r=n.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),n)}function rj(n,r,o,d,y){switch(r){case"focusin":return fs=cc(fs,n,r,o,d,y),!0;case"dragenter":return ms=cc(ms,n,r,o,d,y),!0;case"mouseover":return ps=cc(ps,n,r,o,d,y),!0;case"pointerover":var v=y.pointerId;return oc.set(v,cc(oc.get(v)||null,n,r,o,d,y)),!0;case"gotpointercapture":return v=y.pointerId,lc.set(v,cc(lc.get(v)||null,n,r,o,d,y)),!0}return!1}function nx(n){var r=nr(n.target);if(r!==null){var o=h(r);if(o!==null){if(r=o.tag,r===13){if(r=f(o),r!==null){n.blockedOn=r,ul(n.priority,function(){Qv(o)});return}}else if(r===31){if(r=p(o),r!==null){n.blockedOn=r,ul(n.priority,function(){Qv(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function jd(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Sm(n.nativeEvent);if(o===null){o=n.nativeEvent;var d=new o.constructor(o.type,o);Ga=d,o.target.dispatchEvent(d),Ga=null}else return r=Mr(o),r!==null&&Jv(r),n.blockedOn=o,!1;r.shift()}return!0}function ix(n,r,o){jd(n)&&o.delete(r)}function sj(){Tm=!1,fs!==null&&jd(fs)&&(fs=null),ms!==null&&jd(ms)&&(ms=null),ps!==null&&jd(ps)&&(ps=null),oc.forEach(ix),lc.forEach(ix)}function Td(n,r){n.blockedOn===r&&(n.blockedOn=null,Tm||(Tm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sj)))}var Ed=null;function rx(n){Ed!==n&&(Ed=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ed===n&&(Ed=null);for(var r=0;r<n.length;r+=3){var o=n[r],d=n[r+1],y=n[r+2];if(typeof d!="function"){if(jm(d||o)===null)continue;break}var v=Mr(o);v!==null&&(n.splice(r,3),r-=3,Sf(v,{pending:!0,data:y,method:o.method,action:d},d,y))}}))}function Ro(n){function r(I){return Td(I,n)}fs!==null&&Td(fs,n),ms!==null&&Td(ms,n),ps!==null&&Td(ps,n),oc.forEach(r),lc.forEach(r);for(var o=0;o<gs.length;o++){var d=gs[o];d.blockedOn===n&&(d.blockedOn=null)}for(;0<gs.length&&(o=gs[0],o.blockedOn===null);)nx(o),o.blockedOn===null&&gs.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var y=o[d],v=o[d+1],j=y[Wt]||null;if(typeof v=="function")j||rx(o);else if(j){var O=null;if(v&&v.hasAttribute("formAction")){if(y=v,j=v[Wt]||null)O=j.formAction;else if(jm(y)!==null)continue}else O=j.action;typeof O=="function"?o[d+1]=O:(o.splice(d,3),d-=3),rx(o)}}}function sx(){function n(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(j){return y=j})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),d||setTimeout(o,20)}function o(){if(!d&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){d=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function Em(n){this._internalRoot=n}Nd.prototype.render=Em.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,d=In();Yv(o,d,n,r,null,null)},Nd.prototype.unmount=Em.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Yv(n.current,2,null,n,null,null),od(),r[tr]=null}};function Nd(n){this._internalRoot=n}Nd.prototype.unstable_scheduleHydration=function(n){if(n){var r=cl();n={blockedOn:null,target:n,priority:r};for(var o=0;o<gs.length&&r!==0&&r<gs[o].priority;o++);gs.splice(o,0,n),o===0&&nx(n)}};var ax=t.version;if(ax!=="19.2.3")throw Error(s(527,ax,"19.2.3"));oe.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=x(r),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var aj={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{Pr=Cd.inject(aj),Jt=Cd}catch{}}return dc.createRoot=function(n,r){if(!c(n))throw Error(s(299));var o=!1,d="",y=fy,v=my,j=py;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(j=r.onRecoverableError)),r=Wv(n,1,!1,null,null,o,d,null,y,v,j,sx),n[tr]=r.current,om(n),new Em(r)},dc.hydrateRoot=function(n,r,o){if(!c(n))throw Error(s(299));var d=!1,y="",v=fy,j=my,O=py,I=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(y=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(j=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.formState!==void 0&&(I=o.formState)),r=Wv(n,1,!0,r,o??null,d,y,I,v,j,O,sx),r.context=Kv(null),o=r.current,d=In(),d=yn(d),y=ts(d),y.callback=null,ns(o,y,d),o=d,r.current.lanes=o,er(r,o),qi(r),n[tr]=r.current,om(n),new Nd(r)},dc.version="19.2.3",dc}var yx;function gj(){if(yx)return Am.exports;yx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Am.exports=pj(),Am.exports}var yj=gj();var vx="popstate";function vj(e={}){function t(s,c){let{pathname:h,search:f,hash:p}=s.location;return pp("",{pathname:h,search:f,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(s,c){return typeof c=="string"?c:Rc(c)}return bj(t,i,null,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function oi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xj(){return Math.random().toString(36).substring(2,10)}function xx(e,t){return{usr:e.state,key:e.key,idx:t}}function pp(e,t,i=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xo(t):t,state:i,key:t&&t.key||s||xj()}}function Rc({pathname:e="/",search:t="",hash:i=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Xo(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substring(i),e=e.substring(0,i));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function bj(e,t,i,s={}){let{window:c=document.defaultView,v5Compat:h=!1}=s,f=c.history,p="POP",g=null,x=_();x==null&&(x=0,f.replaceState({...f.state,idx:x},""));function _(){return(f.state||{idx:null}).idx}function w(){p="POP";let P=_(),M=P==null?null:P-x;x=P,g&&g({action:p,location:k.location,delta:M})}function E(P,M){p="PUSH";let D=pp(k.location,P,M);x=_()+1;let R=xx(D,x),Z=k.createHref(D);try{f.pushState(R,"",Z)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;c.location.assign(Z)}h&&g&&g({action:p,location:k.location,delta:1})}function N(P,M){p="REPLACE";let D=pp(k.location,P,M);x=_();let R=xx(D,x),Z=k.createHref(D);f.replaceState(R,"",Z),h&&g&&g({action:p,location:k.location,delta:0})}function A(P){return _j(P)}let k={get action(){return p},get location(){return e(c,f)},listen(P){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(vx,w),g=P,()=>{c.removeEventListener(vx,w),g=null}},createHref(P){return t(c,P)},createURL:A,encodeLocation(P){let M=A(P);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:E,replace:N,go(P){return f.go(P)}};return k}function _j(e,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),_t(i,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Rc(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function U_(e,t,i="/"){return wj(e,t,i,!1)}function wj(e,t,i,s){let c=typeof t=="string"?Xo(t):t,h=Nr(c.pathname||"/",i);if(h==null)return null;let f=I_(e);Sj(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let x=Pj(h);p=kj(f[g],x,s)}return p}function I_(e,t=[],i=[],s="",c=!1){let h=(f,p,g=c,x)=>{let _={relativePath:x===void 0?f.path||"":x,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&g)return;_t(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let w=Tr([s,_.relativePath]),E=i.concat(_);f.children&&f.children.length>0&&(_t(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),I_(f.children,t,E,w,g)),!(f.path==null&&!f.index)&&t.push({path:w,score:Rj(w,f.index),routesMeta:E})};return e.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))h(f,p);else for(let g of V_(f.path))h(f,p,!0,g)}),t}function V_(e){let t=e.split("/");if(t.length===0)return[];let[i,...s]=t,c=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return c?[h,""]:[h];let f=V_(s.join("/")),p=[];return p.push(...f.map(g=>g===""?h:[h,g].join("/"))),c&&p.push(...f),p.map(g=>e.startsWith("/")&&g===""?"/":g)}function Sj(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:Oj(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var jj=/^:[\w-]+$/,Tj=3,Ej=2,Nj=1,Cj=10,Aj=-2,bx=e=>e==="*";function Rj(e,t){let i=e.split("/"),s=i.length;return i.some(bx)&&(s+=Aj),t&&(s+=Ej),i.filter(c=>!bx(c)).reduce((c,h)=>c+(jj.test(h)?Tj:h===""?Nj:Cj),s)}function Oj(e,t){return e.length===t.length&&e.slice(0,-1).every((s,c)=>s===t[c])?e[e.length-1]-t[t.length-1]:0}function kj(e,t,i=!1){let{routesMeta:s}=e,c={},h="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],x=p===s.length-1,_=h==="/"?t:t.slice(h.length)||"/",w=Zd({path:g.relativePath,caseSensitive:g.caseSensitive,end:x},_),E=g.route;if(!w&&x&&i&&!s[s.length-1].route.index&&(w=Zd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!w)return null;Object.assign(c,w.params),f.push({params:c,pathname:Tr([h,w.pathname]),pathnameBase:Bj(Tr([h,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(h=Tr([h,w.pathnameBase]))}return f}function Zd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,s]=Lj(e.path,e.caseSensitive,e.end),c=t.match(i);if(!c)return null;let h=c[0],f=h.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:s.reduce((x,{paramName:_,isOptional:w},E)=>{if(_==="*"){let A=p[E]||"";f=h.slice(0,h.length-A.length).replace(/(.)\/+$/,"$1")}const N=p[E];return w&&!N?x[_]=void 0:x[_]=(N||"").replace(/%2F/g,"/"),x},{}),pathname:h,pathnameBase:f,pattern:e}}function Lj(e,t=!1,i=!0){oi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),s]}function Pj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Nr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=e.charAt(i);return s&&s!=="/"?null:e.slice(i)||"/"}var H_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mj=e=>H_.test(e);function Dj(e,t="/"){let{pathname:i,search:s="",hash:c=""}=typeof e=="string"?Xo(e):e,h;if(i)if(Mj(i))h=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),oi(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?h=_x(i.substring(1),"/"):h=_x(i,t)}else h=t;return{pathname:h,search:Uj(s),hash:Ij(c)}}function _x(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function Lm(e,t,i,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zj(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function lg(e){let t=zj(e);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function cg(e,t,i,s=!1){let c;typeof e=="string"?c=Xo(e):(c={...e},_t(!c.pathname||!c.pathname.includes("?"),Lm("?","pathname","search",c)),_t(!c.pathname||!c.pathname.includes("#"),Lm("#","pathname","hash",c)),_t(!c.search||!c.search.includes("#"),Lm("#","search","hash",c)));let h=e===""||c.pathname==="",f=h?"/":c.pathname,p;if(f==null)p=i;else{let w=t.length-1;if(!s&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),w-=1;c.pathname=E.join("/")}p=w>=0?t[w]:"/"}let g=Dj(c,p),x=f&&f!=="/"&&f.endsWith("/"),_=(h||f===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(x||_)&&(g.pathname+="/"),g}var Tr=e=>e.join("/").replace(/\/\/+/g,"/"),Bj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Uj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ij=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Vj=class{constructor(e,t,i,s=!1){this.status=e,this.statusText=t||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function Hj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function $j(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function q_(e,t){let i=e;if(typeof i!="string"||!H_.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,c=!1;if($_)try{let h=new URL(window.location.href),f=i.startsWith("//")?new URL(h.protocol+i):new URL(i),p=Nr(f.pathname,t);f.origin===h.origin&&p!=null?i=p+f.search+f.hash:c=!0}catch{oi(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:c,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var F_=["POST","PUT","PATCH","DELETE"];new Set(F_);var qj=["GET",...F_];new Set(qj);var Jo=T.createContext(null);Jo.displayName="DataRouter";var ch=T.createContext(null);ch.displayName="DataRouterState";var Fj=T.createContext(!1),Z_=T.createContext({isTransitioning:!1});Z_.displayName="ViewTransition";var Zj=T.createContext(new Map);Zj.displayName="Fetchers";var Gj=T.createContext(null);Gj.displayName="Await";var Fn=T.createContext(null);Fn.displayName="Navigation";var qc=T.createContext(null);qc.displayName="Location";var Ci=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var ug=T.createContext(null);ug.displayName="RouteError";var G_="REACT_ROUTER_ERROR",Wj="REDIRECT",Kj="ROUTE_ERROR_RESPONSE";function Yj(e){if(e.startsWith(`${G_}:${Wj}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Xj(e){if(e.startsWith(`${G_}:${Kj}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Vj(t.status,t.statusText,t.data)}catch{}}function Jj(e,{relative:t}={}){_t(Qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=T.useContext(Fn),{hash:c,pathname:h,search:f}=Fc(e,{relative:t}),p=h;return i!=="/"&&(p=h==="/"?i:Tr([i,h])),s.createHref({pathname:p,search:f,hash:c})}function Qo(){return T.useContext(qc)!=null}function Ns(){return _t(Qo(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(qc).location}var W_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K_(e){T.useContext(Fn).static||T.useLayoutEffect(e)}function dt(){let{isDataRoute:e}=T.useContext(Ci);return e?dT():Qj()}function Qj(){_t(Qo(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(Jo),{basename:t,navigator:i}=T.useContext(Fn),{matches:s}=T.useContext(Ci),{pathname:c}=Ns(),h=JSON.stringify(lg(s)),f=T.useRef(!1);return K_(()=>{f.current=!0}),T.useCallback((g,x={})=>{if(oi(f.current,W_),!f.current)return;if(typeof g=="number"){i.go(g);return}let _=cg(g,JSON.parse(h),c,x.relative==="path");e==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:Tr([t,_.pathname])),(x.replace?i.replace:i.push)(_,x.state,x)},[t,i,h,c,e])}T.createContext(null);function el(){let{matches:e}=T.useContext(Ci),t=e[e.length-1];return t?t.params:{}}function Fc(e,{relative:t}={}){let{matches:i}=T.useContext(Ci),{pathname:s}=Ns(),c=JSON.stringify(lg(i));return T.useMemo(()=>cg(e,JSON.parse(c),s,t==="path"),[e,c,s,t])}function eT(e,t){return Y_(e,t)}function Y_(e,t,i,s,c){_t(Qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=T.useContext(Fn),{matches:f}=T.useContext(Ci),p=f[f.length-1],g=p?p.params:{},x=p?p.pathname:"/",_=p?p.pathnameBase:"/",w=p&&p.route;{let D=w&&w.path||"";J_(x,!w||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let E=Ns(),N;if(t){let D=typeof t=="string"?Xo(t):t;_t(_==="/"||D.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${D.pathname}" was given in the \`location\` prop.`),N=D}else N=E;let A=N.pathname||"/",k=A;if(_!=="/"){let D=_.replace(/^\//,"").split("/");k="/"+A.replace(/^\//,"").split("/").slice(D.length).join("/")}let P=U_(e,{pathname:k});oi(w||P!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),oi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=sT(P&&P.map(D=>Object.assign({},D,{params:Object.assign({},g,D.params),pathname:Tr([_,h.encodeLocation?h.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?_:Tr([_,h.encodeLocation?h.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),f,i,s,c);return t&&M?T.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},M):M}function tT(){let e=uT(),t=Hj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:h},"ErrorBoundary")," or"," ",T.createElement("code",{style:h},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),i?T.createElement("pre",{style:c},i):null,f)}var nT=T.createElement(tT,null),X_=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const i=Xj(e.digest);i&&(e=i)}let t=e!==void 0?T.createElement(Ci.Provider,{value:this.props.routeContext},T.createElement(ug.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?T.createElement(iT,{error:e},t):t}};X_.contextType=Fj;var Pm=new WeakMap;function iT({children:e,error:t}){let{basename:i}=T.useContext(Fn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=Yj(t.digest);if(s){let c=Pm.get(t);if(c)throw c;let h=q_(s.location,i);if($_&&!Pm.get(t))if(h.isExternal||s.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:s.replace}));throw Pm.set(t,f),f}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return e}function rT({routeContext:e,match:t,children:i}){let s=T.useContext(Jo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Ci.Provider,{value:e},i)}function sT(e,t=[],i=null,s=null,c=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let h=e,f=i?.errors;if(f!=null){let _=h.findIndex(w=>w.route.id&&f?.[w.route.id]!==void 0);_t(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),h=h.slice(0,Math.min(h.length,_+1))}let p=!1,g=-1;if(i)for(let _=0;_<h.length;_++){let w=h[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=_),w.route.id){let{loaderData:E,errors:N}=i,A=w.route.loader&&!E.hasOwnProperty(w.route.id)&&(!N||N[w.route.id]===void 0);if(w.route.lazy||A){p=!0,g>=0?h=h.slice(0,g+1):h=[h[0]];break}}}let x=i&&s?(_,w)=>{s(_,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:$j(i.matches),errorInfo:w})}:void 0;return h.reduceRight((_,w,E)=>{let N,A=!1,k=null,P=null;i&&(N=f&&w.route.id?f[w.route.id]:void 0,k=w.route.errorElement||nT,p&&(g<0&&E===0?(J_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,P=null):g===E&&(A=!0,P=w.route.hydrateFallbackElement||null)));let M=t.concat(h.slice(0,E+1)),D=()=>{let R;return N?R=k:A?R=P:w.route.Component?R=T.createElement(w.route.Component,null):w.route.element?R=w.route.element:R=_,T.createElement(rT,{match:w,routeContext:{outlet:_,matches:M,isDataRoute:i!=null},children:R})};return i&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?T.createElement(X_,{location:i.location,revalidation:i.revalidation,component:k,error:N,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:x}):D()},null)}function dg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aT(e){let t=T.useContext(Jo);return _t(t,dg(e)),t}function oT(e){let t=T.useContext(ch);return _t(t,dg(e)),t}function lT(e){let t=T.useContext(Ci);return _t(t,dg(e)),t}function hg(e){let t=lT(e),i=t.matches[t.matches.length-1];return _t(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function cT(){return hg("useRouteId")}function uT(){let e=T.useContext(ug),t=oT("useRouteError"),i=hg("useRouteError");return e!==void 0?e:t.errors?.[i]}function dT(){let{router:e}=aT("useNavigate"),t=hg("useNavigate"),i=T.useRef(!1);return K_(()=>{i.current=!0}),T.useCallback(async(c,h={})=>{oi(i.current,W_),i.current&&(typeof c=="number"?await e.navigate(c):await e.navigate(c,{fromRouteId:t,...h}))},[e,t])}var wx={};function J_(e,t,i){!t&&!wx[e]&&(wx[e]=!0,oi(!1,i))}T.memo(hT);function hT({routes:e,future:t,state:i,onError:s}){return Y_(e,void 0,i,s,t)}function Hn({to:e,replace:t,state:i,relative:s}){_t(Qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=T.useContext(Fn);oi(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=T.useContext(Ci),{pathname:f}=Ns(),p=dt(),g=cg(e,lg(h),f,s==="path"),x=JSON.stringify(g);return T.useEffect(()=>{p(JSON.parse(x),{replace:t,state:i,relative:s})},[p,x,s,t,i]),null}function yt(e){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fT({basename:e="/",children:t=null,location:i,navigationType:s="POP",navigator:c,static:h=!1,unstable_useTransitions:f}){_t(!Qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=e.replace(/^\/*/,"/"),g=T.useMemo(()=>({basename:p,navigator:c,static:h,unstable_useTransitions:f,future:{}}),[p,c,h,f]);typeof i=="string"&&(i=Xo(i));let{pathname:x="/",search:_="",hash:w="",state:E=null,key:N="default"}=i,A=T.useMemo(()=>{let k=Nr(x,p);return k==null?null:{location:{pathname:k,search:_,hash:w,state:E,key:N},navigationType:s}},[p,x,_,w,E,N,s]);return oi(A!=null,`<Router basename="${p}"> is not able to match the URL "${x}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:T.createElement(Fn.Provider,{value:g},T.createElement(qc.Provider,{children:t,value:A}))}function mT({children:e,location:t}){return eT(gp(e),t)}function gp(e,t=[]){let i=[];return T.Children.forEach(e,(s,c)=>{if(!T.isValidElement(s))return;let h=[...t,c];if(s.type===T.Fragment){i.push.apply(i,gp(s.props.children,h));return}_t(s.type===yt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=gp(s.props.children,h)),i.push(f)}),i}var Id="get",Vd="application/x-www-form-urlencoded";function uh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function pT(e){return uh(e)&&e.tagName.toLowerCase()==="button"}function gT(e){return uh(e)&&e.tagName.toLowerCase()==="form"}function yT(e){return uh(e)&&e.tagName.toLowerCase()==="input"}function vT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xT(e,t){return e.button===0&&(!t||t==="_self")&&!vT(e)}var Ad=null;function bT(){if(Ad===null)try{new FormData(document.createElement("form"),0),Ad=!1}catch{Ad=!0}return Ad}var _T=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(e){return e!=null&&!_T.has(e)?(oi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vd}"`),null):e}function wT(e,t){let i,s,c,h,f;if(gT(e)){let p=e.getAttribute("action");s=p?Nr(p,t):null,i=e.getAttribute("method")||Id,c=Mm(e.getAttribute("enctype"))||Vd,h=new FormData(e)}else if(pT(e)||yT(e)&&(e.type==="submit"||e.type==="image")){let p=e.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=e.getAttribute("formaction")||p.getAttribute("action");if(s=g?Nr(g,t):null,i=e.getAttribute("formmethod")||p.getAttribute("method")||Id,c=Mm(e.getAttribute("formenctype"))||Mm(p.getAttribute("enctype"))||Vd,h=new FormData(p,e),!bT()){let{name:x,type:_,value:w}=e;if(_==="image"){let E=x?`${x}.`:"";h.append(`${E}x`,"0"),h.append(`${E}y`,"0")}else x&&h.append(x,w)}}else{if(uh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Id,s=null,c=Vd,f=e}return h&&c==="text/plain"&&(f=h,h=void 0),{action:s,method:i.toLowerCase(),encType:c,formData:h,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ST(e,t,i){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${i}`:t&&Nr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function jT(e,t){if(e.id in t)return t[e.id];try{let i=await import(e.module);return t[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TT(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ET(e,t,i){let s=await Promise.all(e.map(async c=>{let h=t.routes[c.route.id];if(h){let f=await jT(h,i);return f.links?f.links():[]}return[]}));return RT(s.flat(1).filter(TT).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Sx(e,t,i,s,c,h){let f=(g,x)=>i[x]?g.route.id!==i[x].route.id:!0,p=(g,x)=>i[x].pathname!==g.pathname||i[x].route.path?.endsWith("*")&&i[x].params["*"]!==g.params["*"];return h==="assets"?t.filter((g,x)=>f(g,x)||p(g,x)):h==="data"?t.filter((g,x)=>{let _=s.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(f(g,x)||p(g,x))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function NT(e,t,{includeHydrateFallback:i}={}){return CT(e.map(s=>{let c=t.routes[s.route.id];if(!c)return[];let h=[c.module];return c.clientActionModule&&(h=h.concat(c.clientActionModule)),c.clientLoaderModule&&(h=h.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(h=h.concat(c.hydrateFallbackModule)),c.imports&&(h=h.concat(c.imports)),h}).flat(1))}function CT(e){return[...new Set(e)]}function AT(e){let t={},i=Object.keys(e).sort();for(let s of i)t[s]=e[s];return t}function RT(e,t){let i=new Set;return new Set(t),e.reduce((s,c)=>{let h=JSON.stringify(AT(c));return i.has(h)||(i.add(h),s.push({key:h,link:c})),s},[])}function Q_(){let e=T.useContext(Jo);return fg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function OT(){let e=T.useContext(ch);return fg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var mg=T.createContext(void 0);mg.displayName="FrameworkContext";function e1(){let e=T.useContext(mg);return fg(e,"You must render this element inside a <HydratedRouter> element"),e}function kT(e,t){let i=T.useContext(mg),[s,c]=T.useState(!1),[h,f]=T.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:x,onMouseLeave:_,onTouchStart:w}=t,E=T.useRef(null);T.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let k=M=>{M.forEach(D=>{f(D.isIntersecting)})},P=new IntersectionObserver(k,{threshold:.5});return E.current&&P.observe(E.current),()=>{P.disconnect()}}},[e]),T.useEffect(()=>{if(s){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[s]);let N=()=>{c(!0)},A=()=>{c(!1),f(!1)};return i?e!=="intent"?[h,E,{}]:[h,E,{onFocus:hc(p,N),onBlur:hc(g,A),onMouseEnter:hc(x,N),onMouseLeave:hc(_,A),onTouchStart:hc(w,N)}]:[!1,E,{}]}function hc(e,t){return i=>{e&&e(i),i.defaultPrevented||t(i)}}function LT({page:e,...t}){let{router:i}=Q_(),s=T.useMemo(()=>U_(i.routes,e,i.basename),[i.routes,e,i.basename]);return s?T.createElement(MT,{page:e,matches:s,...t}):null}function PT(e){let{manifest:t,routeModules:i}=e1(),[s,c]=T.useState([]);return T.useEffect(()=>{let h=!1;return ET(e,t,i).then(f=>{h||c(f)}),()=>{h=!0}},[e,t,i]),s}function MT({page:e,matches:t,...i}){let s=Ns(),{manifest:c,routeModules:h}=e1(),{basename:f}=Q_(),{loaderData:p,matches:g}=OT(),x=T.useMemo(()=>Sx(e,t,g,c,s,"data"),[e,t,g,c,s]),_=T.useMemo(()=>Sx(e,t,g,c,s,"assets"),[e,t,g,c,s]),w=T.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let A=new Set,k=!1;if(t.forEach(M=>{let D=c.routes[M.route.id];!D||!D.hasLoader||(!x.some(R=>R.route.id===M.route.id)&&M.route.id in p&&h[M.route.id]?.shouldRevalidate||D.hasClientLoader?k=!0:A.add(M.route.id))}),A.size===0)return[];let P=ST(e,f,"data");return k&&A.size>0&&P.searchParams.set("_routes",t.filter(M=>A.has(M.route.id)).map(M=>M.route.id).join(",")),[P.pathname+P.search]},[f,p,s,c,x,t,e,h]),E=T.useMemo(()=>NT(_,c),[_,c]),N=PT(_);return T.createElement(T.Fragment,null,w.map(A=>T.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...i})),E.map(A=>T.createElement("link",{key:A,rel:"modulepreload",href:A,...i})),N.map(({key:A,link:k})=>T.createElement("link",{key:A,nonce:i.nonce,...k})))}function DT(...e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var zT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zT&&(window.__reactRouterVersion="7.11.0")}catch{}function BT({basename:e,children:t,unstable_useTransitions:i,window:s}){let c=T.useRef();c.current==null&&(c.current=vj({window:s,v5Compat:!0}));let h=c.current,[f,p]=T.useState({action:h.action,location:h.location}),g=T.useCallback(x=>{i===!1?p(x):T.startTransition(()=>p(x))},[i]);return T.useLayoutEffect(()=>h.listen(g),[h,g]),T.createElement(fT,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:h,unstable_useTransitions:i})}var t1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n1=T.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:c,reloadDocument:h,replace:f,state:p,target:g,to:x,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:E,...N},A){let{basename:k,unstable_useTransitions:P}=T.useContext(Fn),M=typeof x=="string"&&t1.test(x),D=q_(x,k);x=D.to;let R=Jj(x,{relative:c}),[Z,F,V]=kT(s,N),B=HT(x,{replace:f,state:p,target:g,preventScrollReset:_,relative:c,viewTransition:w,unstable_defaultShouldRevalidate:E,unstable_useTransitions:P});function te(ve){t&&t(ve),ve.defaultPrevented||B(ve)}let me=T.createElement("a",{...N,...V,href:D.absoluteURL||R,onClick:D.isExternal||h?t:te,ref:DT(A,F),target:g,"data-discover":!M&&i==="render"?"true":void 0});return Z&&!M?T.createElement(T.Fragment,null,me,T.createElement(LT,{page:R})):me});n1.displayName="Link";var UT=T.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:c=!1,style:h,to:f,viewTransition:p,children:g,...x},_){let w=Fc(f,{relative:x.relative}),E=Ns(),N=T.useContext(ch),{navigator:A,basename:k}=T.useContext(Fn),P=N!=null&&GT(w)&&p===!0,M=A.encodeLocation?A.encodeLocation(w).pathname:w.pathname,D=E.pathname,R=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(D=D.toLowerCase(),R=R?R.toLowerCase():null,M=M.toLowerCase()),R&&k&&(R=Nr(R,k)||R);const Z=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let F=D===M||!c&&D.startsWith(M)&&D.charAt(Z)==="/",V=R!=null&&(R===M||!c&&R.startsWith(M)&&R.charAt(M.length)==="/"),B={isActive:F,isPending:V,isTransitioning:P},te=F?t:void 0,me;typeof s=="function"?me=s(B):me=[s,F?"active":null,V?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let ve=typeof h=="function"?h(B):h;return T.createElement(n1,{...x,"aria-current":te,className:me,ref:_,style:ve,to:f,viewTransition:p},typeof g=="function"?g(B):g)});UT.displayName="NavLink";var IT=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:c,state:h,method:f=Id,action:p,onSubmit:g,relative:x,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:E,...N},A)=>{let{unstable_useTransitions:k}=T.useContext(Fn),P=FT(),M=ZT(p,{relative:x}),D=f.toLowerCase()==="get"?"get":"post",R=typeof p=="string"&&t1.test(p),Z=F=>{if(g&&g(F),F.defaultPrevented)return;F.preventDefault();let V=F.nativeEvent.submitter,B=V?.getAttribute("formmethod")||f,te=()=>P(V||F.currentTarget,{fetcherKey:t,method:B,navigate:i,replace:c,state:h,relative:x,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:E});k&&i!==!1?T.startTransition(()=>te()):te()};return T.createElement("form",{ref:A,method:D,action:M,onSubmit:s?g:Z,...N,"data-discover":!R&&e==="render"?"true":void 0})});IT.displayName="Form";function VT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i1(e){let t=T.useContext(Jo);return _t(t,VT(e)),t}function HT(e,{target:t,replace:i,state:s,preventScrollReset:c,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let x=dt(),_=Ns(),w=Fc(e,{relative:h});return T.useCallback(E=>{if(xT(E,t)){E.preventDefault();let N=i!==void 0?i:Rc(_)===Rc(w),A=()=>x(e,{replace:N,state:s,preventScrollReset:c,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:p});g?T.startTransition(()=>A()):A()}},[_,x,w,i,s,t,e,c,h,f,p,g])}var $T=0,qT=()=>`__${String(++$T)}__`;function FT(){let{router:e}=i1("useSubmit"),{basename:t}=T.useContext(Fn),i=cT(),s=e.fetch,c=e.navigate;return T.useCallback(async(h,f={})=>{let{action:p,method:g,encType:x,formData:_,body:w}=wT(h,t);if(f.navigate===!1){let E=f.fetcherKey||qT();await s(E,i,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:_,body:w,formMethod:f.method||g,formEncType:f.encType||x,flushSync:f.flushSync})}else await c(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:_,body:w,formMethod:f.method||g,formEncType:f.encType||x,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,c,t,i])}function ZT(e,{relative:t}={}){let{basename:i}=T.useContext(Fn),s=T.useContext(Ci);_t(s,"useFormAction must be used inside a RouteContext");let[c]=s.matches.slice(-1),h={...Fc(e||".",{relative:t})},f=Ns();if(e==null){h.search=f.search;let p=new URLSearchParams(h.search),g=p.getAll("index");if(g.some(_=>_==="")){p.delete("index"),g.filter(w=>w).forEach(w=>p.append("index",w));let _=p.toString();h.search=_?`?${_}`:""}}return(!e||e===".")&&c.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:Tr([i,h.pathname])),Rc(h)}function GT(e,{relative:t}={}){let i=T.useContext(Z_);_t(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=i1("useViewTransitionState"),c=Fc(e,{relative:t});if(!i.isTransitioning)return!1;let h=Nr(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=Nr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Zd(c.pathname,f)!=null||Zd(c.pathname,h)!=null}var r1=B_();const s1=T.createContext(void 0),WT=()=>{const e=T.useContext(s1);if(!e)throw new Error("useTheme debe usarse dentro de ThemeProvider");return e},KT=({children:e})=>{const[t,i]=T.useState(()=>{const c=localStorage.getItem("theme");return c?c==="dark":!0});T.useEffect(()=>{localStorage.setItem("theme",t?"dark":"light"),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const s=()=>i(!t);return l.jsx(s1.Provider,{value:{isDark:t,toggleTheme:s},children:e})},a1=T.createContext(void 0),Et=()=>{const e=T.useContext(a1);if(!e)throw new Error("useAuth debe usarse dentro de AuthProvider");return e},YT=({children:e})=>{const[t,i]=T.useState(()=>{const h=localStorage.getItem("usuario");return h?JSON.parse(h):null}),s=()=>{i(null),localStorage.removeItem("usuario")},c=h=>{i(h),h?localStorage.setItem("usuario",JSON.stringify(h)):localStorage.removeItem("usuario")};return l.jsx(a1.Provider,{value:{usuario:t,setUsuario:c,logout:s},children:e})};function bi({children:e,allowedRoles:t}){const{usuario:i}=Et();if(!i)return l.jsx(Hn,{to:"/",replace:!0});if(!t.includes(i.tipo_usuario))switch(i.tipo_usuario){case"repartidor":return l.jsx(Hn,{to:"/repartidor/dashboard",replace:!0});case"restaurante":return l.jsx(Hn,{to:"/restaurante/dashboard",replace:!0});case"operador":return l.jsx(Hn,{to:"/operador/dashboard",replace:!0});case"admin":return l.jsx(Hn,{to:"/admin/dashboard",replace:!0});default:return l.jsx(Hn,{to:"/home",replace:!0})}return l.jsx(l.Fragment,{children:e})}function dh(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(e);c<s.length;c++)t.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(e,s[c])&&(i[s[c]]=e[s[c]]);return i}function XT(e,t,i,s){function c(h){return h instanceof i?h:new i(function(f){f(h)})}return new(i||(i=Promise))(function(h,f){function p(_){try{x(s.next(_))}catch(w){f(w)}}function g(_){try{x(s.throw(_))}catch(w){f(w)}}function x(_){_.done?h(_.value):c(_.value).then(p,g)}x((s=s.apply(e,t||[])).next())})}const JT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class pg extends Error{constructor(t,i="FunctionsError",s){super(t),this.name=i,this.context=s}}class QT extends pg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jx extends pg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tx extends pg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yp||(yp={}));class eE{constructor(t,{headers:i={},customFetch:s,region:c=yp.Any}={}){this.url=t,this.headers=i,this.region=c,this.fetch=JT(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return XT(this,arguments,void 0,function*(i,s={}){var c;let h,f;try{const{headers:p,method:g,body:x,signal:_,timeout:w}=s;let E={},{region:N}=s;N||(N=this.region);const A=new URL(`${this.url}/${i}`);N&&N!=="any"&&(E["x-region"]=N,A.searchParams.set("forceFunctionRegion",N));let k;x&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",k=x):typeof x=="string"?(E["Content-Type"]="text/plain",k=x):typeof FormData<"u"&&x instanceof FormData?k=x:(E["Content-Type"]="application/json",k=JSON.stringify(x)):k=x;let P=_;w&&(f=new AbortController,h=setTimeout(()=>f.abort(),w),_?(P=f.signal,_.addEventListener("abort",()=>f.abort())):P=f.signal);const M=yield this.fetch(A.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),p),body:k,signal:P}).catch(F=>{throw new QT(F)}),D=M.headers.get("x-relay-error");if(D&&D==="true")throw new jx(M);if(!M.ok)throw new Tx(M);let R=((c=M.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),Z;return R==="application/json"?Z=yield M.json():R==="application/octet-stream"||R==="application/pdf"?Z=yield M.blob():R==="text/event-stream"?Z=M:R==="multipart/form-data"?Z=yield M.formData():Z=yield M.text(),{data:Z,error:null,response:M}}catch(p){return{data:null,error:p,response:p instanceof Tx||p instanceof jx?p.context:void 0}}finally{h&&clearTimeout(h)}})}}var tE=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},nE=class{constructor(e){var t,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(i=e.isMaybeSingle)!==null&&i!==void 0?i:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,p=null,g=null,x=h.status,_=h.statusText;if(h.ok){var w,E;if(i.method!=="HEAD"){var N;const M=await h.text();M===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((N=i.headers.get("Accept"))===null||N===void 0)&&N.includes("application/vnd.pgrst.plan+text"))?p=M:p=JSON.parse(M))}const k=(w=i.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),P=(E=h.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");k&&P&&P.length>1&&(g=parseInt(P[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,x=406,_="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var A;const k=await h.text();try{f=JSON.parse(k),Array.isArray(f)&&h.status===404&&(p=[],f=null,x=200,_="OK")}catch{h.status===404&&k===""?(x=204,_="No Content"):f={message:k}}if(f&&i.isMaybeSingle&&(!(f==null||(A=f.details)===null||A===void 0)&&A.includes("0 rows"))&&(f=null,x=200,_="OK"),f&&i.shouldThrowOnError)throw new tE(f)}return{error:f,data:p,count:g,status:x,statusText:_}});return this.shouldThrowOnError||(c=c.catch(h=>{var f;let p="";const g=h?.cause;if(g){var x,_,w,E;const A=(x=g?.message)!==null&&x!==void 0?x:"",k=(_=g?.code)!==null&&_!==void 0?_:"";p=`${(w=h?.name)!==null&&w!==void 0?w:"FetchError"}: ${h?.message}`,p+=`

Caused by: ${(E=g?.name)!==null&&E!==void 0?E:"Error"}: ${A}`,k&&(p+=` (${k})`),g?.stack&&(p+=`
${g.stack}`)}else{var N;p=(N=h?.stack)!==null&&N!==void 0?N:""}return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(e,t)}returns(){return this}overrideTypes(){return this}},iE=class extends nE{select(e){let t=!1;const i=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:i,foreignTable:s,referencedTable:c=s}={}){const h=c?`${c}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${e}.${t?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:i=t}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:i,referencedTable:s=i}={}){const c=typeof s>"u"?"offset":`${s}.offset`,h=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${e}`),this.url.searchParams.set(h,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:i=!1,buffers:s=!1,wal:c=!1,format:h="text"}={}){var f;const p=[e?"analyze":null,t?"verbose":null,i?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${g}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Ex=new RegExp("[,()]");var zo=class extends iE{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const i=Array.from(new Set(t)).map(s=>typeof s=="string"&&Ex.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}notIn(e,t){const i=Array.from(new Set(t)).map(s=>typeof s=="string"&&Ex.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`not.in.(${i})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:i,type:s}={}){let c="";s==="plain"?c="pl":s==="phrase"?c="ph":s==="websearch"&&(c="w");const h=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${c}fts${h}.${t}`),this}match(e){return Object.entries(e).forEach(([t,i])=>{this.url.searchParams.append(t,`eq.${i}`)}),this}not(e,t,i){return this.url.searchParams.append(e,`not.${t}.${i}`),this}or(e,{foreignTable:t,referencedTable:i=t}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,i){return this.url.searchParams.append(e,`${t}.${i}`),this}},rE=class{constructor(e,{headers:t={},schema:i,fetch:s}){this.url=e,this.headers=new Headers(t),this.schema=i,this.fetch=s}select(e,t){const{head:i=!1,count:s}=t??{},c=i?"HEAD":"GET";let h=!1;const f=(e??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",f),s&&this.headers.append("Prefer",`count=${s}`),new zo({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:i=!0}={}){var s;const c="POST";if(t&&this.headers.append("Prefer",`count=${t}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new zo({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:i=!1,count:s,defaultToNull:c=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const p=e.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(p.length>0){const g=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new zo({method:f,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(e,{count:t}={}){var i;const s="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new zo({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:e}={}){var t;const i="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new zo({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},sE=class o1{constructor(t,{headers:i={},schema:s,fetch:c}={}){this.url=t,this.headers=new Headers(i),this.schemaName=s,this.fetch=c}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new rE(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new o1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,i={},{head:s=!1,get:c=!1,count:h}={}){var f;let p;const g=new URL(`${this.url}/rpc/${t}`);let x;s||c?(p=s?"HEAD":"GET",Object.entries(i).filter(([w,E])=>E!==void 0).map(([w,E])=>[w,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([w,E])=>{g.searchParams.append(w,E)})):(p="POST",x=i);const _=new Headers(this.headers);return h&&_.set("Prefer",`count=${h}`),new zo({method:p,url:g,headers:_,schema:this.schemaName,body:x,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class aE{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const s=i.node,c=parseInt(s.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let i=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(i+=`

Suggested solution: ${t.workaround}`),new Error(i)}static createWebSocket(t,i){const s=this.getWebSocketConstructor();return new s(t,i)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const oE="2.89.0",lE=`realtime-js/${oE}`,l1="1.0.0",cE="2.0.0",Nx=l1,vp=1e4,uE=1e3,dE=100;var xs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xs||(xs={}));var Zt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Zt||(Zt={}));var Ei;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ei||(Ei={}));var xp;(function(e){e.websocket="websocket"})(xp||(xp={}));var ja;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ja||(ja={}));class hE{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,i){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return i(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var i;return this._isArrayBuffer((i=t.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var i,s;const c=(s=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(t){var i,s;const c=(s=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(t,i,s){var c,h;const f=t.topic,p=(c=t.ref)!==null&&c!==void 0?c:"",g=(h=t.join_ref)!==null&&h!==void 0?h:"",x=t.payload.event,_=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(_).length===0?"":JSON.stringify(_);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`userEvent length ${x.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+p.length+f.length+x.length+w.length,N=new ArrayBuffer(this.HEADER_LENGTH+E);let A=new DataView(N),k=0;A.setUint8(k++,this.KINDS.userBroadcastPush),A.setUint8(k++,g.length),A.setUint8(k++,p.length),A.setUint8(k++,f.length),A.setUint8(k++,x.length),A.setUint8(k++,w.length),A.setUint8(k++,i),Array.from(g,M=>A.setUint8(k++,M.charCodeAt(0))),Array.from(p,M=>A.setUint8(k++,M.charCodeAt(0))),Array.from(f,M=>A.setUint8(k++,M.charCodeAt(0))),Array.from(x,M=>A.setUint8(k++,M.charCodeAt(0))),Array.from(w,M=>A.setUint8(k++,M.charCodeAt(0)));var P=new Uint8Array(N.byteLength+s.byteLength);return P.set(new Uint8Array(N),0),P.set(new Uint8Array(s),N.byteLength),P.buffer}decode(t,i){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return i(s)}if(typeof t=="string"){const s=JSON.parse(t),[c,h,f,p,g]=s;return i({join_ref:c,ref:h,topic:f,event:p,payload:g})}return i({})}_binaryDecode(t){const i=new DataView(t),s=i.getUint8(0),c=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,i,c)}_decodeUserBroadcast(t,i,s){const c=i.getUint8(1),h=i.getUint8(2),f=i.getUint8(3),p=i.getUint8(4);let g=this.HEADER_LENGTH+4;const x=s.decode(t.slice(g,g+c));g=g+c;const _=s.decode(t.slice(g,g+h));g=g+h;const w=s.decode(t.slice(g,g+f));g=g+f;const E=t.slice(g,t.byteLength),N=p===this.JSON_ENCODING?JSON.parse(s.decode(E)):E,A={type:this.BROADCAST_EVENT,event:_,payload:N};return f>0&&(A.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(t){var i;return t instanceof ArrayBuffer||((i=t?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(t,i){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>i.includes(s)))}}class c1{constructor(t,i){this.callback=t,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ft||(ft={}));const Cx=(e,t,i={})=>{var s;const c=(s=i.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((h,f)=>(h[f]=fE(f,e,t,c),h),{}):{}},fE=(e,t,i,s)=>{const c=t.find(p=>p.name===e),h=c?.type,f=i[e];return h&&!s.includes(h)?u1(h,f):bp(f)},u1=(e,t)=>{if(e.charAt(0)==="_"){const i=e.slice(1,e.length);return yE(t,i)}switch(e){case ft.bool:return mE(t);case ft.float4:case ft.float8:case ft.int2:case ft.int4:case ft.int8:case ft.numeric:case ft.oid:return pE(t);case ft.json:case ft.jsonb:return gE(t);case ft.timestamp:return vE(t);case ft.abstime:case ft.date:case ft.daterange:case ft.int4range:case ft.int8range:case ft.money:case ft.reltime:case ft.text:case ft.time:case ft.timestamptz:case ft.timetz:case ft.tsrange:case ft.tstzrange:return bp(t);default:return bp(t)}},bp=e=>e,mE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},pE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},gE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},yE=(e,t)=>{if(typeof e!="string")return e;const i=e.length-1,s=e[i];if(e[0]==="{"&&s==="}"){let h;const f=e.slice(1,i);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(p=>u1(t,p))}return e},vE=e=>typeof e=="string"?e.replace(" ","T"):e,d1=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Dm{constructor(t,i,s={},c=vp){this.channel=t,this.event=i,this.payload=s,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,i){var s;return this._hasReceived(t)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:i}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(i))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ax;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ax||(Ax={}));class bc{constructor(t,i){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},c=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bc.syncState(this.state,c,h,f),this.pendingDiffs.forEach(g=>{this.state=bc.syncDiff(this.state,g,h,f)}),this.pendingDiffs=[],p()}),this.channel._on(s.diff,{},c=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=bc.syncDiff(this.state,c,h,f),p())}),this.onJoin((c,h,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:f})}),this.onLeave((c,h,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,i,s,c){const h=this.cloneDeep(t),f=this.transformState(i),p={},g={};return this.map(h,(x,_)=>{f[x]||(g[x]=_)}),this.map(f,(x,_)=>{const w=h[x];if(w){const E=_.map(P=>P.presence_ref),N=w.map(P=>P.presence_ref),A=_.filter(P=>N.indexOf(P.presence_ref)<0),k=w.filter(P=>E.indexOf(P.presence_ref)<0);A.length>0&&(p[x]=A),k.length>0&&(g[x]=k)}else p[x]=_}),this.syncDiff(h,{joins:p,leaves:g},s,c)}static syncDiff(t,i,s,c){const{joins:h,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),c||(c=()=>{}),this.map(h,(p,g)=>{var x;const _=(x=t[p])!==null&&x!==void 0?x:[];if(t[p]=this.cloneDeep(g),_.length>0){const w=t[p].map(N=>N.presence_ref),E=_.filter(N=>w.indexOf(N.presence_ref)<0);t[p].unshift(...E)}s(p,_,g)}),this.map(f,(p,g)=>{let x=t[p];if(!x)return;const _=g.map(w=>w.presence_ref);x=x.filter(w=>_.indexOf(w.presence_ref)<0),t[p]=x,c(p,x,g),x.length===0&&delete t[p]}),t}static map(t,i){return Object.getOwnPropertyNames(t).map(s=>i(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((i,s)=>{const c=t[s];return"metas"in c?i[s]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):i[s]=c,i},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rx||(Rx={}));var _c;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_c||(_c={}));var Sr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Sr||(Sr={}));class Io{constructor(t,i={config:{}},s){var c,h;if(this.topic=t,this.params=i,this.socket=s,this.bindings={},this.state=Zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Dm(this,Ei.join,this.params,this.timeout),this.rejoinTimer=new c1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ei.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new bc(this),this.broadcastEndpointURL=d1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,i=this.timeout){var s,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==Zt.closed){const{config:{broadcast:f,presence:p,private:g}}=this.params,x=(c=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(N=>N.filter))!==null&&c!==void 0?c:[],_=!!this.bindings[_c.PRESENCE]&&this.bindings[_c.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,w={},E={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:_}),postgres_changes:x,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(N=>t?.(Sr.CHANNEL_ERROR,N)),this._onClose(()=>t?.(Sr.CLOSED)),this.updateJoinPayload(Object.assign({config:E},w)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:N})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),N===void 0){t?.(Sr.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,P=(A=k?.length)!==null&&A!==void 0?A:0,M=[];for(let D=0;D<P;D++){const R=k[D],{filter:{event:Z,schema:F,table:V,filter:B}}=R,te=N&&N[D];if(te&&te.event===Z&&Io.isFilterValueEqual(te.schema,F)&&Io.isFilterValueEqual(te.table,V)&&Io.isFilterValueEqual(te.filter,B))M.push(Object.assign(Object.assign({},R),{id:te.id}));else{this.unsubscribe(),this.state=Zt.errored,t?.(Sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,t&&t(Sr.SUBSCRIBED);return}}).receive("error",N=>{this.state=Zt.errored,t?.(Sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{t?.(Sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,i={}){return await this.send({type:"presence",event:"track",payload:t},i.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,i,s){return this.state===Zt.joined&&t===_c.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,i,s)}async httpSend(t,i,s={}){var c;if(i==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:i,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=s.timeout)!==null&&c!==void 0?c:this.timeout);if(p.status===202)return{success:!0};let g=p.statusText;try{const x=await p.json();g=x.error||x.message||g}catch{}return Promise.reject(new Error(g))}async send(t,i={}){var s,c;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=t,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((c=x.body)===null||c===void 0?void 0:c.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,p,g;const x=this._push(t.type,t,i.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&h("ok"),x.receive("ok",()=>h("ok")),x.receive("error",()=>h("error")),x.receive("timeout",()=>h("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Zt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ei.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(c=>{s=new Dm(this,Ei.leave,{},t),s.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Zt.closed,this.bindings={}}async _fetchWithTimeout(t,i,s){const c=new AbortController,h=setTimeout(()=>c.abort(),s),f=await this.socket.fetch(t,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(h),f}_push(t,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Dm(this,t,i,s);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>dE){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(t,i,s){return i}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,i,s){var c,h;const f=t.toLocaleLowerCase(),{close:p,error:g,leave:x,join:_}=Ei;if(s&&[p,g,x,_].indexOf(f)>=0&&s!==this._joinRef())return;let E=this._onMessage(f,i,s);if(i&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(N=>{var A,k,P;return((A=N.filter)===null||A===void 0?void 0:A.event)==="*"||((P=(k=N.filter)===null||k===void 0?void 0:k.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===f}).map(N=>N.callback(E,s)):(h=this.bindings[f])===null||h===void 0||h.filter(N=>{var A,k,P,M,D,R;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in N){const Z=N.id,F=(A=N.filter)===null||A===void 0?void 0:A.event;return Z&&((k=i.ids)===null||k===void 0?void 0:k.includes(Z))&&(F==="*"||F?.toLocaleLowerCase()===((P=i.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const Z=(D=(M=N?.filter)===null||M===void 0?void 0:M.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return Z==="*"||Z===((R=i?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===f}).map(N=>{if(typeof E=="object"&&"ids"in E){const A=E.data,{schema:k,table:P,commit_timestamp:M,type:D,errors:R}=A;E=Object.assign(Object.assign({},{schema:k,table:P,commit_timestamp:M,eventType:D,new:{},old:{},errors:R}),this._getPayloadRecords(A))}N.callback(E,s)})}_isClosed(){return this.state===Zt.closed}_isJoined(){return this.state===Zt.joined}_isJoining(){return this.state===Zt.joining}_isLeaving(){return this.state===Zt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,i,s){const c=t.toLocaleLowerCase(),h={type:c,filter:i,callback:s};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(t,i){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===s&&Io.isEqual(c.filter,i))})),this}static isEqual(t,i){if(Object.keys(t).length!==Object.keys(i).length)return!1;for(const s in t)if(t[s]!==i[s])return!1;return!0}static isFilterValueEqual(t,i){return(t??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ei.close,{},t)}_onError(t){this._on(Ei.error,{},i=>t(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const i={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(i.new=Cx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(i.old=Cx(t.columns,t.old_record)),i}}const zm=()=>{},Rd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xE=[1e3,2e3,5e3,1e4],bE=1e4,_E=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wE{constructor(t,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vp,this.transport=null,this.heartbeatIntervalMs=Rd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zm,this.ref=0,this.reconnectTimer=null,this.vsn=Nx,this.logger=zm,this.conn=null,this.sendBuffer=[],this.serializer=new hE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...h)=>c(...h):(...h)=>fetch(...h),!(!((s=i?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${t}/${xp.websocket}`,this.httpEndpoint=d1(t),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aE.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const i=t.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const i=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const t=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,i,s){this.logger(t,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case xs.connecting:return ja.Connecting;case xs.open:return ja.Open;case xs.closing:return ja.Closing;default:return ja.Closed}}isConnected(){return this.connectionState()===ja.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,i={config:{}}){const s=`realtime:${t}`,c=this.getChannels().find(h=>h.topic===s);if(c)return c;{const h=new Io(`realtime:${t}`,i,this);return this.channels.push(h),h}}push(t){const{topic:i,event:s,payload:c,ref:h}=t,f=()=>{this.encode(t,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${i} ${s} (${h})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(uE,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Rd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let i=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${t}"`),i.unsubscribe())}_remove(t){this.channels=this.channels.filter(i=>i.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(x){this.log("error","error in heartbeat callback",x)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:c,payload:h,ref:f}=i,p=f?`(${f})`:"",g=h.status||"";this.log("receive",`${g} ${s} ${c} ${p}`.trim(),h),this.channels.filter(x=>x._isMember(s)).forEach(x=>x._trigger(c,h,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(t){var i;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===xs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===xs.open||this.conn.readyState===xs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var i;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ei.error))}_appendParams(t,i){if(Object.keys(i).length===0)return t;const s=t.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${t}${s}${c}`}_workerObjectUrl(t){let i;if(t)i=t;else{const s=new Blob([_E],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(t,i=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(t=null){let i,s=!1;if(t)i=t,s=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),i=this.accessTokenValue}else i=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(c=>{const h={access_token:i,version:lE};i&&c.updateJoinPayload(h),c.joinedOnce&&c._isJoined()&&c._push(Ei.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${t}`,i)})}_triggerStateCallbacks(t,i){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(i)}catch(c){this.log("error",`error in ${t} callback`,c)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new c1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var i,s,c,h,f,p,g,x,_,w,E,N;switch(this.transport=(i=t?.transport)!==null&&i!==void 0?i:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:vp,this.heartbeatIntervalMs=(c=t?.heartbeatIntervalMs)!==null&&c!==void 0?c:Rd.HEARTBEAT_INTERVAL,this.worker=(h=t?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=t?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=t?.heartbeatCallback)!==null&&p!==void 0?p:zm,this.vsn=(g=t?.vsn)!==null&&g!==void 0?g:Nx,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=t?.reconnectAfterMs)!==null&&x!==void 0?x:(A=>xE[A-1]||bE),this.vsn){case l1:this.encode=(_=t?.encode)!==null&&_!==void 0?_:((A,k)=>k(JSON.stringify(A))),this.decode=(w=t?.decode)!==null&&w!==void 0?w:((A,k)=>k(JSON.parse(A)));break;case cE:this.encode=(E=t?.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(N=t?.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Oc=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function SE(e,t,i){const s=new URL(t,e);if(i)for(const[c,h]of Object.entries(i))h!==void 0&&s.searchParams.set(c,h);return s.toString()}async function jE(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function TE(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:i,path:s,query:c,body:h,headers:f}){const p=SE(e.baseUrl,s,c),g=await jE(e.auth),x=await t(p,{method:i,headers:{...h?{"Content-Type":"application/json"}:{},...g,...f},body:h?JSON.stringify(h):void 0}),_=await x.text(),w=(x.headers.get("content-type")||"").includes("application/json"),E=w&&_?JSON.parse(_):_;if(!x.ok){const N=w?E:void 0,A=N?.error;throw new Oc(A?.message??`Request failed with status ${x.status}`,{status:x.status,icebergType:A?.type,icebergCode:A?.code,details:N})}return{status:x.status,headers:x.headers,data:E}}}}function Od(e){return e.join("")}var EE=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Od(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(e,t){const i={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Od(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Od(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Od(e.namespace)}`}),!0}catch(t){if(t instanceof Oc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(i){if(i instanceof Oc&&i.status===409)return;throw i}}};function Oo(e){return e.join("")}var NE=class{constructor(e,t="",i){this.client=e,this.prefix=t,this.accessDelegation=i}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Oo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Oo(e.namespace)}/tables`,body:t,headers:i})).data.metadata}async updateTable(e,t){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Oo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Oo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Oo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Oo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(i){if(i instanceof Oc&&i.status===404)return!1;throw i}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(i){if(i instanceof Oc&&i.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw i}}},CE=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const i=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=TE({baseUrl:i,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new EE(this.client,t),this.tableOps=new NE(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},hh=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function jt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var AE=class extends hh{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_p=class extends hh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const gg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),RE=()=>Response,wp=e=>{if(Array.isArray(e))return e.map(i=>wp(i));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([i,s])=>{const c=i.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));t[c]=wp(s)}),t},OE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kE=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function LE(e,t){if(kc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var s=i.call(e,t);if(kc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PE(e){var t=LE(e,"string");return kc(t)=="symbol"?t:t+""}function ME(e,t,i){return(t=PE(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ox(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),i.push.apply(i,s)}return i}function Ae(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Ox(Object(i),!0).forEach(function(s){ME(e,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ox(Object(i)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(i,s))})}return e}const Bm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},DE=async(e,t,i)=>{e instanceof await RE()&&!i?.noResolveJson?e.json().then(s=>{const c=e.status||500,h=s?.statusCode||c+"";t(new AE(Bm(s),c,h))}).catch(s=>{t(new _p(Bm(s),s))}):t(new _p(Bm(e),e))},zE=(e,t,i,s)=>{const c={method:e,headers:t?.headers||{}};return e==="GET"||!s?c:(OE(s)?(c.headers=Ae({"Content-Type":"application/json"},t?.headers),c.body=JSON.stringify(s)):c.body=s,t?.duplex&&(c.duplex=t.duplex),Ae(Ae({},c),i))};async function Zc(e,t,i,s,c,h){return new Promise((f,p)=>{e(i,zE(t,s,c,h)).then(g=>{if(!g.ok)throw g;return s?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>DE(g,p,s))})}async function Lc(e,t,i,s){return Zc(e,"GET",t,i,s)}async function Ti(e,t,i,s,c){return Zc(e,"POST",t,s,c,i)}async function Sp(e,t,i,s,c){return Zc(e,"PUT",t,s,c,i)}async function BE(e,t,i,s){return Zc(e,"HEAD",t,Ae(Ae({},i),{},{noResolveJson:!0}),s)}async function yg(e,t,i,s,c){return Zc(e,"DELETE",t,s,c,i)}var UE=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(jt(t))return{data:null,error:t};throw t}}};let h1;h1=Symbol.toStringTag;var IE=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[h1]="BlobDownloadBuilder",this.promise=null}asStream(){return new UE(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(jt(t))return{data:null,error:t};throw t}}};const VE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var HE=class{constructor(e,t={},i,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=gg(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,i,s){var c=this;try{let h;const f=Ae(Ae({},kx),s);let p=Ae(Ae({},c.headers),e==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),g&&h.append("metadata",c.encodeMetadata(g)),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),g&&!h.has("metadata")&&h.append("metadata",c.encodeMetadata(g))):(h=i,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=c.toBase64(c.encodeMetadata(g))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),s?.headers&&(p=Ae(Ae({},p),s.headers));const x=c._removeEmptyFolders(t),_=c._getFinalPath(x),w=await(e=="PUT"?Sp:Ti)(c.fetch,`${c.url}/object/${_}`,h,Ae({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:x,id:w.Id,fullPath:w.Key},error:null}}catch(h){if(c.shouldThrowOnError)throw h;if(jt(h))return{data:null,error:h};throw h}}async upload(e,t,i){return this.uploadOrUpdate("POST",e,t,i)}async uploadToSignedUrl(e,t,i,s){var c=this;const h=c._removeEmptyFolders(e),f=c._getFinalPath(h),p=new URL(c.url+`/object/upload/sign/${f}`);p.searchParams.set("token",t);try{let g;const x=Ae({upsert:kx.upsert},s),_=Ae(Ae({},c.headers),{"x-upsert":String(x.upsert)});return typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",x.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",x.cacheControl)):(g=i,_["cache-control"]=`max-age=${x.cacheControl}`,_["content-type"]=x.contentType),{data:{path:h,fullPath:(await Sp(c.fetch,p.toString(),g,{headers:_})).Key},error:null}}catch(g){if(c.shouldThrowOnError)throw g;if(jt(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(e,t){var i=this;try{let s=i._getFinalPath(e);const c=Ae({},i.headers);t?.upsert&&(c["x-upsert"]="true");const h=await Ti(i.fetch,`${i.url}/object/upload/sign/${s}`,{},{headers:c}),f=new URL(i.url+h.url),p=f.searchParams.get("token");if(!p)throw new hh("No token returned by API");return{data:{signedUrl:f.toString(),path:e,token:p},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}}async update(e,t,i){return this.uploadOrUpdate("PUT",e,t,i)}async move(e,t,i){var s=this;try{return{data:await Ti(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:s.headers}),error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(jt(c))return{data:null,error:c};throw c}}async copy(e,t,i){var s=this;try{return{data:{path:(await Ti(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(jt(c))return{data:null,error:c};throw c}}async createSignedUrl(e,t,i){var s=this;try{let c=s._getFinalPath(e),h=await Ti(s.fetch,`${s.url}/object/sign/${c}`,Ae({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:s.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return h={signedUrl:encodeURI(`${s.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(jt(c))return{data:null,error:c};throw c}}async createSignedUrls(e,t,i){var s=this;try{const c=await Ti(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:e},{headers:s.headers}),h=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(f=>Ae(Ae({},f),{},{signedUrl:f.signedURL?encodeURI(`${s.url}${f.signedURL}${h}`):null})),error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(jt(c))return{data:null,error:c};throw c}}download(e,t){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),c=s?`?${s}`:"",h=this._getFinalPath(e),f=()=>Lc(this.fetch,`${this.url}/${i}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new IE(f,this.shouldThrowOnError)}async info(e){var t=this;const i=t._getFinalPath(e);try{return{data:wp(await Lc(t.fetch,`${t.url}/object/info/${i}`,{headers:t.headers})),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}}async exists(e){var t=this;const i=t._getFinalPath(e);try{return await BE(t.fetch,`${t.url}/object/${i}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(jt(s)&&s instanceof _p){const c=s.originalError;if([400,404].includes(c?.status))return{data:!1,error:s}}throw s}}getPublicUrl(e,t){const i=this._getFinalPath(e),s=[],c=t?.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&s.push(c);const h=typeof t?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(t?.transform||{});f!==""&&s.push(f);let p=s.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${p}`)}}}async remove(e){var t=this;try{return{data:await yg(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}async list(e,t,i){var s=this;try{const c=Ae(Ae(Ae({},VE),t),{},{prefix:e||""});return{data:await Ti(s.fetch,`${s.url}/object/list/${s.bucketId}`,c,{headers:s.headers},i),error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(jt(c))return{data:null,error:c};throw c}}async listV2(e,t){var i=this;try{const s=Ae({},e);return{data:await Ti(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,s,{headers:i.headers},t),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const f1="2.89.0",m1={"X-Client-Info":`storage-js/${f1}`};var $E=class{constructor(e,t={},i,s){this.shouldThrowOnError=!1;const c=new URL(e);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Ae(Ae({},m1),t),this.fetch=gg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const i=t.listBucketOptionsToQueryString(e);return{data:await Lc(t.fetch,`${t.url}/bucket${i}`,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}async getBucket(e){var t=this;try{return{data:await Lc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}async createBucket(e,t={public:!1}){var i=this;try{return{data:await Ti(i.fetch,`${i.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}}async updateBucket(e,t){var i=this;try{return{data:await Sp(i.fetch,`${i.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}}async emptyBucket(e){var t=this;try{return{data:await Ti(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}async deleteBucket(e){var t=this;try{return{data:await yg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},qE=class{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},m1),t),this.fetch=gg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ti(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}async listBuckets(e){var t=this;try{const i=new URLSearchParams;e?.limit!==void 0&&i.set("limit",e.limit.toString()),e?.offset!==void 0&&i.set("offset",e.offset.toString()),e?.sortColumn&&i.set("sortColumn",e.sortColumn),e?.sortOrder&&i.set("sortOrder",e.sortOrder),e?.search&&i.set("search",e.search);const s=i.toString(),c=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return{data:await Lc(t.fetch,c,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}async deleteBucket(e){var t=this;try{return{data:await yg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}from(e){var t=this;if(!kE(e))throw new hh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new CE({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(i,{get(c,h){const f=c[h];return typeof f!="function"?f:async(...p)=>{try{return{data:await f.apply(c,p),error:null}}catch(g){if(s)throw g;return{data:null,error:g}}}}})}};const vg={"X-Client-Info":`storage-js/${f1}`,"Content-Type":"application/json"};var p1=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function $n(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Um=class extends p1{constructor(e,t,i){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},FE=class extends p1{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const xg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ZE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Lx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GE=async(e,t,i)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!i?.noResolveJson){const s=e.status||500,c=e;if(typeof c.json=="function")c.json().then(h=>{const f=h?.statusCode||h?.code||s+"";t(new Um(Lx(h),s,f))}).catch(()=>{const h=s+"";t(new Um(c.statusText||`HTTP ${s} error`,s,h))});else{const h=s+"";t(new Um(c.statusText||`HTTP ${s} error`,s,h))}}else t(new FE(Lx(e),e))},WE=(e,t,i,s)=>{const c={method:e,headers:t?.headers||{}};return s?(ZE(s)?(c.headers=Ae({"Content-Type":"application/json"},t?.headers),c.body=JSON.stringify(s)):c.body=s,Ae(Ae({},c),i)):c};async function KE(e,t,i,s,c,h){return new Promise((f,p)=>{e(i,WE(t,s,c,h)).then(g=>{if(!g.ok)throw g;if(s?.noResolveJson)return g;const x=g.headers.get("content-type");return!x||!x.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>GE(g,p,s))})}async function qn(e,t,i,s,c){return KE(e,"POST",t,s,c,i)}var YE=class{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},vg),t),this.fetch=xg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await qn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($n(i))return{data:null,error:i};throw i}}async getIndex(e,t){var i=this;try{return{data:await qn(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if($n(s))return{data:null,error:s};throw s}}async listIndexes(e){var t=this;try{return{data:await qn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($n(i))return{data:null,error:i};throw i}}async deleteIndex(e,t){var i=this;try{return{data:await qn(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:i.headers})||{},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if($n(s))return{data:null,error:s};throw s}}},XE=class{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},vg),t),this.fetch=xg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await qn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($n(i))return{data:null,error:i};throw i}}async getVectors(e){var t=this;try{return{data:await qn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($n(i))return{data:null,error:i};throw i}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await qn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($n(i))return{data:null,error:i};throw i}}async queryVectors(e){var t=this;try{return{data:await qn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($n(i))return{data:null,error:i};throw i}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await qn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($n(i))return{data:null,error:i};throw i}}},JE=class{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},vg),t),this.fetch=xg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await qn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($n(i))return{data:null,error:i};throw i}}async getBucket(e){var t=this;try{return{data:await qn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($n(i))return{data:null,error:i};throw i}}async listBuckets(e={}){var t=this;try{return{data:await qn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($n(i))return{data:null,error:i};throw i}}async deleteBucket(e){var t=this;try{return{data:await qn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($n(i))return{data:null,error:i};throw i}}},QE=class extends JE{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new e4(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,i=this;return t().call(i,e)}async getBucket(e){var t=()=>super.getBucket,i=this;return t().call(i,e)}async listBuckets(e={}){var t=()=>super.listBuckets,i=this;return t().call(i,e)}async deleteBucket(e){var t=()=>super.deleteBucket,i=this;return t().call(i,e)}},e4=class extends YE{constructor(e,t,i,s){super(e,t,s),this.vectorBucketName=i}async createIndex(e){var t=()=>super.createIndex,i=this;return t().call(i,Ae(Ae({},e),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,i=this;return t().call(i,Ae(Ae({},e),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,i=this;return t().call(i,i.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,i=this;return t().call(i,i.vectorBucketName,e)}index(e){return new t4(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},t4=class extends XE{constructor(e,t,i,s,c){super(e,t,c),this.vectorBucketName=i,this.indexName=s}async putVectors(e){var t=()=>super.putVectors,i=this;return t().call(i,Ae(Ae({},e),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(e){var t=()=>super.getVectors,i=this;return t().call(i,Ae(Ae({},e),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,i=this;return t().call(i,Ae(Ae({},e),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,i=this;return t().call(i,Ae(Ae({},e),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,i=this;return t().call(i,Ae(Ae({},e),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},n4=class extends $E{constructor(e,t={},i,s){super(e,t,i,s)}from(e){return new HE(this.url,this.headers,e,this.fetch)}get vectors(){return new QE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qE(this.url+"/iceberg",this.headers,this.fetch)}};const g1="2.89.0",Bo=30*1e3,jp=3,Im=jp*Bo,i4="http://localhost:9999",r4="supabase.auth.token",s4={"X-Client-Info":`gotrue-js/${g1}`},Tp="X-Supabase-Api-Version",y1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},a4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,o4=600*1e3;class Pc extends Error{constructor(t,i,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function we(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class l4 extends Pc{constructor(t,i,s){super(t,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function c4(e){return we(e)&&e.name==="AuthApiError"}class Ta extends Pc{constructor(t,i){super(t),this.name="AuthUnknownError",this.originalError=i}}class Or extends Pc{constructor(t,i,s,c){super(t,s,c),this.name=i,this.status=s}}class Vn extends Or{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function u4(e){return we(e)&&e.name==="AuthSessionMissingError"}class ko extends Or{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kd extends Or{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ld extends Or{constructor(t,i=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function d4(e){return we(e)&&e.name==="AuthImplicitGrantRedirectError"}class Px extends Or{constructor(t,i=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class h4 extends Or{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ep extends Or{constructor(t,i){super(t,"AuthRetryableFetchError",i,void 0)}}function Vm(e){return we(e)&&e.name==="AuthRetryableFetchError"}class Mx extends Or{constructor(t,i,s){super(t,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}class Np extends Or{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dx=` 	
\r=`.split(""),f4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Dx.length;t+=1)e[Dx[t].charCodeAt(0)]=-2;for(let t=0;t<Gd.length;t+=1)e[Gd[t].charCodeAt(0)]=t;return e})();function zx(e,t,i){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;i(Gd[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;i(Gd[s]),t.queuedBits-=6}}function v1(e,t,i){const s=f4[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)i(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Bx(e){const t=[],i=f=>{t.push(String.fromCodePoint(f))},s={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=f=>{g4(f,s,i)};for(let f=0;f<e.length;f+=1)v1(e.charCodeAt(f),c,h);return t.join("")}function m4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function p4(e,t){for(let i=0;i<e.length;i+=1){let s=e.charCodeAt(i);if(s>55295&&s<=56319){const c=(s-55296)*1024&65535;s=(e.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}m4(s,t)}}function g4(e,t,i){if(t.utf8seq===0){if(e<=127){i(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&i(t.codepoint)}}function Go(e){const t=[],i={queue:0,queuedBits:0},s=c=>{t.push(c)};for(let c=0;c<e.length;c+=1)v1(e.charCodeAt(c),i,s);return new Uint8Array(t)}function y4(e){const t=[];return p4(e,i=>t.push(i)),new Uint8Array(t)}function Na(e){const t=[],i={queue:0,queuedBits:0},s=c=>{t.push(c)};return e.forEach(c=>zx(c,i,s)),zx(null,i,s),t.join("")}function v4(e){return Math.round(Date.now()/1e3)+e}function x4(){return Symbol("auth-callback")}const sn=()=>typeof window<"u"&&typeof document<"u",va={tested:!1,writable:!1},x1=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(va.tested)return va.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),va.tested=!0,va.writable=!0}catch{va.tested=!0,va.writable=!1}return va.writable};function b4(e){const t={},i=new URL(e);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,h)=>{t[h]=c})}catch{}return i.searchParams.forEach((s,c)=>{t[c]=s}),t}const b1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Uo=async(e,t,i)=>{await e.setItem(t,JSON.stringify(i))},xa=async(e,t)=>{const i=await e.getItem(t);if(!i)return null;try{return JSON.parse(i)}catch{return i}},rn=async(e,t)=>{await e.removeItem(t)};class fh{constructor(){this.promise=new fh.promiseConstructor((t,i)=>{this.resolve=t,this.reject=i})}}fh.promiseConstructor=Promise;function Hm(e){const t=e.split(".");if(t.length!==3)throw new Np("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!a4.test(t[s]))throw new Np("JWT not in base64url format");return{header:JSON.parse(Bx(t[0])),payload:JSON.parse(Bx(t[1])),signature:Go(t[2]),raw:{header:t[0],payload:t[1]}}}async function w4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function S4(e,t){return new Promise((s,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await e(h);if(!t(h,null,f)){s(f);return}}catch(f){if(!t(h,f)){c(f);return}}})()})}function j4(e){return("0"+e.toString(16)).substr(-2)}function T4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let c="";for(let h=0;h<56;h++)c+=i.charAt(Math.floor(Math.random()*s));return c}return crypto.getRandomValues(t),Array.from(t,j4).join("")}async function E4(e){const i=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(s);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function N4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const i=await E4(e);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lo(e,t,i=!1){const s=T4();let c=s;i&&(c+="/PASSWORD_RECOVERY"),await Uo(e,`${t}-code-verifier`,c);const h=await N4(s);return[h,s===h?"plain":"s256"]}const C4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function A4(e){const t=e.headers.get(Tp);if(!t||!t.match(C4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function R4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function O4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const k4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Po(e){if(!k4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $m(){const e={};return new Proxy(e,{get:(t,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function L4(e,t){return new Proxy(e,{get:(i,s,c)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const h=s.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,c)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(i,s,c)}})}function Ux(e){return JSON.parse(JSON.stringify(e))}const _a=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),P4=[502,503,504];async function Ix(e){var t;if(!_4(e))throw new Ep(_a(e),0);if(P4.includes(e.status))throw new Ep(_a(e),e.status);let i;try{i=await e.json()}catch(h){throw new Ta(_a(h),h)}let s;const c=A4(e);if(c&&c.getTime()>=y1["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new Mx(_a(i),e.status,((t=i.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Vn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new Mx(_a(i),e.status,i.weak_password.reasons);throw new l4(_a(i),e.status||500,s)}const M4=(e,t,i,s)=>{const c={method:e,headers:t?.headers||{}};return e==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),c.body=JSON.stringify(s),Object.assign(Object.assign({},c),i))};async function Ce(e,t,i,s){var c;const h=Object.assign({},s?.headers);h[Tp]||(h[Tp]=y1["2024-01-01"].name),s?.jwt&&(h.Authorization=`Bearer ${s.jwt}`);const f=(c=s?.query)!==null&&c!==void 0?c:{};s?.redirectTo&&(f.redirect_to=s.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await D4(e,t,i+p,{headers:h,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(g):{data:Object.assign({},g),error:null}}async function D4(e,t,i,s,c,h){const f=M4(t,s,c,h);let p;try{p=await e(i,Object.assign({},f))}catch(g){throw console.error(g),new Ep(_a(g),0)}if(p.ok||await Ix(p),s?.noResolveJson)return p;try{return await p.json()}catch(g){await Ix(g)}}function Si(e){var t;let i=null;U4(e)&&(i=Object.assign({},e),e.expires_at||(i.expires_at=v4(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:i,user:s},error:null}}function Vx(e){const t=Si(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function z4(e){return{data:e,error:null}}function B4(e){const{action_link:t,email_otp:i,hashed_token:s,redirect_to:c,verification_type:h}=e,f=dh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:t,email_otp:i,hashed_token:s,redirect_to:c,verification_type:h},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function Hx(e){return e}function U4(e){return e.access_token&&e.refresh_token&&e.expires_in}const qm=["global","local","others"];class I4{constructor({url:t="",headers:i={},fetch:s}){this.url=t,this.headers=i,this.fetch=b1(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,i=qm[0]){if(qm.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qm.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,i={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:bs})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:i}=t,s=dh(t,["options"]),c=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(c.new_email=s?.newEmail,delete c.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:B4,redirectTo:i?.redirectTo})}catch(i){if(we(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bs})}catch(i){if(we(i))return{data:{user:null},error:i};throw i}}async listUsers(t){var i,s,c,h,f,p,g;try{const x={nextPage:null,lastPage:0,total:0},_=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=t?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(h=(c=t?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:Hx});if(_.error)throw _.error;const w=await _.json(),E=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,N=(g=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return N.length>0&&(N.forEach(A=>{const k=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(A.split(";")[1].split("=")[1]);x[`${P}Page`]=k}),x.total=parseInt(E)),{data:Object.assign(Object.assign({},w),x),error:null}}catch(x){if(we(x))return{data:{users:[]},error:x};throw x}}async getUserById(t){Po(t);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bs})}catch(i){if(we(i))return{data:{user:null},error:i};throw i}}async updateUserById(t,i){Po(t);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:i,headers:this.headers,xform:bs})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,i=!1){Po(t);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:i},xform:bs})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Po(t.userId);try{const{data:i,error:s}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:s}}catch(i){if(we(i))return{data:null,error:i};throw i}}async _deleteFactor(t){Po(t.userId),Po(t.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}}async _listOAuthClients(t){var i,s,c,h,f,p,g;try{const x={nextPage:null,lastPage:0,total:0},_=await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=t?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(h=(c=t?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:Hx});if(_.error)throw _.error;const w=await _.json(),E=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,N=(g=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return N.length>0&&(N.forEach(A=>{const k=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(A.split(";")[1].split("=")[1]);x[`${P}Page`]=k}),x.total=parseInt(E)),{data:Object.assign(Object.assign({},w),x),error:null}}catch(x){if(we(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(we(i))return{data:null,error:i};throw i}}async _getOAuthClient(t){try{return await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(we(i))return{data:null,error:i};throw i}}async _updateOAuthClient(t,i){try{return await Ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(we(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(we(i))return{data:null,error:i};throw i}}}function $x(e={}){return{getItem:t=>e[t]||null,setItem:(t,i)=>{e[t]=i},removeItem:t=>{delete e[t]}}}const Mo={debug:!!(globalThis&&x1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class V4 extends _1{}async function H4(e,t,i){Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async c=>{if(c){Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,c.name);try{return await i()}finally{Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,c.name)}}else{if(t===0)throw Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new V4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mo.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function $4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function w1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function q4(e){return parseInt(e,16)}function F4(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function Z4(e){var t;const{chainId:i,domain:s,expirationTime:c,issuedAt:h=new Date,nonce:f,notBefore:p,requestId:g,resources:x,scheme:_,uri:w,version:E}=e;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const N=w1(e.address),A=_?`${_}://${s}`:s,k=e.statement?`${e.statement}
`:"",P=`${A} wants you to sign in with your Ethereum account:
${N}

${k}`;let M=`URI: ${w}
Version: ${E}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(c&&(M+=`
Expiration Time: ${c.toISOString()}`),p&&(M+=`
Not Before: ${p.toISOString()}`),g&&(M+=`
Request ID: ${g}`),x){let D=`
Resources:`;for(const R of x){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);D+=`
- ${R}`}M+=D}return`${P}
${M}`}class Vt extends Error{constructor({message:t,code:i,cause:s,name:c}){var h;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(h=c??(s instanceof Error?s.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=i}}class Wd extends Vt{constructor(t,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:t}),this.name="WebAuthnUnknownError",this.originalError=i}}function G4({error:e,options:t}){var i,s,c;const{publicKey:h}=t;if(!h)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((i=h.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=h.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Vt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return h.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const f=window.location.hostname;if(S1(f)){if(h.rp.id!==f)return new Vt({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new Vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function W4({error:e,options:t}){const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Vt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(S1(s)){if(i.rpId!==s)return new Vt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class K4{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Y4=new K4;function X4(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:i,excludeCredentials:s}=e,c=dh(e,["challenge","user","excludeCredentials"]),h=Go(t).buffer,f=Object.assign(Object.assign({},i),{id:Go(i.id).buffer}),p=Object.assign(Object.assign({},c),{challenge:h,user:f});if(s&&s.length>0){p.excludeCredentials=new Array(s.length);for(let g=0;g<s.length;g++){const x=s[g];p.excludeCredentials[g]=Object.assign(Object.assign({},x),{id:Go(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return p}function J4(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:i}=e,s=dh(e,["challenge","allowCredentials"]),c=Go(t).buffer,h=Object.assign(Object.assign({},s),{challenge:c});if(i&&i.length>0){h.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const p=i[f];h.allowCredentials[f]=Object.assign(Object.assign({},p),{id:Go(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function Q4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const i=e;return{id:e.id,rawId:e.id,response:{attestationObject:Na(new Uint8Array(e.response.attestationObject)),clientDataJSON:Na(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=i.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function eN(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const i=e,s=e.getClientExtensionResults(),c=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Na(new Uint8Array(c.authenticatorData)),clientDataJSON:Na(new Uint8Array(c.clientDataJSON)),signature:Na(new Uint8Array(c.signature)),userHandle:c.userHandle?Na(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=i.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function S1(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function qx(){var e,t;return!!(sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function tN(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wd("Browser returned unexpected credential type",t)}:{data:null,error:new Wd("Empty credential response",t)}}catch(t){return{data:null,error:G4({error:t,options:e})}}}async function nN(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wd("Browser returned unexpected credential type",t)}:{data:null,error:new Wd("Empty credential response",t)}}catch(t){return{data:null,error:W4({error:t,options:e})}}}const iN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},rN={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Kd(...e){const t=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),s={};for(const c of e)if(c)for(const h in c){const f=c[h];if(f!==void 0)if(Array.isArray(f))s[h]=f;else if(i(f))s[h]=f;else if(t(f)){const p=s[h];t(p)?s[h]=Kd(p,f):s[h]=Kd(f)}else s[h]=f}return s}function sN(e,t){return Kd(iN,e,t||{})}function aN(e,t){return Kd(rN,e,t||{})}class oN{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:i,friendlyName:s,signal:c},h){try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:t,webauthn:i});if(!f)return{data:null,error:p};const g=c??Y4.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:x}=f.webauthn.credential_options.publicKey;x.name||(x.name=`${x.id}:${s}`),x.displayName||(x.displayName=x.name)}switch(f.webauthn.type){case"create":{const x=sN(f.webauthn.credential_options.publicKey,h?.create),{data:_,error:w}=await tN({publicKey:x,signal:g});return _?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}case"request":{const x=aN(f.webauthn.credential_options.publicKey,h?.request),{data:_,error:w}=await nN(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:x,signal:g}));return _?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}}}catch(f){return we(f)?{data:null,error:f}:{data:null,error:new Ta("Unexpected error in challenge",f)}}}async _verify({challengeId:t,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!i)return{data:null,error:new Pc("rpId is required for WebAuthn authentication")};try{if(!qx())return{data:null,error:new Ta("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:t,webauthn:{rpId:i,rpOrigins:s},signal:c},{request:h});if(!f)return{data:null,error:p};const{webauthn:g}=f;return this._verify({factorId:t,challengeId:f.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:s,credential_response:g.credential_response}})}catch(f){return we(f)?{data:null,error:f}:{data:null,error:new Ta("Unexpected error in authenticate",f)}}}async _register({friendlyName:t,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!i)return{data:null,error:new Pc("rpId is required for WebAuthn registration")};try{if(!qx())return{data:null,error:new Ta("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:t});if(!f)return await this.client.mfa.listFactors().then(_=>{var w;return(w=_.data)===null||w===void 0?void 0:w.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===t&&E.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:p};const{data:g,error:x}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:c},{create:h});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:s,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:x}}catch(f){return we(f)?{data:null,error:f}:{data:null,error:new Ta("Unexpected error in register",f)}}}}$4();const lN={url:i4,storageKey:r4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:s4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Fx(e,t,i){return await i()}const Do={};class Mc{get jwks(){var t,i;return(i=(t=Do[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(t){Do[this.storageKey]=Object.assign(Object.assign({},Do[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,i;return(i=(t=Do[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Do[this.storageKey]=Object.assign(Object.assign({},Do[this.storageKey]),{cachedAt:t})}constructor(t){var i,s,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},lN),t);if(this.storageKey=h.storageKey,this.instanceID=(i=Mc.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Mc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&sn()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new I4({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=b1(h.fetch),this.lock=h.lock||Fx,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,h.lock?this.lock=h.lock:this.persistSession&&sn()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=H4:this.lock=Fx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:x1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$x(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=$x(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${g1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let i={},s="none";if(sn()&&(i=b4(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),sn()&&this.detectSessionInUrl&&s!=="none"){const{data:c,error:h}=await this._getSessionFromURL(i,s);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),d4(h)){const g=(t=h.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:f,redirectType:p}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return we(i)?this._returnResult({error:i}):this._returnResult({error:new Ta("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var i,s,c;try{const h=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=t?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(c=t?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Si}),{data:f,error:p}=h;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const g=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:x,session:g},error:null})}catch(h){if(we(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(t){var i,s,c;try{let h;if("email"in t){const{email:_,password:w,options:E}=t;let N=null,A=null;this.flowType==="pkce"&&([N,A]=await Lo(this.storage,this.storageKey)),h=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:_,password:w,data:(i=E?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:N,code_challenge_method:A},xform:Si})}else if("phone"in t){const{phone:_,password:w,options:E}=t;h=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:w,data:(s=E?.data)!==null&&s!==void 0?s:{},channel:(c=E?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:Si})}else throw new kd("You must provide either an email or phone number and a password");const{data:f,error:p}=h;if(p||!f)return await rn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const g=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:x,session:g},error:null})}catch(h){if(await rn(this.storage,`${this.storageKey}-code-verifier`),we(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(t){try{let i;if("email"in t){const{email:h,password:f,options:p}=t;i=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Vx})}else if("phone"in t){const{phone:h,password:f,options:p}=t;i=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Vx})}else throw new kd("You must provide either an email or phone number and a password");const{data:s,error:c}=i;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!s||!s.session||!s.user){const h=new ko;return this._returnResult({data:{user:null,session:null},error:h})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:c})}catch(i){if(we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(t){var i,s,c,h;return await this._handleProviderSignIn(t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=t.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:i}=t;switch(i){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(t){var i,s,c,h,f,p,g,x,_,w,E;let N,A;if("message"in t)N=t.message,A=t.signature;else{const{chain:k,wallet:P,statement:M,options:D}=t;let R;if(sn())if(typeof P=="object")R=P;else{const me=window;if("ethereum"in me&&typeof me.ethereum=="object"&&"request"in me.ethereum&&typeof me.ethereum.request=="function")R=me.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=P}const Z=new URL((i=D?.url)!==null&&i!==void 0?i:window.location.href),F=await R.request({method:"eth_requestAccounts"}).then(me=>me).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=w1(F[0]);let B=(s=D?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!B){const me=await R.request({method:"eth_chainId"});B=q4(me)}const te={domain:Z.host,address:V,statement:M,uri:Z.href,version:"1",chainId:B,nonce:(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(h=D?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=D?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=D?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(x=D?.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(_=D?.signInWithEthereum)===null||_===void 0?void 0:_.resources};N=Z4(te),A=await R.request({method:"personal_sign",params:[F4(N),V]})}try{const{data:k,error:P}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:A},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Si});if(P)throw P;if(!k||!k.session||!k.user){const M=new ko;return this._returnResult({data:{user:null,session:null},error:M})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:P})}catch(k){if(we(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var i,s,c,h,f,p,g,x,_,w,E,N;let A,k;if("message"in t)A=t.message,k=t.signature;else{const{chain:P,wallet:M,statement:D,options:R}=t;let Z;if(sn())if(typeof M=="object")Z=M;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))Z=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=M}const F=new URL((i=R?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in Z&&Z.signIn){const V=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),D?{statement:D}:null));let B;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")B=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)B=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)A=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),k=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${F.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(c=(s=R?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=R?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((g=R?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((x=R?.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((w=(_=R?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||w===void 0)&&w.length?["Resources",...R.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const V=await Z.signMessage(new TextEncoder().encode(A),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=V}}try{const{data:P,error:M}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Na(k)},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(N=t.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:Si});if(M)throw M;if(!P||!P.session||!P.user){const D=new ko;return this._returnResult({data:{user:null,session:null},error:D})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:M})}catch(P){if(we(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async _exchangeCodeForSession(t){const i=await xa(this.storage,`${this.storageKey}-code-verifier`),[s,c]=(i??"").split("/");try{if(!s&&this.flowType==="pkce")throw new h4;const{data:h,error:f}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Si});if(await rn(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const p=new ko;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:f})}catch(h){if(await rn(this.storage,`${this.storageKey}-code-verifier`),we(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(t){try{const{options:i,provider:s,token:c,access_token:h,nonce:f}=t,p=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:c,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Si}),{data:g,error:x}=p;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!g||!g.session||!g.user){const _=new ko;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:x})}catch(i){if(we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(t){var i,s,c,h,f;try{if("email"in t){const{email:p,options:g}=t;let x=null,_=null;this.flowType==="pkce"&&([x,_]=await Lo(this.storage,this.storageKey));const{error:w}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(s=g?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:x,code_challenge_method:_},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:p,options:g}=t,{data:x,error:_}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(c=g?.data)!==null&&c!==void 0?c:{},create_user:(h=g?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x?.message_id},error:_})}throw new kd("You must provide either an email or phone number.")}catch(p){if(await rn(this.storage,`${this.storageKey}-code-verifier`),we(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(t){var i,s;try{let c,h;"options"in t&&(c=(i=t.options)===null||i===void 0?void 0:i.redirectTo,h=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:f,error:p}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:Si});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,x=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:x,session:g},error:null})}catch(c){if(we(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(t){var i,s,c,h,f;try{let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Lo(this.storage,this.storageKey));const x=await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(i=t.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((c=t?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:g}),headers:this.headers,xform:z4});return!((h=x.data)===null||h===void 0)&&h.url&&sn()&&!(!((f=t.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(p){if(await rn(this.storage,`${this.storageKey}-code-verifier`),we(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:i},error:s}=t;if(s)throw s;if(!i)throw new Vn;const{error:c}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(t){if(we(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const i=`${this.url}/resend`;if("email"in t){const{email:s,type:c,options:h}=t,{error:f}=await Ce(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in t){const{phone:s,type:c,options:h}=t,{data:f,error:p}=await Ce(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new kd("You must provide either an email or phone number and a type")}catch(i){if(we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(t,i){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await t(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const i=await xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Im:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const f=await xa(this.userStorage,this.storageKey+"-user");f?.user?t.user=f.user:t.user=$m()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};t.user=L4(t.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:c,error:h}=await this._callRefreshToken(t.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(t){try{return t?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bs}):await this._useSession(async i=>{var s,c,h;const{data:f,error:p}=i;if(p)throw p;return!(!((s=f.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vn}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:bs})})}catch(i){if(we(i))return u4(i)&&(await this._removeSession(),await rn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(t,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,i))}async _updateUser(t,i={}){try{return await this._useSession(async s=>{const{data:c,error:h}=s;if(h)throw h;if(!c.session)throw new Vn;const f=c.session;let p=null,g=null;this.flowType==="pkce"&&t.email!=null&&([p,g]=await Lo(this.storage,this.storageKey));const{data:x,error:_}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:bs});if(_)throw _;return f.user=x.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(s){if(await rn(this.storage,`${this.storageKey}-code-verifier`),we(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vn;const i=Date.now()/1e3;let s=i,c=!0,h=null;const{payload:f}=Hm(t.access_token);if(f.exp&&(s=f.exp,c=s<=i),c){const{data:p,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p)return{data:{user:null,session:null},error:null};h=p}else{const{data:p,error:g}=await this._getUser(t.access_token);if(g)throw g;h={access_token:t.access_token,refresh_token:t.refresh_token,user:p.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(i){if(we(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async i=>{var s;if(!t){const{data:f,error:p}=i;if(p)throw p;t=(s=f.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new Vn;const{data:c,error:h}=await this._callRefreshToken(t.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(t,i){try{if(!sn())throw new Ld("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ld(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Px("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ld("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Px("No code detected.");const{data:D,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:c,access_token:h,refresh_token:f,expires_in:p,expires_at:g,token_type:x}=t;if(!h||!p||!f||!x)throw new Ld("No session defined in URL");const _=Math.round(Date.now()/1e3),w=parseInt(p);let E=_+w;g&&(E=parseInt(g));const N=E-_;N*1e3<=Bo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${w}s`);const A=E-w;_-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,E,_):_-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,E,_);const{data:k,error:P}=await this._getUser(h);if(P)throw P;const M={provider_token:s,provider_refresh_token:c,access_token:h,expires_in:w,expires_at:E,refresh_token:f,token_type:x,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:t.type},error:null})}catch(s){if(we(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const i=await xa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&i)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:c,error:h}=i;if(h)return this._returnResult({error:h});const f=(s=c.session)===null||s===void 0?void 0:s.access_token;if(f){const{error:p}=await this.admin.signOut(f,t);if(p&&!(c4(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return t!=="others"&&(await this._removeSession(),await rn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const i=x4(),s={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async i=>{var s,c;try{const{data:{session:h},error:f}=i;if(f)throw f;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",t,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(t))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",h),console.error(h)}})}async resetPasswordForEmail(t,i={}){let s=null,c=null;this.flowType==="pkce"&&([s,c]=await Lo(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(h){if(await rn(this.storage,`${this.storageKey}-code-verifier`),we(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var t;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=i.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var i;try{const{data:s,error:c}=await this._useSession(async h=>{var f,p,g,x,_;const{data:w,error:E}=h;if(E)throw E;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(f=t.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=t.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",N,{headers:this.headers,jwt:(_=(x=w.session)===null||x===void 0?void 0:x.access_token)!==null&&_!==void 0?_:void 0})});if(c)throw c;return sn()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:t.provider,url:s?.url},error:null})}catch(s){if(we(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async i=>{var s;try{const{error:c,data:{session:h}}=i;if(c)throw c;const{options:f,provider:p,token:g,access_token:x,nonce:_}=t,w=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=h?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:p,id_token:g,access_token:x,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Si}),{data:E,error:N}=w;return N?this._returnResult({data:{user:null,session:null},error:N}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new ko}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:N}))}catch(c){if(await rn(this.storage,`${this.storageKey}-code-verifier`),we(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(t){try{return await this._useSession(async i=>{var s,c;const{data:h,error:f}=i;if(f)throw f;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(c=(s=h.session)===null||s===void 0?void 0:s.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(t){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await S4(async c=>(c>0&&await w4(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Si})),(c,h)=>{const f=200*Math.pow(2,c);return h&&Vm(h)&&Date.now()+f-s<Bo})}catch(s){if(this._debug(i,"error",s),we(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",i,"url",s),sn()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const c=await xa(this.storage,this.storageKey);if(c&&this.userStorage){let f=await xa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Uo(this.userStorage,this.storageKey+"-user",f)),c.user=(t=f?.user)!==null&&t!==void 0?t:$m()}else if(c&&!c.user&&!c.user){const f=await xa(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await rn(this.storage,this.storageKey+"-user"),await Uo(this.storage,this.storageKey,c)):c.user=$m()}if(this._debug(s,"session from storage",c),!this._isValidSession(c)){this._debug(s,"session is not valid"),c!==null&&await this._removeSession();return}const h=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Im;if(this._debug(s,`session has${h?"":" not"} expired with margin of ${Im}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Vm(f)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(c.access_token);!p&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(s,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(s,"error",c),console.error(c);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var i,s;if(!t)throw new Vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new fh;const{data:h,error:f}=await this._refreshAccessToken(t);if(f)throw f;if(!h.session)throw new Vn;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const p={data:h.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(h){if(this._debug(c,"error",h),we(h)){const f={data:null,error:h};return Vm(h)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(t,i,s=!0){const c=`#_notifyAllSubscribers(${t})`;this._debug(c,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:i});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(t,i)}catch(g){h.push(g)}});if(await Promise.all(f),h.length>0){for(let p=0;p<h.length;p+=1)console.error(h[p]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await rn(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},t),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await Uo(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const h=Ux(c);await Uo(this.storage,this.storageKey,h)}else{const c=Ux(i);await Uo(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await rn(this.storage,this.storageKey),await rn(this.storage,this.storageKey+"-code-verifier"),await rn(this.storage,this.storageKey+"-user"),this.userStorage&&await rn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((s.expires_at*1e3-t)/Bo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Bo}ms, refresh threshold is ${jp} ticks`),c<=jp&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const i=`#_onVisibilityChanged(${t})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,i,s){const c=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&c.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[h,f]=await Lo(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(p.toString())}if(s?.queryParams){const h=new URLSearchParams(s.queryParams);c.push(h.toString())}return s?.skipBrowserRedirect&&c.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${c.join("&")}`}async _unenroll(t){try{return await this._useSession(async i=>{var s;const{data:c,error:h}=i;return h?this._returnResult({data:null,error:h}):await Ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(t){try{return await this._useSession(async i=>{var s,c;const{data:h,error:f}=i;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:g,error:x}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(s=h?.session)===null||s===void 0?void 0:s.access_token});return x?this._returnResult({data:null,error:x}):(t.factorType==="totp"&&g.type==="totp"&&(!((c=g?.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:c,error:h}=i;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Q4(t.webauthn.credential_response):eN(t.webauthn.credential_response)})}:{code:t.code}),{data:p,error:g}=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:f,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:g}))})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:c,error:h}=i;if(h)return this._returnResult({data:null,error:h});const f=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:X4(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:J4(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(t){const{data:i,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:i.id,code:t.code})}async _listFactors(){var t;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(t=i?.factors)!==null&&t!==void 0?t:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var t,i;const{data:{session:s},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Hm(s.access_token);let f=null;h.aal&&(f=h.aal);let p=f;((i=(t=s.user.factors)===null||t===void 0?void 0:t.filter(_=>_.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const x=h.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async i=>{const{data:{session:s},error:c}=i;return c?this._returnResult({data:null,error:c}):s?await Ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Vn})})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(t,i){try{return await this._useSession(async s=>{const{data:{session:c},error:h}=s;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Vn});const f=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&sn()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,i){try{return await this._useSession(async s=>{const{data:{session:c},error:h}=s;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Vn});const f=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&sn()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:i},error:s}=t;return s?this._returnResult({data:null,error:s}):i?await Ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Vn})})}catch(t){if(we(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async i=>{const{data:{session:s},error:c}=i;return c?this._returnResult({data:null,error:c}):s?(await Ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vn})})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(t,i={keys:[]}){let s=i.keys.find(p=>p.kid===t);if(s)return s;const c=Date.now();if(s=this.jwks.keys.find(p=>p.kid===t),s&&this.jwks_cached_at+o4>c)return s;const{data:h,error:f}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,s=h.keys.find(p=>p.kid===t),!s)?null:s}async getClaims(t,i={}){try{let s=t;if(!s){const{data:N,error:A}=await this.getSession();if(A||!N.session)return this._returnResult({data:null,error:A});s=N.session.access_token}const{header:c,payload:h,signature:f,raw:{header:p,payload:g}}=Hm(s);i?.allowExpired||R4(h.exp);const x=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!x){const{error:N}=await this.getUser(s);if(N)throw N;return{data:{claims:h,header:c,signature:f},error:null}}const _=O4(c.alg),w=await crypto.subtle.importKey("jwk",x,_,!0,["verify"]);if(!await crypto.subtle.verify(_,w,f,y4(`${p}.${g}`)))throw new Np("Invalid JWT signature");return{data:{claims:h,header:c,signature:f},error:null}}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}}Mc.nextInstanceID={};const cN=Mc,uN="2.89.0";let mc="";typeof Deno<"u"?mc="deno":typeof document<"u"?mc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mc="react-native":mc="node";const dN={"X-Client-Info":`supabase-js-${mc}/${uN}`},hN={headers:dN},fN={schema:"public"},mN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pN={};function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function gN(e,t){if(Dc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var s=i.call(e,t);if(Dc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yN(e){var t=gN(e,"string");return Dc(t)=="symbol"?t:t+""}function vN(e,t,i){return(t=yN(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Zx(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),i.push.apply(i,s)}return i}function Ot(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Zx(Object(i),!0).forEach(function(s){vN(e,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Zx(Object(i)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(i,s))})}return e}const xN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bN=()=>Headers,_N=(e,t,i)=>{const s=xN(i),c=bN();return async(h,f)=>{var p;const g=(p=await t())!==null&&p!==void 0?p:e;let x=new c(f?.headers);return x.has("apikey")||x.set("apikey",e),x.has("Authorization")||x.set("Authorization",`Bearer ${g}`),s(h,Ot(Ot({},f),{},{headers:x}))}};function wN(e){return e.endsWith("/")?e:e+"/"}function SN(e,t){var i,s;const{db:c,auth:h,realtime:f,global:p}=e,{db:g,auth:x,realtime:_,global:w}=t,E={db:Ot(Ot({},g),c),auth:Ot(Ot({},x),h),realtime:Ot(Ot({},_),f),storage:{},global:Ot(Ot(Ot({},w),p),{},{headers:Ot(Ot({},(i=w?.headers)!==null&&i!==void 0?i:{}),(s=p?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?E.accessToken=e.accessToken:delete E.accessToken,E}function jN(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wN(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var TN=class extends cN{constructor(e){super(e)}},EN=class{constructor(e,t,i){var s,c;this.supabaseUrl=e,this.supabaseKey=t;const h=jN(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:fN,realtime:pN,auth:Ot(Ot({},mN),{},{storageKey:f}),global:hN},g=SN(i??{},p);if(this.storageKey=(s=g.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var x;this.auth=this._initSupabaseAuthClient((x=g.auth)!==null&&x!==void 0?x:{},this.headers,g.global.fetch)}this.fetch=_N(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Ot({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new sE(new URL("rest/v1",h).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new n4(this.storageUrl.href,this.headers,this.fetch,i?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new eE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,i;if(e.accessToken)return await e.accessToken();const{data:s}=await e.auth.getSession();return(t=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:s,userStorage:c,storageKey:h,flowType:f,lock:p,debug:g,throwOnError:x},_,w){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new TN({url:this.authUrl.href,headers:Ot(Ot({},E),_),storageKey:h,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:s,userStorage:c,flowType:f,lock:p,debug:g,throwOnError:x,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new wE(this.realtimeUrl.href,Ot(Ot({},e),{},{params:Ot(Ot({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const NN=(e,t,i)=>new EN(e,t,i);function CN(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}CN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const AN="https://jqhiubituqmwouaszjpc.supabase.co",RN="sb_publishable_yk9cpugGvHpx_0Ys8hKEsw_h8NH14CR",he=NN(AN,RN),ON=async(e,t)=>{try{const{data:i,error:s}=await he.from("usuarios").select("*").eq("email",e).eq("password",t).eq("activo",!0).single();return s||!i?(console.error("Error al iniciar sesin:",s),null):i}catch(i){return console.error("Error al iniciar sesin:",i),null}},kN=async(e,t,i,s,c)=>{try{const{data:h}=await he.from("usuarios").select("email").eq("email",e).single();if(h)return{success:!1,message:"Este email ya est registrado"};const{data:f,error:p}=await he.from("usuarios").insert([{email:e,password:t,nombre:i,telefono:s,direccion:c,tipo_usuario:"cliente",activo:!0}]).select().single();return p?(console.error("Error al registrar usuario:",p),{success:!1,message:"Error al crear la cuenta"}):{success:!0,message:"Cuenta creada exitosamente",usuario:f}}catch(h){return console.error("Error al registrar usuario:",h),{success:!1,message:"Error al crear la cuenta"}}};var LN=Object.defineProperty,PN=(e,t,i)=>t in e?LN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Fm=(e,t,i)=>(PN(e,typeof t!="symbol"?t+"":t,i),i);let MN=class{constructor(){Fm(this,"current",this.detect()),Fm(this,"handoffState","pending"),Fm(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Zi=new MN;function Gc(e){var t;return Zi.isServer?null:e==null?document:(t=e?.ownerDocument)!=null?t:document}function Cp(e){var t,i;return Zi.isServer?null:e==null?document:(i=(t=e?.getRootNode)==null?void 0:t.call(e))!=null?i:document}function j1(e){var t,i;return(i=(t=Cp(e))==null?void 0:t.activeElement)!=null?i:null}function DN(e){return j1(e)===e}function mh(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function kr(){let e=[],t={addEventListener(i,s,c,h){return i.addEventListener(s,c,h),t.add(()=>i.removeEventListener(s,c,h))},requestAnimationFrame(...i){let s=requestAnimationFrame(...i);return t.add(()=>cancelAnimationFrame(s))},nextFrame(...i){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...i))},setTimeout(...i){let s=setTimeout(...i);return t.add(()=>clearTimeout(s))},microTask(...i){let s={current:!0};return mh(()=>{s.current&&i[0]()}),t.add(()=>{s.current=!1})},style(i,s,c){let h=i.style.getPropertyValue(s);return Object.assign(i.style,{[s]:c}),this.add(()=>{Object.assign(i.style,{[s]:h})})},group(i){let s=kr();return i(s),this.add(()=>s.dispose())},add(i){return e.includes(i)||e.push(i),()=>{let s=e.indexOf(i);if(s>=0)for(let c of e.splice(s,1))c()}},dispose(){for(let i of e.splice(0))i()}};return t}function ph(){let[e]=T.useState(kr);return T.useEffect(()=>()=>e.dispose(),[e]),e}let Rn=(e,t)=>{Zi.isServer?T.useEffect(e,t):T.useLayoutEffect(e,t)};function za(e){let t=T.useRef(e);return Rn(()=>{t.current=e},[e]),t}let ut=function(e){let t=za(e);return je.useCallback((...i)=>t.current(...i),[t])};function Wc(e){return T.useMemo(()=>e,Object.values(e))}let zN=T.createContext(void 0);function BN(){return T.useContext(zN)}function Ap(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Cr(e,t,...i){if(e in t){let c=t[e];return typeof c=="function"?c(...i):c}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(c=>`"${c}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Cr),s}var Yd=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Yd||{}),ws=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ws||{});function li(){let e=IN();return T.useCallback(t=>UN({mergeRefs:e,...t}),[e])}function UN({ourProps:e,theirProps:t,slot:i,defaultTag:s,features:c,visible:h=!0,name:f,mergeRefs:p}){p=p??VN;let g=T1(t,e);if(h)return Pd(g,i,s,f,p);let x=c??0;if(x&2){let{static:_=!1,...w}=g;if(_)return Pd(w,i,s,f,p)}if(x&1){let{unmount:_=!0,...w}=g;return Cr(_?0:1,{0(){return null},1(){return Pd({...w,hidden:!0,style:{display:"none"}},i,s,f,p)}})}return Pd(g,i,s,f,p)}function Pd(e,t={},i,s,c){let{as:h=i,children:f,refName:p="ref",...g}=Zm(e,["unmount","static"]),x=e.ref!==void 0?{[p]:e.ref}:{},_=typeof f=="function"?f(t):f;"className"in g&&g.className&&typeof g.className=="function"&&(g.className=g.className(t)),g["aria-labelledby"]&&g["aria-labelledby"]===g.id&&(g["aria-labelledby"]=void 0);let w={};if(t){let E=!1,N=[];for(let[A,k]of Object.entries(t))typeof k=="boolean"&&(E=!0),k===!0&&N.push(A.replace(/([A-Z])/g,P=>`-${P.toLowerCase()}`));if(E){w["data-headlessui-state"]=N.join(" ");for(let A of N)w[`data-${A}`]=""}}if(wc(h)&&(Object.keys(wa(g)).length>0||Object.keys(wa(w)).length>0))if(!T.isValidElement(_)||Array.isArray(_)&&_.length>1||$N(_)){if(Object.keys(wa(g)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(wa(g)).concat(Object.keys(wa(w))).map(E=>`  - ${E}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(E=>`  - ${E}`).join(`
`)].join(`
`))}else{let E=_.props,N=E?.className,A=typeof N=="function"?(...M)=>Ap(N(...M),g.className):Ap(N,g.className),k=A?{className:A}:{},P=T1(_.props,wa(Zm(g,["ref"])));for(let M in w)M in P&&delete w[M];return T.cloneElement(_,Object.assign({},P,w,x,{ref:c(HN(_),x.ref)},k))}return T.createElement(h,Object.assign({},Zm(g,["ref"]),!wc(h)&&x,!wc(h)&&w),_)}function IN(){let e=T.useRef([]),t=T.useCallback(i=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(i):s.current=i)},[]);return(...i)=>{if(!i.every(s=>s==null))return e.current=i,t}}function VN(...e){return e.every(t=>t==null)?void 0:t=>{for(let i of e)i!=null&&(typeof i=="function"?i(t):i.current=t)}}function T1(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},i={};for(let s of e)for(let c in s)c.startsWith("on")&&typeof s[c]=="function"?(i[c]!=null||(i[c]=[]),i[c].push(s[c])):t[c]=s[c];if(t.disabled||t["aria-disabled"])for(let s in i)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(i[s]=[c=>{var h;return(h=c?.preventDefault)==null?void 0:h.call(c)}]);for(let s in i)Object.assign(t,{[s](c,...h){let f=i[s];for(let p of f){if((c instanceof Event||c?.nativeEvent instanceof Event)&&c.defaultPrevented)return;p(c,...h)}}});return t}function On(e){var t;return Object.assign(T.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function wa(e){let t=Object.assign({},e);for(let i in t)t[i]===void 0&&delete t[i];return t}function Zm(e,t=[]){let i=Object.assign({},e);for(let s of t)s in i&&delete i[s];return i}function HN(e){return je.version.split(".")[0]>="19"?e.props.ref:e.ref}function wc(e){return e===T.Fragment||e===Symbol.for("react.fragment")}function $N(e){return wc(e.type)}let qN="span";var Xd=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Xd||{});function FN(e,t){var i;let{features:s=1,...c}=e,h={ref:t,"aria-hidden":(s&2)===2?!0:(i=c["aria-hidden"])!=null?i:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return li()({ourProps:h,theirProps:c,slot:{},defaultTag:qN,name:"Hidden"})}let Rp=On(FN);function ZN(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function js(e){return ZN(e)&&"tagName"in e}function Ma(e){return js(e)&&"accessKey"in e}function Ss(e){return js(e)&&"tabIndex"in e}function GN(e){return js(e)&&"style"in e}function WN(e){return Ma(e)&&e.nodeName==="IFRAME"}function KN(e){return Ma(e)&&e.nodeName==="INPUT"}let E1=Symbol();function YN(e,t=!0){return Object.assign(e,{[E1]:t})}function Ki(...e){let t=T.useRef(e);T.useEffect(()=>{t.current=e},[e]);let i=ut(s=>{for(let c of t.current)c!=null&&(typeof c=="function"?c(s):c.current=s)});return e.every(s=>s==null||s?.[E1])?void 0:i}let bg=T.createContext(null);bg.displayName="DescriptionContext";function N1(){let e=T.useContext(bg);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,N1),t}return e}function XN(){let[e,t]=T.useState([]);return[e.length>0?e.join(" "):void 0,T.useMemo(()=>function(i){let s=ut(h=>(t(f=>[...f,h]),()=>t(f=>{let p=f.slice(),g=p.indexOf(h);return g!==-1&&p.splice(g,1),p}))),c=T.useMemo(()=>({register:s,slot:i.slot,name:i.name,props:i.props,value:i.value}),[s,i.slot,i.name,i.props,i.value]);return je.createElement(bg.Provider,{value:c},i.children)},[t])]}let JN="p";function QN(e,t){let i=T.useId(),s=BN(),{id:c=`headlessui-description-${i}`,...h}=e,f=N1(),p=Ki(t);Rn(()=>f.register(c),[c,f.register]);let g=Wc({...f.slot,disabled:s||!1}),x={ref:p,...f.props,id:c};return li()({ourProps:x,theirProps:h,slot:g,defaultTag:JN,name:f.name||"Description"})}let eC=On(QN),tC=Object.assign(eC,{});var C1=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(C1||{});let nC=T.createContext(()=>{});function iC({value:e,children:t}){return je.createElement(nC.Provider,{value:e},t)}let A1=class extends Map{constructor(t){super(),this.factory=t}get(t){let i=super.get(t);return i===void 0&&(i=this.factory(t),this.set(t,i)),i}};var rC=Object.defineProperty,sC=(e,t,i)=>t in e?rC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,aC=(e,t,i)=>(sC(e,t+"",i),i),R1=(e,t,i)=>{if(!t.has(e))throw TypeError("Cannot "+i)},ii=(e,t,i)=>(R1(e,t,"read from private field"),i?i.call(e):t.get(e)),Gm=(e,t,i)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,i)},Gx=(e,t,i,s)=>(R1(e,t,"write to private field"),t.set(e,i),i),Fi,pc,gc;let oC=class{constructor(t){Gm(this,Fi,{}),Gm(this,pc,new A1(()=>new Set)),Gm(this,gc,new Set),aC(this,"disposables",kr()),Gx(this,Fi,t),Zi.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return ii(this,Fi)}subscribe(t,i){if(Zi.isServer)return()=>{};let s={selector:t,callback:i,current:t(ii(this,Fi))};return ii(this,gc).add(s),this.disposables.add(()=>{ii(this,gc).delete(s)})}on(t,i){return Zi.isServer?()=>{}:(ii(this,pc).get(t).add(i),this.disposables.add(()=>{ii(this,pc).get(t).delete(i)}))}send(t){let i=this.reduce(ii(this,Fi),t);if(i!==ii(this,Fi)){Gx(this,Fi,i);for(let s of ii(this,gc)){let c=s.selector(ii(this,Fi));O1(s.current,c)||(s.current=c,s.callback(c))}for(let s of ii(this,pc).get(t.type))s(ii(this,Fi),t)}}};Fi=new WeakMap,pc=new WeakMap,gc=new WeakMap;function O1(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Wm(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Wm(e.entries(),t.entries()):Wx(e)&&Wx(t)?Wm(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Wm(e,t){do{let i=e.next(),s=t.next();if(i.done&&s.done)return!0;if(i.done||s.done||!Object.is(i.value,s.value))return!1}while(!0)}function Wx(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var lC=Object.defineProperty,cC=(e,t,i)=>t in e?lC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Kx=(e,t,i)=>(cC(e,typeof t!="symbol"?t+"":t,i),i),uC=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(uC||{});let dC={0(e,t){let i=t.id,s=e.stack,c=e.stack.indexOf(i);if(c!==-1){let h=e.stack.slice();return h.splice(c,1),h.push(i),s=h,{...e,stack:s}}return{...e,stack:[...e.stack,i]}},1(e,t){let i=t.id,s=e.stack.indexOf(i);if(s===-1)return e;let c=e.stack.slice();return c.splice(s,1),{...e,stack:c}}},hC=class k1 extends oC{constructor(){super(...arguments),Kx(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Kx(this,"selectors",{isTop:(t,i)=>t.stack[t.stack.length-1]===i,inStack:(t,i)=>t.stack.includes(i)})}static new(){return new k1({stack:[]})}reduce(t,i){return Cr(i.type,dC,t,i)}};const L1=new A1(()=>hC.new());var Km={exports:{}},Ym={};var Yx;function fC(){if(Yx)return Ym;Yx=1;var e=lh();function t(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var i=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,c=e.useRef,h=e.useEffect,f=e.useMemo,p=e.useDebugValue;return Ym.useSyncExternalStoreWithSelector=function(g,x,_,w,E){var N=c(null);if(N.current===null){var A={hasValue:!1,value:null};N.current=A}else A=N.current;N=f(function(){function P(F){if(!M){if(M=!0,D=F,F=w(F),E!==void 0&&A.hasValue){var V=A.value;if(E(V,F))return R=V}return R=F}if(V=R,i(D,F))return V;var B=w(F);return E!==void 0&&E(V,B)?(D=F,V):(D=F,R=B)}var M=!1,D,R,Z=_===void 0?null:_;return[function(){return P(x())},Z===null?void 0:function(){return P(Z())}]},[x,_,w,E]);var k=s(g,N[0],N[1]);return h(function(){A.hasValue=!0,A.value=k},[k]),p(k),k},Ym}var Xx;function mC(){return Xx||(Xx=1,Km.exports=fC()),Km.exports}var pC=mC();function P1(e,t,i=O1){return pC.useSyncExternalStoreWithSelector(ut(s=>e.subscribe(gC,s)),ut(()=>e.state),ut(()=>e.state),ut(t),i)}function gC(e){return e}function Kc(e,t){let i=T.useId(),s=L1.get(t),[c,h]=P1(s,T.useCallback(f=>[s.selectors.isTop(f,i),s.selectors.inStack(f,i)],[s,i]));return Rn(()=>{if(e)return s.actions.push(i),()=>s.actions.pop(i)},[s,e,i]),e?h?c:!0:!1}let Op=new Map,Sc=new Map;function Jx(e){var t;let i=(t=Sc.get(e))!=null?t:0;return Sc.set(e,i+1),i!==0?()=>Qx(e):(Op.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Qx(e))}function Qx(e){var t;let i=(t=Sc.get(e))!=null?t:1;if(i===1?Sc.delete(e):Sc.set(e,i-1),i!==1)return;let s=Op.get(e);s&&(s["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",s["aria-hidden"]),e.inert=s.inert,Op.delete(e))}function yC(e,{allowed:t,disallowed:i}={}){let s=Kc(e,"inert-others");Rn(()=>{var c,h;if(!s)return;let f=kr();for(let g of(c=i?.())!=null?c:[])g&&f.add(Jx(g));let p=(h=t?.())!=null?h:[];for(let g of p){if(!g)continue;let x=Gc(g);if(!x)continue;let _=g.parentElement;for(;_&&_!==x.body;){for(let w of _.children)p.some(E=>w.contains(E))||f.add(Jx(w));_=_.parentElement}}return f.dispose},[s,t,i])}function vC(e,t,i){let s=za(c=>{let h=c.getBoundingClientRect();h.x===0&&h.y===0&&h.width===0&&h.height===0&&i()});T.useEffect(()=>{if(!e)return;let c=t===null?null:Ma(t)?t:t.current;if(!c)return;let h=kr();if(typeof ResizeObserver<"u"){let f=new ResizeObserver(()=>s.current(c));f.observe(c),h.add(()=>f.disconnect())}if(typeof IntersectionObserver<"u"){let f=new IntersectionObserver(()=>s.current(c));f.observe(c),h.add(()=>f.disconnect())}return()=>h.dispose()},[t,s,e])}let Jd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),xC=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var jr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(jr||{}),kp=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(kp||{}),bC=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(bC||{});function _C(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Jd)).sort((t,i)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(i.tabIndex||Number.MAX_SAFE_INTEGER)))}function wC(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(xC)).sort((t,i)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(i.tabIndex||Number.MAX_SAFE_INTEGER)))}var M1=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(M1||{});function SC(e,t=0){var i;return e===((i=Gc(e))==null?void 0:i.body)?!1:Cr(t,{0(){return e.matches(Jd)},1(){let s=e;for(;s!==null;){if(s.matches(Jd))return!0;s=s.parentElement}return!1}})}var jC=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(jC||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Er(e){e?.focus({preventScroll:!0})}let TC=["textarea","input"].join(",");function EC(e){var t,i;return(i=(t=e?.matches)==null?void 0:t.call(e,TC))!=null?i:!1}function NC(e,t=i=>i){return e.slice().sort((i,s)=>{let c=t(i),h=t(s);if(c===null||h===null)return 0;let f=c.compareDocumentPosition(h);return f&Node.DOCUMENT_POSITION_FOLLOWING?-1:f&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function jc(e,t,{sorted:i=!0,relativeTo:s=null,skipElements:c=[]}={}){let h=Array.isArray(e)?e.length>0?Cp(e[0]):document:Cp(e),f=Array.isArray(e)?i?NC(e):e:t&64?wC(e):_C(e);c.length>0&&f.length>1&&(f=f.filter(N=>!c.some(A=>A!=null&&"current"in A?A?.current===N:A===N))),s=s??h?.activeElement;let p=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),g=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,f.indexOf(s))-1;if(t&4)return Math.max(0,f.indexOf(s))+1;if(t&8)return f.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),x=t&32?{preventScroll:!0}:{},_=0,w=f.length,E;do{if(_>=w||_+w<=0)return 0;let N=g+_;if(t&16)N=(N+w)%w;else{if(N<0)return 3;if(N>=w)return 1}E=f[N],E?.focus(x),_+=p}while(E!==j1(E));return t&6&&EC(E)&&E.select(),2}function D1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function CC(){return/Android/gi.test(window.navigator.userAgent)}function eb(){return D1()||CC()}function Md(e,t,i,s){let c=za(i);T.useEffect(()=>{if(!e)return;function h(f){c.current(f)}return document.addEventListener(t,h,s),()=>document.removeEventListener(t,h,s)},[e,t,s])}function z1(e,t,i,s){let c=za(i);T.useEffect(()=>{if(!e)return;function h(f){c.current(f)}return window.addEventListener(t,h,s),()=>window.removeEventListener(t,h,s)},[e,t,s])}const tb=30;function AC(e,t,i){let s=za(i),c=T.useCallback(function(p,g){if(p.defaultPrevented)return;let x=g(p);if(x===null||!x.getRootNode().contains(x)||!x.isConnected)return;let _=(function w(E){return typeof E=="function"?w(E()):Array.isArray(E)||E instanceof Set?E:[E]})(t);for(let w of _)if(w!==null&&(w.contains(x)||p.composed&&p.composedPath().includes(w)))return;return!SC(x,M1.Loose)&&x.tabIndex!==-1&&p.preventDefault(),s.current(p,x)},[s,t]),h=T.useRef(null);Md(e,"pointerdown",p=>{var g,x;eb()||(h.current=((x=(g=p.composedPath)==null?void 0:g.call(p))==null?void 0:x[0])||p.target)},!0),Md(e,"pointerup",p=>{if(eb()||!h.current)return;let g=h.current;return h.current=null,c(p,()=>g)},!0);let f=T.useRef({x:0,y:0});Md(e,"touchstart",p=>{f.current.x=p.touches[0].clientX,f.current.y=p.touches[0].clientY},!0),Md(e,"touchend",p=>{let g={x:p.changedTouches[0].clientX,y:p.changedTouches[0].clientY};if(!(Math.abs(g.x-f.current.x)>=tb||Math.abs(g.y-f.current.y)>=tb))return c(p,()=>Ss(p.target)?p.target:null)},!0),z1(e,"blur",p=>c(p,()=>WN(window.document.activeElement)?window.document.activeElement:null),!0)}function _g(...e){return T.useMemo(()=>Gc(...e),[...e])}function B1(e,t,i,s){let c=za(i);T.useEffect(()=>{e=e??window;function h(f){c.current(f)}return e.addEventListener(t,h,s),()=>e.removeEventListener(t,h,s)},[e,t,s])}function RC(e){return T.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function OC(e,t){let i=e(),s=new Set;return{getSnapshot(){return i},subscribe(c){return s.add(c),()=>s.delete(c)},dispatch(c,...h){let f=t[c].call(i,...h);f&&(i=f,s.forEach(p=>p()))}}}function kC(){let e;return{before({doc:t}){var i;let s=t.documentElement,c=(i=t.defaultView)!=null?i:window;e=Math.max(0,c.innerWidth-s.clientWidth)},after({doc:t,d:i}){let s=t.documentElement,c=Math.max(0,s.clientWidth-s.offsetWidth),h=Math.max(0,e-c);i.style(s,"paddingRight",`${h}px`)}}}function LC(){return D1()?{before({doc:e,d:t,meta:i}){function s(c){for(let h of i().containers)for(let f of h())if(f.contains(c))return!0;return!1}t.microTask(()=>{var c;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let p=kr();p.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>p.dispose()))}let h=(c=window.scrollY)!=null?c:window.pageYOffset,f=null;t.addEventListener(e,"click",p=>{if(Ss(p.target))try{let g=p.target.closest("a");if(!g)return;let{hash:x}=new URL(g.href),_=e.querySelector(x);Ss(_)&&!s(_)&&(f=_)}catch{}},!0),t.group(p=>{t.addEventListener(e,"touchstart",g=>{if(p.dispose(),Ss(g.target)&&GN(g.target))if(s(g.target)){let x=g.target;for(;x.parentElement&&s(x.parentElement);)x=x.parentElement;p.style(x,"overscrollBehavior","contain")}else p.style(g.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",p=>{if(Ss(p.target)){if(KN(p.target))return;if(s(p.target)){let g=p.target;for(;g.parentElement&&g.dataset.headlessuiPortal!==""&&!(g.scrollHeight>g.clientHeight||g.scrollWidth>g.clientWidth);)g=g.parentElement;g.dataset.headlessuiPortal===""&&p.preventDefault()}else p.preventDefault()}},{passive:!1}),t.add(()=>{var p;let g=(p=window.scrollY)!=null?p:window.pageYOffset;h!==g&&window.scrollTo(0,h),f&&f.isConnected&&(f.scrollIntoView({block:"nearest"}),f=null)})})}}:{}}function PC(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function nb(e){let t={};for(let i of e)Object.assign(t,i(t));return t}let Ca=OC(()=>new Map,{PUSH(e,t){var i;let s=(i=this.get(e))!=null?i:{doc:e,count:0,d:kr(),meta:new Set,computedMeta:{}};return s.count++,s.meta.add(t),s.computedMeta=nb(s.meta),this.set(e,s),this},POP(e,t){let i=this.get(e);return i&&(i.count--,i.meta.delete(t),i.computedMeta=nb(i.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},i=[LC(),kC(),PC()];i.forEach(({before:s})=>s?.(t)),i.forEach(({after:s})=>s?.(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ca.subscribe(()=>{let e=Ca.getSnapshot(),t=new Map;for(let[i]of e)t.set(i,i.documentElement.style.overflow);for(let i of e.values()){let s=t.get(i.doc)==="hidden",c=i.count!==0;(c&&!s||!c&&s)&&Ca.dispatch(i.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",i),i.count===0&&Ca.dispatch("TEARDOWN",i)}});function MC(e,t,i=()=>({containers:[]})){let s=RC(Ca),c=t?s.get(t):void 0,h=c?c.count>0:!1;return Rn(()=>{if(!(!t||!e))return Ca.dispatch("PUSH",t,i),()=>Ca.dispatch("POP",t,i)},[e,t]),h}function DC(e,t,i=()=>[document.body]){let s=Kc(e,"scroll-lock");MC(s,t,c=>{var h;return{containers:[...(h=c.containers)!=null?h:[],i]}})}function zC(e=0){let[t,i]=T.useState(e),s=T.useCallback(g=>i(g),[]),c=T.useCallback(g=>i(x=>x|g),[]),h=T.useCallback(g=>(t&g)===g,[t]),f=T.useCallback(g=>i(x=>x&~g),[]),p=T.useCallback(g=>i(x=>x^g),[]);return{flags:t,setFlag:s,addFlag:c,hasFlag:h,removeFlag:f,toggleFlag:p}}var BC={},ib,rb;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((ib=process==null?void 0:BC)==null?void 0:ib.NODE_ENV)==="test"&&typeof((rb=Element?.prototype)==null?void 0:rb.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var UC=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(UC||{});function IC(e){let t={};for(let i in e)e[i]===!0&&(t[`data-${i}`]="");return t}function VC(e,t,i,s){let[c,h]=T.useState(i),{hasFlag:f,addFlag:p,removeFlag:g}=zC(e&&c?3:0),x=T.useRef(!1),_=T.useRef(!1),w=ph();return Rn(()=>{var E;if(e){if(i&&h(!0),!t){i&&p(3);return}return(E=s?.start)==null||E.call(s,i),HC(t,{inFlight:x,prepare(){_.current?_.current=!1:_.current=x.current,x.current=!0,!_.current&&(i?(p(3),g(4)):(p(4),g(2)))},run(){_.current?i?(g(3),p(4)):(g(4),p(3)):i?g(1):p(1)},done(){var N;_.current&&FC(t)||(x.current=!1,g(7),i||h(!1),(N=s?.end)==null||N.call(s,i))}})}},[e,i,t,w]),e?[c,{closed:f(1),enter:f(2),leave:f(4),transition:f(2)||f(4)}]:[i,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function HC(e,{prepare:t,run:i,done:s,inFlight:c}){let h=kr();return qC(e,{prepare:t,inFlight:c}),h.nextFrame(()=>{i(),h.requestAnimationFrame(()=>{h.add($C(e,s))})}),h.dispose}function $C(e,t){var i,s;let c=kr();if(!e)return c.dispose;let h=!1;c.add(()=>{h=!0});let f=(s=(i=e.getAnimations)==null?void 0:i.call(e).filter(p=>p instanceof CSSTransition))!=null?s:[];return f.length===0?(t(),c.dispose):(Promise.allSettled(f.map(p=>p.finished)).then(()=>{h||t()}),c.dispose)}function qC(e,{inFlight:t,prepare:i}){if(t!=null&&t.current){i();return}let s=e.style.transition;e.style.transition="none",i(),e.offsetHeight,e.style.transition=s}function FC(e){var t,i;return((i=(t=e.getAnimations)==null?void 0:t.call(e))!=null?i:[]).some(s=>s instanceof CSSTransition&&s.playState!=="finished")}function wg(e,t){let i=T.useRef([]),s=ut(e);T.useEffect(()=>{let c=[...i.current];for(let[h,f]of t.entries())if(i.current[h]!==f){let p=s(t,c);return i.current=t,p}},[s,...t])}let gh=T.createContext(null);gh.displayName="OpenClosedContext";var Ni=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ni||{});function yh(){return T.useContext(gh)}function ZC({value:e,children:t}){return je.createElement(gh.Provider,{value:e},t)}function GC({children:e}){return je.createElement(gh.Provider,{value:null},e)}function WC(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let _s=[];WC(()=>{function e(t){if(!Ss(t.target)||t.target===document.body||_s[0]===t.target)return;let i=t.target;i=i.closest(Jd),_s.unshift(i??t.target),_s=_s.filter(s=>s!=null&&s.isConnected),_s.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function U1(e){let t=ut(e),i=T.useRef(!1);T.useEffect(()=>(i.current=!1,()=>{i.current=!0,mh(()=>{i.current&&t()})}),[t])}let I1=T.createContext(!1);function KC(){return T.useContext(I1)}function sb(e){return je.createElement(I1.Provider,{value:e.force},e.children)}function YC(e){let t=KC(),i=T.useContext(H1),[s,c]=T.useState(()=>{var h;if(!t&&i!==null)return(h=i.current)!=null?h:null;if(Zi.isServer)return null;let f=e?.getElementById("headlessui-portal-root");if(f)return f;if(e===null)return null;let p=e.createElement("div");return p.setAttribute("id","headlessui-portal-root"),e.body.appendChild(p)});return T.useEffect(()=>{s!==null&&(e!=null&&e.body.contains(s)||e==null||e.body.appendChild(s))},[s,e]),T.useEffect(()=>{t||i!==null&&c(i.current)},[i,c,t]),s}let V1=T.Fragment,XC=On(function(e,t){let{ownerDocument:i=null,...s}=e,c=T.useRef(null),h=Ki(YN(E=>{c.current=E}),t),f=_g(c.current),p=i??f,g=YC(p),x=T.useContext(Lp),_=ph(),w=li();return U1(()=>{var E;g&&g.childNodes.length<=0&&((E=g.parentElement)==null||E.removeChild(g))}),g?r1.createPortal(je.createElement("div",{"data-headlessui-portal":"",ref:E=>{_.dispose(),x&&E&&_.add(x.register(E))}},w({ourProps:{ref:h},theirProps:s,slot:{},defaultTag:V1,name:"Portal"})),g):null});function JC(e,t){let i=Ki(t),{enabled:s=!0,ownerDocument:c,...h}=e,f=li();return s?je.createElement(XC,{...h,ownerDocument:c,ref:i}):f({ourProps:{ref:i},theirProps:h,slot:{},defaultTag:V1,name:"Portal"})}let QC=T.Fragment,H1=T.createContext(null);function e3(e,t){let{target:i,...s}=e,c={ref:Ki(t)},h=li();return je.createElement(H1.Provider,{value:i},h({ourProps:c,theirProps:s,defaultTag:QC,name:"Popover.Group"}))}let Lp=T.createContext(null);function t3(){let e=T.useContext(Lp),t=T.useRef([]),i=ut(h=>(t.current.push(h),e&&e.register(h),()=>s(h))),s=ut(h=>{let f=t.current.indexOf(h);f!==-1&&t.current.splice(f,1),e&&e.unregister(h)}),c=T.useMemo(()=>({register:i,unregister:s,portals:t}),[i,s,t]);return[t,T.useMemo(()=>function({children:h}){return je.createElement(Lp.Provider,{value:c},h)},[c])]}let n3=On(JC),$1=On(e3),i3=Object.assign(n3,{Group:$1});function r3(e,t=typeof document<"u"?document.defaultView:null,i){let s=Kc(e,"escape");B1(t,"keydown",c=>{s&&(c.defaultPrevented||c.key===C1.Escape&&i(c))})}function s3(){var e;let[t]=T.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[i,s]=T.useState((e=t?.matches)!=null?e:!1);return Rn(()=>{if(!t)return;function c(h){s(h.matches)}return t.addEventListener("change",c),()=>t.removeEventListener("change",c)},[t]),i}function a3({defaultContainers:e=[],portals:t,mainTreeNode:i}={}){let s=ut(()=>{var c,h;let f=Gc(i),p=[];for(let g of e)g!==null&&(js(g)?p.push(g):"current"in g&&js(g.current)&&p.push(g.current));if(t!=null&&t.current)for(let g of t.current)p.push(g);for(let g of(c=f?.querySelectorAll("html > *, body > *"))!=null?c:[])g!==document.body&&g!==document.head&&js(g)&&g.id!=="headlessui-portal-root"&&(i&&(g.contains(i)||g.contains((h=i?.getRootNode())==null?void 0:h.host))||p.some(x=>g.contains(x))||p.push(g));return p});return{resolveContainers:s,contains:ut(c=>s().some(h=>h.contains(c)))}}let q1=T.createContext(null);function ab({children:e,node:t}){let[i,s]=T.useState(null),c=F1(t??i);return je.createElement(q1.Provider,{value:c},e,c===null&&je.createElement(Rp,{features:Xd.Hidden,ref:h=>{var f,p;if(h){for(let g of(p=(f=Gc(h))==null?void 0:f.querySelectorAll("html > *, body > *"))!=null?p:[])if(g!==document.body&&g!==document.head&&js(g)&&g!=null&&g.contains(h)){s(g);break}}}}))}function F1(e=null){var t;return(t=T.useContext(q1))!=null?t:e}function o3(){let e=typeof document>"u";return"useSyncExternalStore"in dx?(t=>t.useSyncExternalStore)(dx)(()=>()=>{},()=>!1,()=>!e):!1}function vh(){let e=o3(),[t,i]=T.useState(Zi.isHandoffComplete);return t&&Zi.isHandoffComplete===!1&&i(!1),T.useEffect(()=>{t!==!0&&i(!0)},[t]),T.useEffect(()=>Zi.handoff(),[]),e?!1:t}function Sg(){let e=T.useRef(!1);return Rn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var yc=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(yc||{});function l3(){let e=T.useRef(0);return z1(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Z1(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let i of e.current)js(i.current)&&t.add(i.current);return t}let c3="div";var Ea=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Ea||{});function u3(e,t){let i=T.useRef(null),s=Ki(i,t),{initialFocus:c,initialFocusFallback:h,containers:f,features:p=15,...g}=e;vh()||(p=0);let x=_g(i.current);m3(p,{ownerDocument:x});let _=p3(p,{ownerDocument:x,container:i,initialFocus:c,initialFocusFallback:h});g3(p,{ownerDocument:x,container:i,containers:f,previousActiveElement:_});let w=l3(),E=ut(D=>{if(!Ma(i.current))return;let R=i.current;(Z=>Z())(()=>{Cr(w.current,{[yc.Forwards]:()=>{jc(R,jr.First,{skipElements:[D.relatedTarget,h]})},[yc.Backwards]:()=>{jc(R,jr.Last,{skipElements:[D.relatedTarget,h]})}})})}),N=Kc(!!(p&2),"focus-trap#tab-lock"),A=ph(),k=T.useRef(!1),P={ref:s,onKeyDown(D){D.key=="Tab"&&(k.current=!0,A.requestAnimationFrame(()=>{k.current=!1}))},onBlur(D){if(!(p&4))return;let R=Z1(f);Ma(i.current)&&R.add(i.current);let Z=D.relatedTarget;Ss(Z)&&Z.dataset.headlessuiFocusGuard!=="true"&&(G1(R,Z)||(k.current?jc(i.current,Cr(w.current,{[yc.Forwards]:()=>jr.Next,[yc.Backwards]:()=>jr.Previous})|jr.WrapAround,{relativeTo:D.target}):Ss(D.target)&&Er(D.target)))}},M=li();return je.createElement(je.Fragment,null,N&&je.createElement(Rp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:E,features:Xd.Focusable}),M({ourProps:P,theirProps:g,defaultTag:c3,name:"FocusTrap"}),N&&je.createElement(Rp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:E,features:Xd.Focusable}))}let d3=On(u3),h3=Object.assign(d3,{features:Ea});function f3(e=!0){let t=T.useRef(_s.slice());return wg(([i],[s])=>{s===!0&&i===!1&&mh(()=>{t.current.splice(0)}),s===!1&&i===!0&&(t.current=_s.slice())},[e,_s,t]),ut(()=>{var i;return(i=t.current.find(s=>s!=null&&s.isConnected))!=null?i:null})}function m3(e,{ownerDocument:t}){let i=!!(e&8),s=f3(i);wg(()=>{i||DN(t?.body)&&Er(s())},[i]),U1(()=>{i&&Er(s())})}function p3(e,{ownerDocument:t,container:i,initialFocus:s,initialFocusFallback:c}){let h=T.useRef(null),f=Kc(!!(e&1),"focus-trap#initial-focus"),p=Sg();return wg(()=>{if(e===0)return;if(!f){c!=null&&c.current&&Er(c.current);return}let g=i.current;g&&mh(()=>{if(!p.current)return;let x=t?.activeElement;if(s!=null&&s.current){if(s?.current===x){h.current=x;return}}else if(g.contains(x)){h.current=x;return}if(s!=null&&s.current)Er(s.current);else{if(e&16){if(jc(g,jr.First|jr.AutoFocus)!==kp.Error)return}else if(jc(g,jr.First)!==kp.Error)return;if(c!=null&&c.current&&(Er(c.current),t?.activeElement===c.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}h.current=t?.activeElement})},[c,f,e]),h}function g3(e,{ownerDocument:t,container:i,containers:s,previousActiveElement:c}){let h=Sg(),f=!!(e&4);B1(t?.defaultView,"focus",p=>{if(!f||!h.current)return;let g=Z1(s);Ma(i.current)&&g.add(i.current);let x=c.current;if(!x)return;let _=p.target;Ma(_)?G1(g,_)?(c.current=_,Er(_)):(p.preventDefault(),p.stopPropagation(),Er(x)):Er(c.current)},!0)}function G1(e,t){for(let i of e)if(i.contains(t))return!0;return!1}function W1(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!wc((t=e.as)!=null?t:Y1)||je.Children.count(e.children)===1}let xh=T.createContext(null);xh.displayName="TransitionContext";var y3=(e=>(e.Visible="visible",e.Hidden="hidden",e))(y3||{});function v3(){let e=T.useContext(xh);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function x3(){let e=T.useContext(bh);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let bh=T.createContext(null);bh.displayName="NestingContext";function _h(e){return"children"in e?_h(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function K1(e,t){let i=za(e),s=T.useRef([]),c=Sg(),h=ph(),f=ut((N,A=ws.Hidden)=>{let k=s.current.findIndex(({el:P})=>P===N);k!==-1&&(Cr(A,{[ws.Unmount](){s.current.splice(k,1)},[ws.Hidden](){s.current[k].state="hidden"}}),h.microTask(()=>{var P;!_h(s)&&c.current&&((P=i.current)==null||P.call(i))}))}),p=ut(N=>{let A=s.current.find(({el:k})=>k===N);return A?A.state!=="visible"&&(A.state="visible"):s.current.push({el:N,state:"visible"}),()=>f(N,ws.Unmount)}),g=T.useRef([]),x=T.useRef(Promise.resolve()),_=T.useRef({enter:[],leave:[]}),w=ut((N,A,k)=>{g.current.splice(0),t&&(t.chains.current[A]=t.chains.current[A].filter(([P])=>P!==N)),t?.chains.current[A].push([N,new Promise(P=>{g.current.push(P)})]),t?.chains.current[A].push([N,new Promise(P=>{Promise.all(_.current[A].map(([M,D])=>D)).then(()=>P())})]),A==="enter"?x.current=x.current.then(()=>t?.wait.current).then(()=>k(A)):k(A)}),E=ut((N,A,k)=>{Promise.all(_.current[A].splice(0).map(([P,M])=>M)).then(()=>{var P;(P=g.current.shift())==null||P()}).then(()=>k(A))});return T.useMemo(()=>({children:s,register:p,unregister:f,onStart:w,onStop:E,wait:x,chains:_}),[p,f,s,w,E,_,x])}let Y1=T.Fragment,X1=Yd.RenderStrategy;function b3(e,t){var i,s;let{transition:c=!0,beforeEnter:h,afterEnter:f,beforeLeave:p,afterLeave:g,enter:x,enterFrom:_,enterTo:w,entered:E,leave:N,leaveFrom:A,leaveTo:k,...P}=e,[M,D]=T.useState(null),R=T.useRef(null),Z=W1(e),F=Ki(...Z?[R,t,D]:t===null?[]:[t]),V=(i=P.unmount)==null||i?ws.Unmount:ws.Hidden,{show:B,appear:te,initial:me}=v3(),[ve,Te]=T.useState(B?"visible":"hidden"),Ne=x3(),{register:it,unregister:Fe}=Ne;Rn(()=>it(R),[it,R]),Rn(()=>{if(V===ws.Hidden&&R.current){if(B&&ve!=="visible"){Te("visible");return}return Cr(ve,{hidden:()=>Fe(R),visible:()=>it(R)})}},[ve,R,it,Fe,B,V]);let ht=vh();Rn(()=>{if(Z&&ht&&ve==="visible"&&R.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[R,ve,ht,Z]);let $=me&&!te,oe=te&&B&&me,ne=T.useRef(!1),le=K1(()=>{ne.current||(Te("hidden"),Fe(R))},Ne),ce=ut(ke=>{ne.current=!0;let et=ke?"enter":"leave";le.onStart(R,et,Je=>{Je==="enter"?h?.():Je==="leave"&&p?.()})}),U=ut(ke=>{let et=ke?"enter":"leave";ne.current=!1,le.onStop(R,et,Je=>{Je==="enter"?f?.():Je==="leave"&&g?.()}),et==="leave"&&!_h(le)&&(Te("hidden"),Fe(R))});T.useEffect(()=>{Z&&c||(ce(B),U(B))},[B,Z,c]);let Q=!(!c||!Z||!ht||$),[,ie]=VC(Q,M,B,{start:ce,end:U}),ue=wa({ref:F,className:((s=Ap(P.className,oe&&x,oe&&_,ie.enter&&x,ie.enter&&ie.closed&&_,ie.enter&&!ie.closed&&w,ie.leave&&N,ie.leave&&!ie.closed&&A,ie.leave&&ie.closed&&k,!ie.transition&&B&&E))==null?void 0:s.trim())||void 0,...IC(ie)}),fe=0;ve==="visible"&&(fe|=Ni.Open),ve==="hidden"&&(fe|=Ni.Closed),B&&ve==="hidden"&&(fe|=Ni.Opening),!B&&ve==="visible"&&(fe|=Ni.Closing);let pe=li();return je.createElement(bh.Provider,{value:le},je.createElement(ZC,{value:fe},pe({ourProps:ue,theirProps:P,defaultTag:Y1,features:X1,visible:ve==="visible",name:"Transition.Child"})))}function _3(e,t){let{show:i,appear:s=!1,unmount:c=!0,...h}=e,f=T.useRef(null),p=W1(e),g=Ki(...p?[f,t]:t===null?[]:[t]);vh();let x=yh();if(i===void 0&&x!==null&&(i=(x&Ni.Open)===Ni.Open),i===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[_,w]=T.useState(i?"visible":"hidden"),E=K1(()=>{i||w("hidden")}),[N,A]=T.useState(!0),k=T.useRef([i]);Rn(()=>{N!==!1&&k.current[k.current.length-1]!==i&&(k.current.push(i),A(!1))},[k,i]);let P=T.useMemo(()=>({show:i,appear:s,initial:N}),[i,s,N]);Rn(()=>{i?w("visible"):!_h(E)&&f.current!==null&&w("hidden")},[i,E]);let M={unmount:c},D=ut(()=>{var F;N&&A(!1),(F=e.beforeEnter)==null||F.call(e)}),R=ut(()=>{var F;N&&A(!1),(F=e.beforeLeave)==null||F.call(e)}),Z=li();return je.createElement(bh.Provider,{value:E},je.createElement(xh.Provider,{value:P},Z({ourProps:{...M,as:T.Fragment,children:je.createElement(J1,{ref:g,...M,...h,beforeEnter:D,beforeLeave:R})},theirProps:{},defaultTag:T.Fragment,features:X1,visible:_==="visible",name:"Transition"})))}function w3(e,t){let i=T.useContext(xh)!==null,s=yh()!==null;return je.createElement(je.Fragment,null,!i&&s?je.createElement(Pp,{ref:t,...e}):je.createElement(J1,{ref:t,...e}))}let Pp=On(_3),J1=On(b3),jg=On(w3),Oa=Object.assign(Pp,{Child:jg,Root:Pp});var S3=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(S3||{}),j3=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(j3||{});let T3={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Tg=T.createContext(null);Tg.displayName="DialogContext";function wh(e){let t=T.useContext(Tg);if(t===null){let i=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,wh),i}return t}function E3(e,t){return Cr(t.type,T3,e,t)}let ob=On(function(e,t){let i=T.useId(),{id:s=`headlessui-dialog-${i}`,open:c,onClose:h,initialFocus:f,role:p="dialog",autoFocus:g=!0,__demoMode:x=!1,unmount:_=!1,...w}=e,E=T.useRef(!1);p=(function(){return p==="dialog"||p==="alertdialog"?p:(E.current||(E.current=!0,console.warn(`Invalid role [${p}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let N=yh();c===void 0&&N!==null&&(c=(N&Ni.Open)===Ni.Open);let A=T.useRef(null),k=Ki(A,t),P=_g(A.current),M=c?0:1,[D,R]=T.useReducer(E3,{titleId:null,descriptionId:null,panelRef:T.createRef()}),Z=ut(()=>h(!1)),F=ut(ie=>R({type:0,id:ie})),V=vh()?M===0:!1,[B,te]=t3(),me={get current(){var ie;return(ie=D.panelRef.current)!=null?ie:A.current}},ve=F1(),{resolveContainers:Te}=a3({mainTreeNode:ve,portals:B,defaultContainers:[me]}),Ne=N!==null?(N&Ni.Closing)===Ni.Closing:!1;yC(x||Ne?!1:V,{allowed:ut(()=>{var ie,ue;return[(ue=(ie=A.current)==null?void 0:ie.closest("[data-headlessui-portal]"))!=null?ue:null]}),disallowed:ut(()=>{var ie;return[(ie=ve?.closest("body > *:not(#headlessui-portal-root)"))!=null?ie:null]})});let it=L1.get(null);Rn(()=>{if(V)return it.actions.push(s),()=>it.actions.pop(s)},[it,s,V]);let Fe=P1(it,T.useCallback(ie=>it.selectors.isTop(ie,s),[it,s]));AC(Fe,Te,ie=>{ie.preventDefault(),Z()}),r3(Fe,P?.defaultView,ie=>{ie.preventDefault(),ie.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),Z()}),DC(x||Ne?!1:V,P,Te),vC(V,A,Z);let[ht,$]=XN(),oe=T.useMemo(()=>[{dialogState:M,close:Z,setTitleId:F,unmount:_},D],[M,Z,F,_,D]),ne=Wc({open:M===0}),le={ref:k,id:s,role:p,tabIndex:-1,"aria-modal":x?void 0:M===0?!0:void 0,"aria-labelledby":D.titleId,"aria-describedby":ht,unmount:_},ce=!s3(),U=Ea.None;V&&!x&&(U|=Ea.RestoreFocus,U|=Ea.TabLock,g&&(U|=Ea.AutoFocus),ce&&(U|=Ea.InitialFocus));let Q=li();return je.createElement(GC,null,je.createElement(sb,{force:!0},je.createElement(i3,null,je.createElement(Tg.Provider,{value:oe},je.createElement($1,{target:A},je.createElement(sb,{force:!1},je.createElement($,{slot:ne},je.createElement(te,null,je.createElement(h3,{initialFocus:f,initialFocusFallback:A,containers:Te,features:U},je.createElement(iC,{value:Z},Q({ourProps:le,theirProps:w,slot:ne,defaultTag:N3,features:C3,visible:M===0,name:"Dialog"})))))))))))}),N3="div",C3=Yd.RenderStrategy|Yd.Static;function A3(e,t){let{transition:i=!1,open:s,...c}=e,h=yh(),f=e.hasOwnProperty("open")||h!==null,p=e.hasOwnProperty("onClose");if(!f&&!p)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!f)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!p)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!h&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(s!==void 0||i)&&!c.static?je.createElement(ab,null,je.createElement(Oa,{show:s,transition:i,unmount:c.unmount},je.createElement(ob,{ref:t,...c}))):je.createElement(ab,null,je.createElement(ob,{ref:t,open:s,...c}))}let R3="div";function O3(e,t){let i=T.useId(),{id:s=`headlessui-dialog-panel-${i}`,transition:c=!1,...h}=e,[{dialogState:f,unmount:p},g]=wh("Dialog.Panel"),x=Ki(t,g.panelRef),_=Wc({open:f===0}),w=ut(P=>{P.stopPropagation()}),E={ref:x,id:s,onClick:w},N=c?jg:T.Fragment,A=c?{unmount:p}:{},k=li();return je.createElement(N,{...A},k({ourProps:E,theirProps:h,slot:_,defaultTag:R3,name:"Dialog.Panel"}))}let k3="div";function L3(e,t){let{transition:i=!1,...s}=e,[{dialogState:c,unmount:h}]=wh("Dialog.Backdrop"),f=Wc({open:c===0}),p={ref:t,"aria-hidden":!0},g=i?jg:T.Fragment,x=i?{unmount:h}:{},_=li();return je.createElement(g,{...x},_({ourProps:p,theirProps:s,slot:f,defaultTag:k3,name:"Dialog.Backdrop"}))}let P3="h2";function M3(e,t){let i=T.useId(),{id:s=`headlessui-dialog-title-${i}`,...c}=e,[{dialogState:h,setTitleId:f}]=wh("Dialog.Title"),p=Ki(t);T.useEffect(()=>(f(s),()=>f(null)),[s,f]);let g=Wc({open:h===0}),x={ref:p,id:s};return li()({ourProps:x,theirProps:c,slot:g,defaultTag:P3,name:"Dialog.Title"})}let D3=On(A3),z3=On(O3);On(L3);let B3=On(M3),Tc=Object.assign(D3,{Panel:z3,Title:B3,Description:tC});function U3(){const[e,t]=T.useState(""),[i,s]=T.useState(""),[c,h]=T.useState(!1),[f,p]=T.useState(""),[g,x]=T.useState(!1),[_,w]=T.useState({email:"",password:"",nombre:"",telefono:"",direccion:""}),[E,N]=T.useState(""),[A,k]=T.useState(""),[P,M]=T.useState(!1),{setUsuario:D}=Et(),{isDark:R}=WT(),Z=dt(),F=async B=>{B.preventDefault(),p(""),h(!0);try{const te=await ON(e,i);if(te)switch(D(te),te.tipo_usuario){case"repartidor":Z("/repartidor/dashboard");break;case"restaurante":Z("/restaurante/dashboard");break;case"operador":Z("/operador/dashboard");break;case"admin":Z("/admin/dashboard");break;default:Z("/home");break}else p("Email o contrasea incorrectos")}catch(te){p("Error al iniciar sesin. Intenta nuevamente."),console.error(te)}finally{h(!1)}},V=async B=>{B.preventDefault(),N(""),k(""),M(!0);try{const te=await kN(_.email,_.password,_.nombre,_.telefono,_.direccion);te.success?(k(te.message),setTimeout(()=>{x(!1),w({email:"",password:"",nombre:"",telefono:"",direccion:""}),k(""),t(_.email)},2e3)):N(te.message)}catch(te){N("Error al crear la cuenta. Intenta nuevamente."),console.error(te)}finally{M(!1)}};return l.jsxs("div",{style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",background:R?"linear-gradient(135deg, #0a0118 0%, #1a0b2e 50%, #0f0a1f 100%)":"linear-gradient(135deg, #faf5ff 0%, #fce7f3 50%, #eef2ff 100%)",padding:"16px",transition:"background 0.5s ease"},children:[l.jsxs("div",{style:{position:"absolute",inset:0,overflow:"hidden",pointerEvents:"none",opacity:.6},children:[l.jsx("div",{style:{position:"absolute",top:"28%",left:"20%",width:"180px",height:"180px",background:R?"radial-gradient(circle, rgba(168,85,247,0.28) 0%, transparent 70%)":"radial-gradient(circle, rgba(192,132,252,0.2) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(48px)",animation:"pulse 4s ease-in-out infinite"}}),l.jsx("div",{style:{position:"absolute",bottom:"22%",right:"18%",width:"200px",height:"200px",background:R?"radial-gradient(circle, rgba(236,72,153,0.28) 0%, transparent 70%)":"radial-gradient(circle, rgba(251,207,232,0.28) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(52px)",animation:"pulse 5s ease-in-out infinite",animationDelay:"1s"}}),l.jsx("div",{style:{position:"absolute",top:"50%",left:"52%",width:"160px",height:"160px",background:R?"radial-gradient(circle, rgba(99,102,241,0.28) 0%, transparent 70%)":"radial-gradient(circle, rgba(165,180,252,0.22) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(50px)",animation:"pulse 6s ease-in-out infinite",animationDelay:"2s"}})]}),l.jsx("main",{style:{position:"relative",width:"100%",maxWidth:"360px",zIndex:10,animation:"fadeInUp 0.5s ease-out"},children:l.jsxs("div",{style:{position:"relative",background:R?"rgba(31,18,48,0.92)":"rgba(255,255,255,0.92)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",borderRadius:"20px",boxShadow:R?"0 18px 50px rgba(168,85,247,0.22), 0 0 0 1px rgba(167,139,250,0.08)":"0 14px 40px rgba(0,0,0,0.10), 0 0 0 1px rgba(192,132,252,0.12)",border:R?"1px solid rgba(139,92,246,0.15)":"1px solid rgba(192,132,252,0.18)",padding:"32px 24px",transition:"all 0.2s ease"},onMouseEnter:B=>{B.currentTarget.style.boxShadow=R?"0 30px 80px rgba(168,85,247,0.35), 0 0 0 1px rgba(167,139,250,0.15)":"0 25px 70px rgba(0,0,0,0.15), 0 0 0 1px rgba(192,132,252,0.2)"},onMouseLeave:B=>{B.currentTarget.style.boxShadow=R?"0 25px 70px rgba(168,85,247,0.25), 0 0 0 1px rgba(167,139,250,0.1)":"0 20px 60px rgba(0,0,0,0.12), 0 0 0 1px rgba(192,132,252,0.15)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px",animation:"slideInLeft 0.5s ease-out"},children:[l.jsx("div",{style:{position:"relative",width:64,height:64},children:l.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(135deg, #a855f7 0%, #ec4899 100%)",borderRadius:"16px",filter:"blur(12px)",opacity:.7}})}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[l.jsx("img",{src:"/logo.png",alt:"Delibery",style:{width:"120px",height:"auto",objectFit:"contain",transition:"transform 0.25s ease",display:"block"},onMouseEnter:B=>B.currentTarget.style.transform="scale(1.03) rotate(1deg)",onMouseLeave:B=>B.currentTarget.style.transform="scale(1) rotate(0deg)"}),l.jsx("p",{style:{fontSize:"14px",color:R?"#d1d5db":"#6b7280",margin:"6px 0 0 0",fontWeight:500},children:" Bienvenido de vuelta"})]})]}),l.jsxs("form",{onSubmit:F,style:{display:"flex",flexDirection:"column",gap:"14px"},children:[f&&l.jsxs("div",{style:{background:R?"rgba(127,29,29,0.4)":"#fef2f2",border:`1px solid ${R?"#991b1b":"#fecaca"}`,color:R?"#fca5a5":"#dc2626",padding:"12px 16px",borderRadius:"12px",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",gap:"8px",animation:"shake 0.5s ease-in-out"},children:[l.jsx("span",{style:{fontSize:"18px"},children:""}),f]}),l.jsxs("div",{style:{animation:"slideInRight 0.6s ease-out"},children:[l.jsx("label",{htmlFor:"email",style:{display:"block",fontSize:"13px",fontWeight:600,color:R?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Email"}),l.jsx("input",{id:"email",type:"email",value:e,onChange:B=>t(B.target.value),placeholder:"tu@email.com",required:!0,disabled:c,style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${R?"#6b21a8":"#e9d5ff"}`,background:R?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:R?"#ffffff":"#111827",fontSize:"14px",outline:"none",transition:"all 0.2s ease",boxSizing:"border-box"},onFocus:B=>{B.currentTarget.style.borderColor=R?"#a855f7":"#9333ea",B.currentTarget.style.boxShadow=R?"0 0 0 4px rgba(168,85,247,0.15)":"0 0 0 4px rgba(147,51,234,0.1)",B.currentTarget.style.transform="scale(1.02)"},onBlur:B=>{B.currentTarget.style.borderColor=R?"#6b21a8":"#e9d5ff",B.currentTarget.style.boxShadow="none",B.currentTarget.style.transform="scale(1)"}})]}),l.jsxs("div",{style:{animation:"slideInRight 0.7s ease-out"},children:[l.jsx("label",{htmlFor:"password",style:{display:"block",fontSize:"13px",fontWeight:600,color:R?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Contrasea"}),l.jsx("input",{id:"password",type:"password",value:i,onChange:B=>s(B.target.value),placeholder:"",required:!0,disabled:c,style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${R?"#6b21a8":"#e9d5ff"}`,background:R?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:R?"#ffffff":"#111827",fontSize:"14px",outline:"none",transition:"all 0.2s ease",boxSizing:"border-box"},onFocus:B=>{B.currentTarget.style.borderColor=R?"#a855f7":"#9333ea",B.currentTarget.style.boxShadow=R?"0 0 0 4px rgba(168,85,247,0.15)":"0 0 0 4px rgba(147,51,234,0.1)",B.currentTarget.style.transform="scale(1.02)"},onBlur:B=>{B.currentTarget.style.borderColor=R?"#6b21a8":"#e9d5ff",B.currentTarget.style.boxShadow="none",B.currentTarget.style.transform="scale(1)"}})]}),l.jsx("button",{type:"submit",disabled:c,style:{width:"100%",padding:"14px 18px",borderRadius:"10px",background:R?"linear-gradient(135deg, #a855f7 0%, #ec4899 50%, #6366f1 100%)":"linear-gradient(135deg, #9333ea 0%, #db2777 50%, #4f46e5 100%)",color:"#ffffff",fontSize:"15px",fontWeight:700,border:"none",cursor:c?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:R?"0 10px 30px rgba(168,85,247,0.28)":"0 8px 24px rgba(147,51,234,0.26)",transition:"all 0.2s ease",opacity:c?.8:1,animation:"slideInUp 0.6s ease-out"},onMouseEnter:B=>{c||(B.currentTarget.style.transform="scale(1.02) translateY(-2px)",B.currentTarget.style.boxShadow=R?"0 16px 45px rgba(168,85,247,0.45)":"0 14px 40px rgba(147,51,234,0.4)")},onMouseLeave:B=>{B.currentTarget.style.transform="scale(1) translateY(0)",B.currentTarget.style.boxShadow=R?"0 12px 35px rgba(168,85,247,0.35)":"0 10px 30px rgba(147,51,234,0.3)"},onMouseDown:B=>!c&&(B.currentTarget.style.transform="scale(0.98) translateY(0)"),onMouseUp:B=>!c&&(B.currentTarget.style.transform="scale(1.02) translateY(-2px)"),children:c?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{style:{width:"20px",height:"20px",animation:"spin 1s linear infinite"},viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",style:{opacity:.25}}),l.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",style:{opacity:.75}})]}),l.jsx("span",{children:"Iniciando..."})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"Iniciar Sesin"}),l.jsx("span",{style:{fontSize:"20px",transition:"transform 0.3s ease"},children:""})]})}),l.jsxs("button",{type:"button",onClick:()=>x(!0),style:{width:"100%",padding:"12px 18px",borderRadius:"10px",background:"transparent",color:R?"#d1d5db":"#6b7280",fontSize:"14px",fontWeight:600,border:`2px solid ${R?"#4b5563":"#e5e7eb"}`,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease",animation:"slideInUp 0.7s ease-out"},onMouseEnter:B=>{B.currentTarget.style.borderColor="#9333ea",B.currentTarget.style.color=R?"#a855f7":"#9333ea",B.currentTarget.style.transform="scale(1.02)"},onMouseLeave:B=>{B.currentTarget.style.borderColor=R?"#4b5563":"#e5e7eb",B.currentTarget.style.color=R?"#d1d5db":"#6b7280",B.currentTarget.style.transform="scale(1)"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"Crear Cuenta Nueva"})]})]})]})}),l.jsx(Oa,{show:g,as:T.Fragment,children:l.jsxs(Tc,{as:"div",onClose:()=>x(!1),style:{position:"fixed",inset:0,zIndex:9999},children:[l.jsx(Oa.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)"}})}),l.jsx("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",overflowY:"auto"},children:l.jsx(Oa.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:l.jsxs(Tc.Panel,{style:{width:"100%",maxWidth:"420px",background:R?"rgba(31,18,48,0.98)":"rgba(255,255,255,0.98)",backdropFilter:"blur(16px)",borderRadius:"20px",padding:"28px 24px",boxShadow:R?"0 20px 60px rgba(168,85,247,0.3)":"0 20px 60px rgba(0,0,0,0.2)",border:R?"1px solid rgba(139,92,246,0.2)":"1px solid rgba(192,132,252,0.2)",margin:"auto"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px"},children:[l.jsx(Tc.Title,{style:{fontSize:"22px",fontWeight:800,color:R?"#f3f4f6":"#111827"},children:" Crear Cuenta"}),l.jsx("button",{onClick:()=>x(!1),style:{background:R?"#374151":"#f3f4f6",border:"none",borderRadius:"8px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"18px",color:R?"#9ca3af":"#6b7280"},children:""})]}),l.jsxs("form",{onSubmit:V,style:{display:"flex",flexDirection:"column",gap:"14px"},children:[E&&l.jsxs("div",{style:{background:R?"rgba(127,29,29,0.4)":"#fef2f2",border:`1px solid ${R?"#991b1b":"#fecaca"}`,color:R?"#fca5a5":"#dc2626",padding:"12px 16px",borderRadius:"12px",fontSize:"13px",fontWeight:500},children:[" ",E]}),A&&l.jsxs("div",{style:{background:R?"rgba(20,83,45,0.4)":"#f0fdf4",border:`1px solid ${R?"#166534":"#bbf7d0"}`,color:R?"#86efac":"#16a34a",padding:"12px 16px",borderRadius:"12px",fontSize:"13px",fontWeight:500},children:[" ",A]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:R?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Email *"}),l.jsx("input",{type:"email",value:_.email,onChange:B=>w({..._,email:B.target.value}),required:!0,disabled:P,placeholder:"tu@email.com",style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${R?"#6b21a8":"#e9d5ff"}`,background:R?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:R?"#ffffff":"#111827",fontSize:"14px",outline:"none",boxSizing:"border-box"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:R?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Contrasea *"}),l.jsx("input",{type:"password",value:_.password,onChange:B=>w({..._,password:B.target.value}),required:!0,disabled:P,placeholder:"",style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${R?"#6b21a8":"#e9d5ff"}`,background:R?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:R?"#ffffff":"#111827",fontSize:"14px",outline:"none",boxSizing:"border-box"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:R?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Nombre Completo *"}),l.jsx("input",{type:"text",value:_.nombre,onChange:B=>w({..._,nombre:B.target.value}),required:!0,disabled:P,placeholder:"Juan Prez",style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${R?"#6b21a8":"#e9d5ff"}`,background:R?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:R?"#ffffff":"#111827",fontSize:"14px",outline:"none",boxSizing:"border-box"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:R?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Telfono (opcional)"}),l.jsx("input",{type:"tel",value:_.telefono,onChange:B=>w({..._,telefono:B.target.value}),disabled:P,placeholder:"+504 1234-5678",style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${R?"#6b21a8":"#e9d5ff"}`,background:R?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:R?"#ffffff":"#111827",fontSize:"14px",outline:"none",boxSizing:"border-box"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:R?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Direccin (opcional)"}),l.jsx("input",{type:"text",value:_.direccion,onChange:B=>w({..._,direccion:B.target.value}),disabled:P,placeholder:"Colonia, Calle, #Casa",style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${R?"#6b21a8":"#e9d5ff"}`,background:R?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:R?"#ffffff":"#111827",fontSize:"14px",outline:"none",boxSizing:"border-box"}})]}),l.jsx("button",{type:"submit",disabled:P,style:{width:"100%",padding:"14px 18px",borderRadius:"10px",background:R?"linear-gradient(135deg, #a855f7 0%, #ec4899 50%, #6366f1 100%)":"linear-gradient(135deg, #9333ea 0%, #db2777 50%, #4f46e5 100%)",color:"#ffffff",fontSize:"15px",fontWeight:700,border:"none",cursor:P?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",marginTop:"8px",opacity:P?.7:1},children:P?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{style:{width:"20px",height:"20px",animation:"spin 1s linear infinite"},viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",style:{opacity:.25}}),l.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",style:{opacity:.75}})]}),l.jsx("span",{children:"Creando cuenta..."})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"Crear Cuenta"}),l.jsx("span",{children:""})]})})]})]})})})]})}),l.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideInLeft {
          from { opacity: 0; transform: translateX(-30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInRight {
          from { opacity: 0; transform: translateX(30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInUp {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
          20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes pulse {
          0%, 100% { opacity: 0.6; transform: scale(1); }
          50% { opacity: 0.8; transform: scale(1.05); }
        }
      `})]})}function Ye(){return l.jsx(l.Fragment,{children:l.jsx("header",{style:{position:"sticky",top:0,zIndex:100,background:"linear-gradient(135deg, #2e1065, #1e1b4b)",padding:"12px 14px 14px",boxShadow:"0 2px 8px rgba(30, 27, 75, 0.18)",clipPath:"ellipse(100% 75% at 50% 10%)"},children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",maxWidth:"500px",margin:"0 auto"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:14},children:[l.jsx("img",{src:"/logo.png",alt:"Delibery",style:{height:36,borderRadius:"10px"}}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",lineHeight:1.1},children:[l.jsx("div",{style:{color:"#fff",fontWeight:900,fontSize:16},children:"Food Delibery Roatan"}),l.jsx("div",{style:{fontSize:12,color:"rgba(255,255,255,0.9)",marginTop:2},children:"Tu comida, ms cerca"})]})]})})})})}function I3({restaurantes:e}){const t=dt(),i=T.useRef(null),s=T.useRef(!1);return T.useEffect(()=>{const c=i.current;if(!c||e.length===0)return;let h;const f=.6;let p=0;const g=()=>{if(c){if(!s.current){p+=f;const x=Math.floor(c.scrollWidth/2);p>=x&&(p=0),c.scrollLeft=Math.max(0,x-Math.floor(p))}h=requestAnimationFrame(g)}};return c.scrollLeft=Math.floor(c.scrollWidth/2),h=requestAnimationFrame(g),()=>cancelAnimationFrame(h)},[e]),e.length===0?l.jsx("section",{style:{marginBottom:"24px"},children:l.jsx("div",{style:{position:"relative",borderRadius:"12px",overflow:"hidden",height:"160px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 10px 30px rgba(0,0,0,0.12)",display:"flex",alignItems:"center",justifyContent:"center",padding:"12px"},children:l.jsx("p",{style:{color:"#fff",fontSize:"15px",fontWeight:500},children:"No hay restaurantes disponibles"})})}):l.jsx("section",{style:{marginBottom:"24px"},children:l.jsxs("div",{style:{position:"relative",maxWidth:"1200px",margin:"0 auto",padding:"8px 16px"},children:[l.jsx("style",{children:".hide-scrollbar::-webkit-scrollbar{display:none;} .hide-scrollbar{ -ms-overflow-style:none; scrollbar-width:none; }"}),l.jsx("div",{ref:i,className:"hide-scrollbar",onMouseEnter:()=>s.current=!0,onMouseLeave:()=>s.current=!1,style:{display:"flex",gap:"12px",overflowX:"hidden",paddingBottom:"8px",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none"},children:(e.length>0?[...e,...e]:e).map((c,h)=>l.jsxs("div",{style:{minWidth:"160px",flex:"0 0 auto",borderRadius:"10px",overflow:"hidden",background:"transparent",boxShadow:"none",border:"1px solid rgba(15,23,42,0.06)",cursor:"pointer",display:"flex",flexDirection:"column",backdropFilter:"none"},onClick:()=>t(`/restaurante/${c.id}`),children:[l.jsx("div",{style:{height:"90px",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:`url(${c.imagen_url})`}}),l.jsxs("div",{style:{padding:"10px 12px",display:"flex",flexDirection:"column",gap:"6px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"8px"},children:[l.jsx("h4",{style:{margin:0,fontSize:"13px",fontWeight:800,color:"#0f172a"},children:c.nombre}),l.jsx("span",{style:{fontSize:"16px"},children:c.emoji})]}),l.jsx("p",{style:{margin:0,fontSize:"11px",color:"#475569"},children:c.descripcion})]})]},`${c.id}-${h}`))}),l.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:10},children:l.jsx("button",{onClick:()=>t("/restaurantes"),style:{padding:"6px 10px",fontSize:13,borderRadius:10,border:"1px solid #e6e7eb",background:"#fff",cursor:"pointer",color:"#0f172a",boxShadow:"0 1px 3px rgba(2,6,23,0.06)"},children:"Ver todos"})})]})})}function V3({platillos:e}){const t=dt(),i=T.useRef(null);if(T.useEffect(()=>{const c=i.current;if(!c||e.length===0)return;let h,f=0;const p=.5,g=()=>{if(!c)return;f+=p;const w=c.scrollWidth/2;f>=w&&(f=0),c.scrollLeft=f,h=requestAnimationFrame(g)};h=requestAnimationFrame(g);const x=()=>cancelAnimationFrame(h),_=()=>{h=requestAnimationFrame(g)};return c.addEventListener("mouseenter",x),c.addEventListener("mouseleave",_),()=>{cancelAnimationFrame(h),c.removeEventListener("mouseenter",x),c.removeEventListener("mouseleave",_)}},[e]),e.length===0)return null;const s=[...e,...e];return l.jsx("div",{style:{marginBottom:20,overflow:"hidden"},children:l.jsxs("div",{ref:i,style:{display:"flex",gap:10,overflowX:"hidden",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},children:[l.jsx("style",{children:".hide-scrollbar::-webkit-scrollbar{display:none;}"}),s.map((c,h)=>l.jsxs("div",{onClick:()=>{t(`/platillo/${c.id}`)},style:{minWidth:130,flex:"0 0 130px",borderRadius:10,overflow:"hidden",background:"#fff",border:"1px solid rgba(15,23,42,0.08)",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:f=>{f.currentTarget.style.transform="scale(1.05)"},onMouseLeave:f=>{f.currentTarget.style.transform="scale(1)"},children:[l.jsx("div",{style:{height:90,backgroundImage:`url(${c.imagen_url||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=200"})`,backgroundSize:"cover",backgroundPosition:"center"}}),l.jsxs("div",{style:{padding:"8px 10px"},children:[l.jsx("h4",{style:{margin:0,fontSize:12,fontWeight:700,color:"#0f172a",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:c.nombre}),c.precio&&l.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:13,fontWeight:700,color:"#059669"},children:["L ",c.precio.toFixed(2)]}),c.restaurante&&l.jsx("p",{style:{margin:"2px 0 0 0",fontSize:10,color:"#6b7280",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:c.restaurante.nombre})]})]},`${c.id}-${h}`))]})})}function H3(){const e=dt(),[t,i]=T.useState([]),[s,c]=T.useState([]),[h,f]=T.useState([]),[,p]=T.useState(!0),[g,x]=T.useState(""),[_,w]=T.useState([]),[E,N]=T.useState(!1);return T.useEffect(()=>{async function A(){try{const{data:k,error:P}=await he.from("restaurantes").select("*").eq("activo",!0).order("calificacion",{ascending:!1});if(P)console.error("Error cargando restaurantes:",P),i([]);else{const F=(k||[]).map(V=>({...V,calificacion:typeof V.calificacion=="string"?parseFloat(V.calificacion)||0:V.calificacion??0,costo_envio:typeof V.costo_envio=="string"?parseFloat(V.costo_envio)||0:V.costo_envio??0,tiempo_entrega_min:V.tiempo_entrega_min?Number(V.tiempo_entrega_min):0}));i(F)}const{data:M,error:D}=await he.from("categorias").select("*").order("orden",{ascending:!0});if(D)console.error("Error cargando categoras:",D),f([{id:"1",nombre:"Comidas",emoji:"",color_gradiente_inicio:"#f093fb",color_gradiente_fin:"#f5576c"},{id:"2",nombre:"Bebidas",emoji:"",color_gradiente_inicio:"#667eea",color_gradiente_fin:"#764ba2"},{id:"3",nombre:"Postres",emoji:"",color_gradiente_inicio:"#fa709a",color_gradiente_fin:"#fee140"}]);else{const F=(M||[]).filter(V=>V.nombre.toLowerCase()!=="mandaditos");f(F)}const{data:R,error:Z}=await he.from("platillos").select("id,nombre,descripcion,imagen_url,precio,disponible,restaurante_id,restaurantes(id,nombre)").order("nombre",{ascending:!0}).limit(100);if(Z)console.error("Error cargando platillos:",Z),c([]);else{const F=(R||[]).map(V=>({id:V.id,nombre:V.nombre,descripcion:V.descripcion,imagen_url:V.imagen_url,precio:V.precio,disponible:V.disponible,restaurante_id:V.restaurante_id,restaurante:V.restaurantes?Array.isArray(V.restaurantes)?V.restaurantes[0]:V.restaurantes:null}));c(F)}}catch(k){console.error("Error general:",k),i([]),f([]),c([])}finally{p(!1)}}A()},[]),T.useEffect(()=>{const A=g.trim().toLowerCase();if(!A){w([]);return}const k=t.filter(M=>`${M.nombre} ${M.descripcion}`.toLowerCase().includes(A)).slice(0,4).map(M=>({type:"restaurante",id:M.id,nombre:M.nombre,descripcion:M.descripcion,emoji:M.emoji})),P=s.filter(M=>`${M.nombre} ${M.descripcion}`.toLowerCase().includes(A)).slice(0,6-k.length).map(M=>({type:"platillo",id:M.id,nombre:M.nombre,descripcion:M.descripcion,restaurante:M.restaurante}));w([...k,...P])},[g,t,s]),l.jsxs("div",{style:{background:"#ffffff",minHeight:"100vh",paddingBottom:"20px",position:"relative"},children:[l.jsx(Ye,{}),l.jsxs("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:"16px"},children:[l.jsx(I3,{restaurantes:t}),l.jsxs("div",{style:{marginTop:12,marginBottom:18,position:"relative"},children:[l.jsx("input",{value:g,onChange:A=>x(A.target.value),onFocus:()=>N(!0),onBlur:()=>setTimeout(()=>N(!1),150),placeholder:"Buscar restaurantes o platillos...",style:{width:"100%",padding:"12px 14px",borderRadius:12,border:"1px solid #e6e7eb",outline:"none",fontSize:14}}),E&&g.trim().length>0&&_.length>0&&l.jsx("div",{style:{position:"absolute",top:"calc(100% + 8px)",left:0,right:0,background:"rgba(255,255,255,0.98)",border:"1px solid #e6e7eb",borderRadius:12,boxShadow:"0 8px 24px rgba(2,6,23,0.06)",zIndex:40,maxHeight:260,overflow:"auto"},children:_.map((A,k)=>l.jsxs("div",{onMouseDown:()=>{A.type==="restaurante"?e(`/restaurante/${A.id}`):A.type==="platillo"&&e(`/platillo/${A.id}`)},style:{padding:"10px 12px",display:"flex",flexDirection:"column",gap:4,cursor:"pointer",borderBottom:k<_.length-1?"1px solid #f3f4f6":"none"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("div",{style:{fontWeight:700,color:"#0f172a"},children:A.nombre}),l.jsx("div",{style:{fontSize:13,color:"#6b7280"},children:A.type==="restaurante"?"Restaurante":"Platillo"})]}),A.descripcion&&l.jsx("div",{style:{fontSize:13,color:"#6b7280"},children:A.descripcion})]},k))})]}),l.jsx(V3,{platillos:s.sort(()=>Math.random()-.5)}),l.jsxs("section",{children:[l.jsxs("h2",{style:{fontSize:"24px",fontWeight:800,color:"#111827",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("span",{style:{fontSize:"28px"},children:""}),"Qu se te antoja hoy?"]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"14px"},children:h.length>0?h.map(A=>l.jsxs("div",{onClick:()=>e(`/categoria/${A.id}`),style:{background:`linear-gradient(135deg, ${A.color_gradiente_inicio} 0%, ${A.color_gradiente_fin} 100%)`,borderRadius:"16px",padding:"20px 16px",position:"relative",overflow:"hidden",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 6px 18px rgba(102,126,234,0.3)",minHeight:"140px",clipPath:"ellipse(65% 60% at 30% 35%)",WebkitClipPath:"ellipse(65% 60% at 30% 35%)"},onMouseEnter:k=>{k.currentTarget.style.transform="translateY(-4px)",k.currentTarget.style.boxShadow="0 8px 24px rgba(102,126,234,0.4)"},onMouseLeave:k=>{k.currentTarget.style.transform="translateY(0)",k.currentTarget.style.boxShadow="0 6px 18px rgba(102,126,234,0.3)"},children:[l.jsx("div",{style:{position:"absolute",top:"-15px",right:"-15px",fontSize:"90px",opacity:.15},children:A.emoji}),l.jsxs("div",{style:{position:"relative",zIndex:2},children:[l.jsx("div",{style:{fontSize:"40px",marginBottom:"8px"},children:A.emoji}),l.jsx("h3",{style:{color:"#fff",fontSize:"17px",fontWeight:700,margin:"0 0 6px 0"},children:A.nombre})]})]},A.id)):l.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"16px",padding:"20px 16px",position:"relative",overflow:"hidden",cursor:"pointer",minHeight:"140px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",clipPath:"ellipse(65% 60% at 30% 35%)",WebkitClipPath:"ellipse(65% 60% at 30% 35%)"},children:"Cargando..."})})]})]}),l.jsx("style",{children:"@keyframes fadeIn {from { opacity: 0; } to { opacity: 1; }} @keyframes slideDown {from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); }}"})]})}function Sh({onClick:e,ariaLabel:t="Volver",style:i}){return l.jsx("button",{onClick:e,"aria-label":t,style:{position:"absolute",top:20,left:20,width:44,height:44,borderRadius:12,border:"none",background:"linear-gradient(180deg,#ffffff,#f3f4f6)",boxShadow:"0 8px 22px rgba(2,6,23,0.08)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:20,...i},children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M15 18L9 12L15 6",stroke:"#111827",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}function $3(){const{categoriaId:e}=el(),t=dt(),[i,s]=T.useState([]),[c,h]=T.useState(!0),[f,p]=T.useState("");T.useEffect(()=>{e&&g()},[e]);async function g(){h(!0);try{const{data:x}=await he.from("categorias").select("nombre").eq("id",e).single();x&&p(x.nombre);const{data:_,error:w}=await he.from("platillos").select(`
          id, nombre, descripcion, imagen_url, precio, disponible,
          restaurantes ( nombre )
        `).eq("categoria_id",e).eq("disponible",!0);if(w)throw w;const E=(_||[]).map(N=>({...N,restaurante:N.restaurantes}));s(E)}catch(x){console.error("Error:",x)}finally{h(!1)}}return l.jsxs("div",{style:q3,children:[l.jsx(Sh,{onClick:()=>t(-1),style:{top:20,right:20}}),l.jsxs("header",{style:F3,children:[l.jsx("span",{style:Z3,children:"Explorar categora"}),l.jsx("h1",{style:G3,children:f||"Cargando..."})]}),c?l.jsx("div",{style:lb,children:"Cargando delicias..."}):i.length===0?l.jsx("div",{style:lb,children:"No hay platillos en esta categora todava."}):l.jsx("div",{style:W3,children:i.map(x=>l.jsxs("div",{onClick:()=>t(`/platillo/${x.id}`),style:K3,children:[l.jsxs("div",{style:Y3,children:[l.jsx("img",{src:x.imagen_url||"https://via.placeholder.com/300",alt:x.nombre,style:X3}),l.jsxs("div",{style:J3,children:["$",Number(x.precio).toFixed(2)]})]}),l.jsxs("div",{style:Q3,children:[l.jsx("div",{style:e6,children:x.restaurante?.nombre||"Restaurante"}),l.jsx("h3",{style:t6,children:x.nombre}),l.jsx("p",{style:n6,children:x.descripcion})]})]},x.id))})]})}const q3={minHeight:"100vh",background:"#f2f2f7",padding:"20px",paddingTop:"60px"},F3={marginBottom:"30px",paddingLeft:"10px"},Z3={color:"#8e8e93",textTransform:"uppercase",fontSize:"12px",fontWeight:600,letterSpacing:"1px"},G3={fontSize:"34px",fontWeight:800,color:"#1c1c1e",margin:"5px 0 0 0"},W3={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},K3={background:"white",borderRadius:"20px",overflow:"hidden",boxShadow:"0 10px 20px rgba(0,0,0,0.05)",cursor:"pointer",transition:"transform 0.2s ease"},Y3={position:"relative",height:"200px",width:"100%"},X3={width:"100%",height:"100%",objectFit:"cover"},J3={position:"absolute",bottom:"15px",left:"15px",background:"rgba(255,255,255,0.9)",padding:"5px 12px",borderRadius:"10px",fontWeight:800,fontSize:"14px",color:"#000",backdropFilter:"blur(5px)"},Q3={padding:"15px"},e6={color:"#007aff",fontSize:"12px",fontWeight:700,marginBottom:"4px"},t6={fontSize:"18px",fontWeight:700,margin:"0 0 8px 0",color:"#1c1c1e"},n6={fontSize:"14px",color:"#636366",lineHeight:"1.4",margin:0},lb={display:"flex",justifyContent:"center",padding:"50px",color:"#8e8e93"};function i6(){const{id:e}=el(),t=dt(),[i,s]=T.useState(null),[c,h]=T.useState([]),[f,p]=T.useState([]),[g,x]=T.useState(!0);return T.useEffect(()=>{if(!e)return;async function _(){x(!0);try{const{data:w}=await he.from("categorias").select("nombre").eq("id",e).single();w&&s(w.nombre||null);const{data:E,error:N}=await he.from("platillos").select("id,nombre,descripcion,imagen_url,precio,disponible,restaurante_id,restaurantes(id,nombre)").eq("categoria_id",e).order("nombre",{ascending:!0});N?(console.error("Error platillos:",N),h([])):h((E||[]).map(P=>({id:P.id,nombre:P.nombre,descripcion:P.descripcion,imagen_url:P.imagen_url,precio:P.precio,disponible:P.disponible,restaurante_id:P.restaurante_id,restaurantes:P.restaurantes?{id:P.restaurantes.id,nombre:P.restaurantes.nombre}:null})));const{data:A,error:k}=await he.from("bebidas").select("id,nombre,descripcion,imagen_url,precio,tamano,temperatura,disponible,restaurante_id,restaurantes(id,nombre)").eq("categoria_id",e).order("nombre",{ascending:!0});k?(console.error("Error bebidas:",k),p([])):p((A||[]).map(P=>({id:P.id,nombre:P.nombre,descripcion:P.descripcion,imagen_url:P.imagen_url,precio:P.precio,tamano:P.tamano,temperatura:P.temperatura,disponible:P.disponible,restaurante_id:P.restaurante_id,restaurantes:P.restaurantes?{id:P.restaurantes.id,nombre:P.restaurantes.nombre}:null})))}catch(w){console.error(w),h([]),p([])}finally{x(!1)}}_()},[e]),l.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[l.jsxs("header",{style:{background:"#fff",padding:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",position:"sticky",top:0,zIndex:30},children:[l.jsx(Sh,{onClick:()=>t(-1),style:{position:"relative",top:0,left:0}}),l.jsx("h2",{style:{fontSize:24,fontWeight:800,color:"#111827",margin:0},children:i??"Categora"})]}),l.jsx("main",{style:{maxWidth:500,margin:"0 auto",padding:16},children:g?l.jsxs("div",{style:{textAlign:"center",padding:40},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"Cargando..."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("section",{style:{marginBottom:16},children:[l.jsx("h3",{style:{margin:"8px 0"},children:"Platillos"}),c.length===0?l.jsx("p",{children:"No hay platillos en esta categora."}):l.jsx("div",{style:{display:"grid",gap:12},children:c.map(_=>l.jsxs("div",{role:"button",tabIndex:0,onClick:()=>t(`/platillo/${_.id}`),onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&t(`/platillo/${_.id}`)},style:{display:"flex",gap:12,alignItems:"center",background:"#fff",borderRadius:12,padding:12,boxShadow:"0 6px 20px rgba(0,0,0,0.06)",cursor:"pointer"},children:[l.jsx("div",{style:{width:84,height:84,borderRadius:8,overflow:"hidden",flex:"0 0 84px"},children:l.jsx("img",{src:_.imagen_url||"/placeholder.png",alt:_.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[l.jsx("h4",{style:{fontSize:15,margin:0},children:_.nombre}),l.jsxs("div",{style:{fontWeight:700},children:["$",_.precio.toFixed(2)]})]}),l.jsx("p",{style:{margin:"6px 0 0 0",color:"#6b7280",fontSize:13},children:_.descripcion}),_.restaurantes&&l.jsxs("p",{style:{margin:"6px 0 0 0",fontSize:12,color:"#374151"},children:["En: ",_.restaurantes.nombre]})]})]},_.id))})]}),l.jsxs("section",{children:[l.jsx("h3",{style:{margin:"8px 0"},children:"Bebidas"}),f.length===0?l.jsx("p",{children:"No hay bebidas en esta categora."}):l.jsx("div",{style:{display:"grid",gap:12},children:f.map(_=>l.jsxs("div",{role:"button",tabIndex:0,onClick:()=>t(`/platillo/${_.id}`),onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&t(`/platillo/${_.id}`)},style:{display:"flex",gap:12,alignItems:"center",background:"#fff",borderRadius:12,padding:12,boxShadow:"0 6px 20px rgba(0,0,0,0.06)",cursor:"pointer"},children:[l.jsx("div",{style:{width:84,height:84,borderRadius:8,overflow:"hidden",flex:"0 0 84px"},children:l.jsx("img",{src:_.imagen_url||"/placeholder.png",alt:_.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[l.jsx("h4",{style:{fontSize:15,margin:0},children:_.nombre}),l.jsxs("div",{style:{fontWeight:700},children:["$",_.precio.toFixed(2)]})]}),l.jsx("p",{style:{margin:"6px 0 0 0",color:"#6b7280",fontSize:13},children:_.descripcion}),_.tamano&&l.jsxs("p",{style:{margin:"6px 0 0 0",fontSize:12,color:"#374151"},children:["Tamao: ",_.tamano,"  ",_.temperatura]})]})]},_.id))})]})]})})]})}function r6(){const e=dt(),[t,i]=T.useState([]),[s,c]=T.useState(!0);T.useEffect(()=>{h()},[]);async function h(){try{const{data:f,error:p}=await he.from("categorias").select("*").order("orden",{ascending:!0});p?(console.error("Error cargando categoras:",p),i([])):i(f||[])}catch(f){console.error(f),i([])}finally{c(!1)}}return l.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[l.jsx("header",{style:{background:"#fff",padding:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",position:"sticky",top:0,zIndex:30},children:l.jsxs("h1",{style:{fontSize:24,fontWeight:800,color:"#111827",margin:0,display:"flex",alignItems:"center",gap:8},children:[l.jsx("span",{style:{fontSize:28},children:""}),"Categoras"]})}),l.jsx("main",{style:{maxWidth:500,margin:"0 auto",padding:16},children:s?l.jsxs("div",{style:{textAlign:"center",padding:40},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"Cargando..."})]}):t.length===0?l.jsxs("div",{style:{textAlign:"center",padding:40},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"No hay categoras disponibles"})]}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:14},children:t.map(f=>l.jsxs("div",{onClick:()=>e(`/categoria/${f.id}`),style:{background:`linear-gradient(135deg, ${f.color_gradiente_inicio} 0%, ${f.color_gradiente_fin} 100%)`,borderRadius:16,padding:"20px 16px",position:"relative",overflow:"hidden",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 6px 18px rgba(102,126,234,0.3)",minHeight:140},onMouseEnter:p=>{p.currentTarget.style.transform="translateY(-4px)",p.currentTarget.style.boxShadow="0 8px 24px rgba(102,126,234,0.4)"},onMouseLeave:p=>{p.currentTarget.style.transform="translateY(0)",p.currentTarget.style.boxShadow="0 6px 18px rgba(102,126,234,0.3)"},children:[l.jsx("div",{style:{position:"absolute",top:10,right:10,fontSize:48,opacity:.25},children:f.emoji}),l.jsxs("div",{style:{position:"relative",zIndex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end",height:"100%"},children:[l.jsx("span",{style:{fontSize:36,marginBottom:8,display:"block"},children:f.emoji}),l.jsx("h3",{style:{color:"#fff",fontSize:18,fontWeight:800,margin:0,textShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:f.nombre})]})]},f.id))})})]})}function s6(){const e=dt(),[t,i]=T.useState([]),[s,c]=T.useState(!0),[h,f]=T.useState(""),[p,g]=T.useState("Todos");T.useEffect(()=>{x()},[]);async function x(){try{const{data:w,error:E}=await he.from("restaurantes").select("*").eq("activo",!0).order("calificacion",{ascending:!1});if(E)throw E;const N=(w||[]).map(A=>({...A,calificacion:parseFloat(A.calificacion)||0,costo_envio:parseFloat(A.costo_envio)||0,tiempo_entrega_min:Number(A.tiempo_entrega_min)||0}));i(N)}catch(w){console.error(w)}finally{c(!1)}}const _=t.filter(w=>{const E=`${w.nombre} ${w.descripcion}`.toLowerCase().includes(h.toLowerCase());return p==="Mejor Valorados"?E&&w.calificacion>=4.5:p==="Envo Gratis"?E&&w.costo_envio===0:E});return l.jsxs("div",{style:{minHeight:"100vh",background:"#fcfcfd",paddingBottom:100},children:[l.jsxs("header",{style:a6,children:[l.jsxs("div",{style:o6,children:[l.jsx("span",{style:l6,children:""}),l.jsx("input",{id:"search-antoja",value:h,onChange:w=>f(w.target.value),placeholder:"Qu se te antoja hoy?",style:{...c6,color:"#000"}}),l.jsx("style",{children:"#search-antoja::placeholder { color: #000 !important; opacity: 1; }"})]}),l.jsx("div",{style:u6,children:["Todos","Mejor Valorados","Envo Gratis","Cerca de m"].map(w=>l.jsx("button",{onClick:()=>g(w),style:{...d6,background:p===w?"#1e293b":"#fff",color:p===w?"#fff":"#64748b",border:p===w?"1px solid #1e293b":"1px solid #e2e8f0"},children:w},w))})]}),l.jsx("main",{style:{maxWidth:600,margin:"0 auto",padding:"0 16px"},children:s?l.jsx(y6,{}):_.length===0?l.jsx(v6,{}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[l.jsxs("h3",{style:{fontSize:18,fontWeight:800,color:"#1e293b",marginBottom:-5},children:[p," (",_.length,")"]}),_.map(w=>l.jsxs("div",{onClick:()=>e(`/restaurante/${w.id}`),style:h6,children:[l.jsx("div",{style:{...f6,backgroundImage:`url(${w.imagen_url})`},children:l.jsx("div",{style:m6})}),l.jsxs("div",{style:{padding:"16px"},children:[l.jsx("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:l.jsx("h3",{style:p6,children:w.nombre})}),l.jsx("p",{style:g6,children:w.descripcion})]})]},w.id))]})})]})}const a6={background:"#fff",padding:"20px 16px",position:"sticky",top:0,zIndex:100,borderBottom:"1px solid #f1f5f9"},o6={position:"relative",display:"flex",alignItems:"center"},l6={position:"absolute",left:14,fontSize:16,opacity:.5},c6={width:"100%",padding:"14px 14px 14px 44px",borderRadius:"16px",border:"none",background:"#f1f5f9",outline:"none",fontSize:15,fontWeight:500},u6={display:"flex",gap:8,overflowX:"auto",marginTop:16,paddingBottom:4,scrollbarWidth:"none"},d6={padding:"8px 16px",borderRadius:"100px",border:"1px solid #e2e8f0",whiteSpace:"nowrap",cursor:"pointer",fontSize:13,fontWeight:600,transition:"0.2s"},h6={background:"#fff",borderRadius:"24px",overflow:"hidden",boxShadow:"0 10px 30px rgba(0,0,0,0.04)",cursor:"pointer",border:"1px solid #f1f5f9"},f6={height:180,backgroundSize:"cover",backgroundPosition:"center",position:"relative"},m6={position:"absolute",inset:0,background:"linear-gradient(to top, rgba(0,0,0,0.4), transparent)",display:"flex",alignItems:"flex-end",padding:12},p6={fontSize:20,fontWeight:900,color:"#1e293b",margin:0},g6={fontSize:14,color:"#64748b",margin:"8px 0 16px 0",lineHeight:1.4},y6=()=>l.jsxs("div",{style:{textAlign:"center",padding:"100px 0"},children:[l.jsx("div",{className:"spinner"}),l.jsx("style",{children:".spinner { width: 40px; height: 40px; border: 4px solid #f1f5f9; border-top-color: #1e293b; border-radius: 50%; animation: s 1s infinite linear; margin: 0 auto } @keyframes s { to { transform: rotate(1turn) } }"})]}),v6=()=>l.jsxs("div",{style:{textAlign:"center",padding:"100px 20px"},children:[l.jsx("div",{style:{fontSize:60},children:""}),l.jsx("h3",{style:{color:"#1e293b"},children:"Sin resultados"}),l.jsx("p",{style:{color:"#94a3b8"},children:'Prueba buscando algo diferente como "Pizza" o "Sushi"'})]});function Q1({visible:e,message:t="Operacin exitosa",duration:i=1500,onClose:s}){return T.useEffect(()=>{if(!e)return;const c=setTimeout(()=>s&&s(),i);return()=>clearTimeout(c)},[e,i,s]),e?l.jsx("div",{style:x6,"aria-live":"polite",children:l.jsx("div",{style:b6,children:t})}):null}const x6={position:"fixed",left:"50%",transform:"translateX(-50%)",bottom:90,zIndex:1200},b6={background:"#10b981",color:"white",padding:"10px 16px",borderRadius:12,boxShadow:"0 8px 30px rgba(16,185,129,0.18)",fontWeight:700,minWidth:160,textAlign:"center"};function ew({visible:e,title:t,description:i,onConfirm:s,onCancel:c,confirmLabel:h="S",cancelLabel:f="Cancelar"}){return e?l.jsx("div",{style:_6,role:"dialog","aria-modal":"true",children:l.jsxs("div",{style:w6,children:[t&&l.jsx("h3",{style:{margin:0,marginBottom:8},children:t}),i&&l.jsx("p",{style:{margin:0,marginBottom:16,color:"#6b7280"},children:i}),l.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:c,style:j6,children:f}),l.jsx("button",{onClick:s,style:S6,children:h})]})]})}):null}const _6={position:"fixed",inset:0,display:"flex",alignItems:"flex-end",justifyContent:"center",background:"rgba(0,0,0,0.35)",zIndex:1400,padding:20},w6={width:"100%",maxWidth:520,background:"white",borderRadius:14,padding:18,boxShadow:"0 12px 40px rgba(2,6,23,0.12)"},S6={background:"#10b981",color:"white",border:"none",padding:"10px 14px",borderRadius:10,fontWeight:700,cursor:"pointer"},j6={background:"transparent",color:"#374151",border:"1px solid #e5e7eb",padding:"10px 14px",borderRadius:10,cursor:"pointer"};function T6(){const{id:e}=el(),t=dt(),{usuario:i}=Et(),[s,c]=T.useState(null),[h,f]=T.useState([]),[p,g]=T.useState(!0),[x,_]=T.useState(null),[w,E]=T.useState(!1),[N,A]=T.useState(!1),[k,P]=T.useState(null);T.useEffect(()=>{e&&M()},[e]);async function M(){g(!0);try{const{data:F}=await he.from("restaurantes").select("*").eq("id",e).single();c(F);const{data:V}=await he.from("platillos").select("*").eq("restaurante_id",e).eq("disponible",!0).order("nombre");f(V||[])}catch(F){console.error(F)}finally{g(!1)}}const D=async(F,V)=>{if(F.stopPropagation(),!i){t("/login");return}_(V.id);try{const B=i.id,te=e;if(te){const{data:me,error:ve}=await he.from("carrito").select("id,restaurante_id").eq("usuario_id",B).neq("restaurante_id",te).limit(1).maybeSingle();if(ve)throw ve;if(me){P(V),A(!0),_(null);return}}await R(V)}catch(B){console.error(B)}finally{_(null)}};async function R(F){if(i)try{const V=i.id,{data:B}=await he.from("carrito").select("id, cantidad").eq("usuario_id",V).eq("platillo_id",F.id).maybeSingle();B?await he.from("carrito").update({cantidad:B.cantidad+1}).eq("id",B.id):await he.from("carrito").insert({usuario_id:V,platillo_id:F.id,restaurante_id:e,cantidad:1,precio_unitario:F.precio}),E(!0)}catch(V){throw console.error(V),V}}async function Z(){if(A(!1),!!k){_(k.id);try{const F=i.id,{error:V}=await he.from("carrito").delete().eq("usuario_id",F);if(V)throw V;await R(k)}catch(F){console.error(F)}finally{_(null),P(null)}}}return p?l.jsx(q6,{}):s?l.jsxs("div",{style:{minHeight:"100vh",background:"#ffffff",paddingBottom:"100px"},children:[l.jsxs("div",{style:E6,children:[l.jsx("div",{style:{...N6,backgroundImage:`url(${s.imagen_url})`}}),l.jsx("div",{style:C6}),l.jsx(Sh,{onClick:()=>t(-1),style:{top:25,left:20}}),l.jsxs("div",{style:A6,children:[l.jsx("div",{style:R6,children:"Populares hoy"}),l.jsx("h1",{style:{...O6,color:"#ffffff"},children:s.nombre}),l.jsx("div",{style:k6,children:" "})]})]}),l.jsxs("main",{style:L6,children:[l.jsxs("div",{style:P6,children:[l.jsx("h2",{style:{fontSize:"22px",fontWeight:800},children:"Nuestro Men"}),l.jsxs("span",{style:{color:"#000000ff",fontSize:"14px"},children:[h.length," opciones"]})]}),l.jsx("div",{style:M6,children:h.map(F=>l.jsxs("div",{style:D6,onClick:()=>t(`/platillo/${F.id}`),children:[l.jsxs("div",{style:z6,children:[l.jsx("img",{src:F.imagen_url||"/placeholder.png",alt:F.nombre,style:B6}),l.jsxs("div",{style:U6,children:["L ",F.precio.toFixed(2)]})]}),l.jsxs("div",{style:I6,children:[l.jsx("h3",{style:V6,children:F.nombre}),l.jsx("p",{style:H6,children:F.descripcion}),l.jsx("button",{disabled:x===F.id,onClick:V=>D(V,F),style:{...$6,background:x===F.id?"#ecfdf5":"#10b981",color:x===F.id?"#10b981":"#fff"},children:x===F.id?"...":"+ Aadir"})]})]},F.id))})]}),l.jsx(ew,{visible:N,title:"Carrito contiene items de otro restaurante",description:"Tu carrito contiene productos de otro restaurante. Deseas vaciar el carrito y agregar este platillo?",onCancel:()=>A(!1),onConfirm:Z,confirmLabel:"Vaciar y agregar",cancelLabel:"Cancelar"}),l.jsx(Q1,{visible:w,message:"Aadido al carrito",onClose:()=>E(!1)})]}):l.jsx(F6,{navigate:t})}const E6={position:"relative",height:"40vh",width:"100%",overflow:"hidden",display:"flex",alignItems:"flex-end"},N6={position:"absolute",inset:0,backgroundSize:"cover",backgroundPosition:"center",transform:"scale(1.1)"},C6={position:"absolute",inset:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 60%)"},A6={position:"relative",padding:"30px",color:"white",width:"100%"},R6={background:"#fbbf24",color:"#000",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:800,textTransform:"uppercase",width:"fit-content",marginBottom:"10px"},O6={fontSize:"36px",fontWeight:900,margin:"0 0 8px 0",letterSpacing:"-1px"},k6={display:"flex",gap:"12px",fontSize:"14px",fontWeight:500,opacity:.9},L6={maxWidth:"1200px",margin:"0 auto",padding:"40px 20px"},P6={display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"30px",borderBottom:"2px solid #f8fafc",paddingBottom:"15px"},M6={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"25px"},D6={background:"#fff",borderRadius:"24px",overflow:"hidden",border:"1px solid #f1f5f9",cursor:"pointer",transition:"all 0.3s ease",display:"flex",flexDirection:"column"},z6={position:"relative",height:"200px"},B6={width:"100%",height:"100%",objectFit:"cover"},U6={position:"absolute",bottom:"12px",right:"12px",background:"white",padding:"6px 12px",borderRadius:"12px",fontWeight:800,color:"#10b981",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},I6={padding:"20px",display:"flex",flexDirection:"column",flex:1},V6={fontSize:"18px",fontWeight:800,margin:"0 0 8px 0",color:"#1e293b"},H6={fontSize:"13px",color:"#64748b",margin:"0 0 20px 0",lineHeight:"1.5",flex:1},$6={width:"100%",padding:"12px",borderRadius:"14px",border:"none",fontWeight:700,cursor:"pointer",transition:"0.2s"};function q6(){return l.jsxs("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#fff"},children:[l.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #f3f3f3",borderTop:"3px solid #10b981",borderRadius:"50%",animation:"spin 1s linear infinite"}}),l.jsx("style",{children:"@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }"})]})}function F6({navigate:e}){return l.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("h2",{style:{fontWeight:800},children:"Restaurante no disponible"}),l.jsx("button",{onClick:()=>e("/restaurantes"),style:{marginTop:"20px",padding:"12px 24px",borderRadius:"12px",border:"none",background:"#000",color:"#fff",cursor:"pointer"},children:"Explorar otros"})]})}function Z6(){const{id:e}=el(),t=dt(),{usuario:i}=Et(),[s,c]=T.useState(null),[h,f]=T.useState(!0),[p,g]=T.useState(!1),[x,_]=T.useState(1),[w,E]=T.useState(""),[N,A]=T.useState(!1),[k,P]=T.useState(!1),[M,D]=T.useState(null);T.useEffect(()=>{e&&R()},[e]);async function R(){f(!0);try{const{data:B,error:te}=await he.from("platillos").select("id,nombre,descripcion,imagen_url,precio,disponible,restaurante_id,restaurantes(id,nombre)").eq("id",e).single();if(te)throw te;const me=Array.isArray(B.restaurantes)?B.restaurantes[0]:B.restaurantes;c({...B,restaurante:me?{id:me.id,nombre:me.nombre}:null})}catch(B){console.error(B),c(null)}finally{f(!1)}}async function Z(B,te){const{data:me,error:ve}=await he.from("carrito").select("id,cantidad").eq("usuario_id",B).eq("platillo_id",s.id).maybeSingle();if(ve)throw ve;if(me){const Te=(me.cantidad||0)+x,{error:Ne}=await he.from("carrito").update({cantidad:Te,notas:w||null}).eq("id",me.id);if(Ne)throw Ne}else{const Te={usuario_id:B,platillo_id:s.id,cantidad:x,notas:w||null,precio_unitario:s.precio??0,restaurante_id:te},{error:Ne}=await he.from("carrito").insert(Te);if(Ne)throw Ne}A(!0),setTimeout(()=>t("/carrito"),900)}async function F(){if(!i){t("/login");return}if(s){g(!0);try{const B=i.id,te=s.restaurante?.id??s.restaurante_id;if(te){const{data:me,error:ve}=await he.from("carrito").select("id,restaurante_id").eq("usuario_id",B).neq("restaurante_id",te).limit(1).maybeSingle();if(ve)throw ve;if(me){D(te),P(!0),g(!1);return}}await Z(B,te||null)}catch(B){console.error("Error agregarAlCarrito:",B),alert(B?.message||"No se pudo agregar al carrito. Intenta de nuevo.")}finally{g(!1)}}}async function V(){P(!1),g(!0);try{const B=i.id,{error:te}=await he.from("carrito").delete().eq("usuario_id",B);if(te)throw te;await Z(B,M)}catch(B){console.error(B),alert(B?.message||"No se pudo vaciar/agregar al carrito.")}finally{g(!1),D(null)}}return h?l.jsx(G6,{}):s?l.jsxs("div",{className:"detalle-page",style:{minHeight:"100vh",background:"#fff",paddingBottom:120},children:[l.jsx(Sh,{onClick:()=>t(-1),style:{top:20,left:20}}),l.jsx("div",{style:{width:"100%",height:300,overflow:"hidden",position:"relative"},children:l.jsx("img",{src:s.imagen_url||"/placeholder.png",alt:s.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),l.jsxs("div",{style:{maxWidth:600,margin:"0 auto",padding:"24px 20px"},children:[l.jsxs("div",{style:{marginBottom:24},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsx("h1",{style:{fontSize:28,fontWeight:800,margin:0,color:"#111827"},children:s.nombre}),l.jsxs("div",{style:{fontSize:22,fontWeight:700,color:"#059669"},children:["$",(s.precio||0).toFixed(2)]})]}),s.restaurante&&l.jsxs("p",{onClick:()=>t(`/restaurante/${s.restaurante?.id}`),style:{color:"#4f46e5",fontWeight:600,marginTop:4,cursor:"pointer",fontSize:14},children:[" ",s.restaurante.nombre]}),l.jsx("p",{style:{color:"#4b5563",lineHeight:"1.6",marginTop:16,fontSize:16},children:s.descripcion||"Sin descripcin disponible."})]}),l.jsx("hr",{style:{border:"0.5px solid #f3f4f6",margin:"24px 0"}}),l.jsxs("div",{style:{marginBottom:32},children:[l.jsx("label",{style:{display:"block",fontWeight:700,marginBottom:12,fontSize:15},children:"Instrucciones especiales"}),l.jsx("textarea",{placeholder:"Ej. Quitar cebolla, salsa aparte...",value:w,onChange:B=>E(B.target.value),className:"notes"})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:24,marginBottom:40},children:[l.jsx("button",{onClick:()=>_(B=>Math.max(1,B-1)),style:cb,className:"qty-btn",children:""}),l.jsx("span",{style:{fontSize:20,fontWeight:700,minWidth:20,textAlign:"center"},children:x}),l.jsx("button",{onClick:()=>_(B=>B+1),style:cb,className:"qty-btn",children:"+"})]})]}),l.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,background:"#fff",padding:"20px",borderTop:"1px solid #f3f4f6",boxShadow:"0 -4px 20px rgba(0,0,0,0.05)",zIndex:100},children:l.jsx("div",{style:{maxWidth:600,margin:"0 auto"},children:l.jsxs("button",{onClick:F,disabled:!s.disponible||p,style:{width:"100%",padding:"18px",borderRadius:14,border:"none",background:s.disponible?"#111827":"#9ca3af",color:"#fff",fontSize:16,fontWeight:700,cursor:s.disponible?"pointer":"not-allowed",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{children:p?"Agregando...":"Aadir al carrito"}),l.jsxs("span",{style:{opacity:.9},children:["$",((s.precio||0)*x).toFixed(2)]})]})})}),l.jsx(ew,{visible:k,title:"Carrito contiene items de otro restaurante",description:"Tu carrito contiene productos de otro restaurante. Deseas vaciar el carrito y agregar este platillo?",onCancel:()=>P(!1),onConfirm:V,confirmLabel:"Vaciar y agregar",cancelLabel:"Cancelar"}),l.jsx(Q1,{visible:N,message:"Aadido al carrito",onClose:()=>A(!1)})]}):l.jsx(W6,{navigate:t})}const cb={width:48,height:48,borderRadius:"50%",border:"1px solid #e5e7eb",background:"#fff",fontSize:24,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"};function G6(){return l.jsxs("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[l.jsx("div",{className:"spinner",style:{border:"4px solid #f3f3f3",borderTop:"4px solid #4f46e5",borderRadius:"50%",width:40,height:40,animation:"spin 1s linear infinite"}}),l.jsx("style",{children:"@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }"})]})}function W6({navigate:e}){return l.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:20,textAlign:"center"},children:[l.jsx("h2",{style:{fontSize:24,marginBottom:8},children:"Platillo no encontrado"}),l.jsx("p",{style:{color:"#6b7280",marginBottom:24},children:"Lo sentimos, no pudimos encontrar lo que buscabas."}),l.jsx("button",{onClick:()=>e(-1),style:{padding:"12px 24px",background:"#4f46e5",color:"#fff",borderRadius:12,border:"none",fontWeight:600},children:"Volver atrs"})]})}function K6(){const e=dt(),{usuario:t,setUsuario:i,logout:s}=Et(),[c,h]=T.useState(!1),[f,p]=T.useState(!1),[g,x]=T.useState(""),[_,w]=T.useState({nombre:t?.nombre||"",telefono:t?.telefono||"",direccion:t?.direccion||""}),E=k=>{w({..._,[k.target.name]:k.target.value})},N=async k=>{if(k.preventDefault(),!!t){p(!0),x("");try{const{data:P,error:M}=await he.from("usuarios").update({nombre:_.nombre,telefono:_.telefono,direccion:_.direccion,updated_at:new Date().toISOString()}).eq("id",t.id).select().single();M?(console.error("Error al actualizar:",M),x("Error al actualizar los datos")):P&&(i(P),x("Datos actualizados correctamente"),h(!1))}catch(P){console.error("Error:",P),x("Error al actualizar los datos")}finally{p(!1)}}},A=()=>{s(),e("/")};return t?l.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[l.jsx(Ye,{}),l.jsxs("main",{style:{maxWidth:600,margin:"0 auto",padding:"20px 16px"},children:[l.jsxs("div",{style:{background:"#fff",borderRadius:16,padding:"24px 20px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:24},children:[l.jsx("div",{style:{width:80,height:80,borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:36,color:"#fff",fontWeight:700},children:t.nombre.charAt(0).toUpperCase()}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h1",{style:{margin:0,fontSize:24,fontWeight:800,color:"#0f172a"},children:t.nombre}),l.jsx("p",{style:{margin:"4px 0 0 0",color:"#6b7280",fontSize:14},children:t.email}),l.jsx("span",{style:{display:"inline-block",marginTop:8,padding:"4px 12px",borderRadius:20,background:"#dbeafe",color:"#1e40af",fontSize:12,fontWeight:600},children:t.tipo_usuario==="cliente"?"Cliente":t.tipo_usuario})]})]}),g&&l.jsx("div",{style:{padding:"12px 16px",borderRadius:8,background:g.includes("Error")?"#fee2e2":"#d1fae5",color:g.includes("Error")?"#991b1b":"#065f46",marginBottom:20,fontSize:14},children:g}),c?l.jsxs("form",{onSubmit:N,children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16,marginBottom:20},children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"nombre",style:{display:"block",fontSize:13,color:"#6b7280",fontWeight:600,marginBottom:6},children:"Nombre"}),l.jsx("input",{type:"text",id:"nombre",name:"nombre",value:_.nombre,onChange:E,required:!0,style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:15,outline:"none",boxSizing:"border-box"}})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"telefono",style:{display:"block",fontSize:13,color:"#6b7280",fontWeight:600,marginBottom:6},children:"Telfono"}),l.jsx("input",{type:"tel",id:"telefono",name:"telefono",value:_.telefono,onChange:E,style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:15,outline:"none",boxSizing:"border-box"}})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"direccion",style:{display:"block",fontSize:13,color:"#6b7280",fontWeight:600,marginBottom:6},children:"Direccin"}),l.jsx("textarea",{id:"direccion",name:"direccion",value:_.direccion,onChange:E,rows:3,style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:15,outline:"none",boxSizing:"border-box",resize:"vertical",fontFamily:"inherit"}})]})]}),l.jsxs("div",{style:{display:"flex",gap:12},children:[l.jsx("button",{type:"button",onClick:()=>{h(!1),w({nombre:t?.nombre||"",telefono:t?.telefono||"",direccion:t?.direccion||""})},style:{flex:1,padding:"12px 16px",borderRadius:10,border:"1px solid #e5e7eb",background:"#fff",color:"#374151",fontSize:15,fontWeight:700,cursor:"pointer"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:f,style:{flex:1,padding:"12px 16px",borderRadius:10,border:"none",background:f?"#9ca3af":"#059669",color:"#fff",fontSize:15,fontWeight:700,cursor:f?"not-allowed":"pointer"},children:f?"Guardando...":"Guardar"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:20},children:[l.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:16,fontWeight:700,color:"#374151"},children:"Informacin Personal"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:13,color:"#6b7280",fontWeight:600},children:"Nombre"}),l.jsx("p",{style:{margin:"4px 0 0 0",fontSize:15,color:"#0f172a"},children:t.nombre})]}),l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:13,color:"#6b7280",fontWeight:600},children:"Telfono"}),l.jsx("p",{style:{margin:"4px 0 0 0",fontSize:15,color:"#0f172a"},children:t.telefono||"No especificado"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:13,color:"#6b7280",fontWeight:600},children:"Direccin"}),l.jsx("p",{style:{margin:"4px 0 0 0",fontSize:15,color:"#0f172a"},children:t.direccion||"No especificada"})]})]})]}),l.jsx("button",{onClick:()=>h(!0),style:{width:"100%",padding:"12px 16px",borderRadius:10,border:"none",background:"#4f46e5",color:"#fff",fontSize:15,fontWeight:700,cursor:"pointer",marginBottom:12},children:"Editar informacin"})]})]}),l.jsx("button",{onClick:A,style:{width:"100%",padding:"12px 16px",borderRadius:10,border:"none",background:"#dc2626",color:"#fff",fontSize:15,fontWeight:700,cursor:"pointer"},children:"Cerrar sesin"})]})]}):null}const Eg=T.createContext({});function Ng(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const Cg=typeof window<"u",tw=Cg?T.useLayoutEffect:T.useEffect,jh=T.createContext(null);function Ag(e,t){e.indexOf(t)===-1&&e.push(t)}function Rg(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const Ar=(e,t,i)=>i>t?t:i<e?e:i;let Og=()=>{};const Rr={},nw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function iw(e){return typeof e=="object"&&e!==null}const rw=e=>/^0[^.\s]+$/u.test(e);function kg(e){let t;return()=>(t===void 0&&(t=e()),t)}const ai=e=>e,Y6=(e,t)=>i=>t(e(i)),Yc=(...e)=>e.reduce(Y6),zc=(e,t,i)=>{const s=t-e;return s===0?1:(i-e)/s};class Lg{constructor(){this.subscriptions=[]}add(t){return Ag(this.subscriptions,t),()=>Rg(this.subscriptions,t)}notify(t,i,s){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](t,i,s);else for(let h=0;h<c;h++){const f=this.subscriptions[h];f&&f(t,i,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gi=e=>e*1e3,si=e=>e/1e3;function sw(e,t){return t?e*(1e3/t):0}const aw=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,X6=1e-7,J6=12;function Q6(e,t,i,s,c){let h,f,p=0;do f=t+(i-t)/2,h=aw(f,s,c)-e,h>0?i=f:t=f;while(Math.abs(h)>X6&&++p<J6);return f}function Xc(e,t,i,s){if(e===t&&i===s)return ai;const c=h=>Q6(h,0,1,e,i);return h=>h===0||h===1?h:aw(c(h),t,s)}const ow=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lw=e=>t=>1-e(1-t),cw=Xc(.33,1.53,.69,.99),Pg=lw(cw),uw=ow(Pg),dw=e=>(e*=2)<1?.5*Pg(e):.5*(2-Math.pow(2,-10*(e-1))),Mg=e=>1-Math.sin(Math.acos(e)),hw=lw(Mg),fw=ow(Mg),eA=Xc(.42,0,1,1),tA=Xc(0,0,.58,1),mw=Xc(.42,0,.58,1),nA=e=>Array.isArray(e)&&typeof e[0]!="number",pw=e=>Array.isArray(e)&&typeof e[0]=="number",iA={linear:ai,easeIn:eA,easeInOut:mw,easeOut:tA,circIn:Mg,circInOut:fw,circOut:hw,backIn:Pg,backInOut:uw,backOut:cw,anticipate:dw},rA=e=>typeof e=="string",ub=e=>{if(pw(e)){Og(e.length===4);const[t,i,s,c]=e;return Xc(t,i,s,c)}else if(rA(e))return iA[e];return e},Dd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function sA(e,t){let i=new Set,s=new Set,c=!1,h=!1;const f=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function g(_){f.has(_)&&(x.schedule(_),e()),_(p)}const x={schedule:(_,w=!1,E=!1)=>{const A=E&&c?i:s;return w&&f.add(_),A.has(_)||A.add(_),_},cancel:_=>{s.delete(_),f.delete(_)},process:_=>{if(p=_,c){h=!0;return}c=!0,[i,s]=[s,i],i.forEach(g),i.clear(),c=!1,h&&(h=!1,x.process(_))}};return x}const aA=40;function gw(e,t){let i=!1,s=!0;const c={delta:0,timestamp:0,isProcessing:!1},h=()=>i=!0,f=Dd.reduce((R,Z)=>(R[Z]=sA(h),R),{}),{setup:p,read:g,resolveKeyframes:x,preUpdate:_,update:w,preRender:E,render:N,postRender:A}=f,k=()=>{const R=Rr.useManualTiming?c.timestamp:performance.now();i=!1,Rr.useManualTiming||(c.delta=s?1e3/60:Math.max(Math.min(R-c.timestamp,aA),1)),c.timestamp=R,c.isProcessing=!0,p.process(c),g.process(c),x.process(c),_.process(c),w.process(c),E.process(c),N.process(c),A.process(c),c.isProcessing=!1,i&&t&&(s=!1,e(k))},P=()=>{i=!0,s=!0,c.isProcessing||e(k)};return{schedule:Dd.reduce((R,Z)=>{const F=f[Z];return R[Z]=(V,B=!1,te=!1)=>(i||P(),F.schedule(V,B,te)),R},{}),cancel:R=>{for(let Z=0;Z<Dd.length;Z++)f[Dd[Z]].cancel(R)},state:c,steps:f}}const{schedule:bt,cancel:Ts,state:an,steps:Xm}=gw(typeof requestAnimationFrame<"u"?requestAnimationFrame:ai,!0);let Hd;function oA(){Hd=void 0}const An={now:()=>(Hd===void 0&&An.set(an.isProcessing||Rr.useManualTiming?an.timestamp:performance.now()),Hd),set:e=>{Hd=e,queueMicrotask(oA)}},yw=e=>t=>typeof t=="string"&&t.startsWith(e),vw=yw("--"),lA=yw("var(--"),Dg=e=>lA(e)?cA.test(e.split("/*")[0].trim()):!1,cA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bc={...tl,transform:e=>Ar(0,1,e)},zd={...tl,default:1},Ec=e=>Math.round(e*1e5)/1e5,zg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uA(e){return e==null}const dA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bg=(e,t)=>i=>!!(typeof i=="string"&&dA.test(i)&&i.startsWith(e)||t&&!uA(i)&&Object.prototype.hasOwnProperty.call(i,t)),xw=(e,t,i)=>s=>{if(typeof s!="string")return s;const[c,h,f,p]=s.match(zg);return{[e]:parseFloat(c),[t]:parseFloat(h),[i]:parseFloat(f),alpha:p!==void 0?parseFloat(p):1}},hA=e=>Ar(0,255,e),Jm={...tl,transform:e=>Math.round(hA(e))},Aa={test:Bg("rgb","red"),parse:xw("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:s=1})=>"rgba("+Jm.transform(e)+", "+Jm.transform(t)+", "+Jm.transform(i)+", "+Ec(Bc.transform(s))+")"};function fA(e){let t="",i="",s="",c="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7),c=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),s=e.substring(3,4),c=e.substring(4,5),t+=t,i+=i,s+=s,c+=c),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(s,16),alpha:c?parseInt(c,16)/255:1}}const Mp={test:Bg("#"),parse:fA,transform:Aa.transform},Jc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),vs=Jc("deg"),Wi=Jc("%"),Oe=Jc("px"),mA=Jc("vh"),pA=Jc("vw"),db={...Wi,parse:e=>Wi.parse(e)/100,transform:e=>Wi.transform(e*100)},Vo={test:Bg("hsl","hue"),parse:xw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:s=1})=>"hsla("+Math.round(e)+", "+Wi.transform(Ec(t))+", "+Wi.transform(Ec(i))+", "+Ec(Bc.transform(s))+")"},Ht={test:e=>Aa.test(e)||Mp.test(e)||Vo.test(e),parse:e=>Aa.test(e)?Aa.parse(e):Vo.test(e)?Vo.parse(e):Mp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Aa.transform(e):Vo.transform(e),getAnimatableNone:e=>{const t=Ht.parse(e);return t.alpha=0,Ht.transform(t)}},gA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yA(e){return isNaN(e)&&typeof e=="string"&&(e.match(zg)?.length||0)+(e.match(gA)?.length||0)>0}const bw="number",_w="color",vA="var",xA="var(",hb="${}",bA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uc(e){const t=e.toString(),i=[],s={color:[],number:[],var:[]},c=[];let h=0;const p=t.replace(bA,g=>(Ht.test(g)?(s.color.push(h),c.push(_w),i.push(Ht.parse(g))):g.startsWith(xA)?(s.var.push(h),c.push(vA),i.push(g)):(s.number.push(h),c.push(bw),i.push(parseFloat(g))),++h,hb)).split(hb);return{values:i,split:p,indexes:s,types:c}}function ww(e){return Uc(e).values}function Sw(e){const{split:t,types:i}=Uc(e),s=t.length;return c=>{let h="";for(let f=0;f<s;f++)if(h+=t[f],c[f]!==void 0){const p=i[f];p===bw?h+=Ec(c[f]):p===_w?h+=Ht.transform(c[f]):h+=c[f]}return h}}const _A=e=>typeof e=="number"?0:Ht.test(e)?Ht.getAnimatableNone(e):e;function wA(e){const t=ww(e);return Sw(e)(t.map(_A))}const Es={test:yA,parse:ww,createTransformer:Sw,getAnimatableNone:wA};function Qm(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function SA({hue:e,saturation:t,lightness:i,alpha:s}){e/=360,t/=100,i/=100;let c=0,h=0,f=0;if(!t)c=h=f=i;else{const p=i<.5?i*(1+t):i+t-i*t,g=2*i-p;c=Qm(g,p,e+1/3),h=Qm(g,p,e),f=Qm(g,p,e-1/3)}return{red:Math.round(c*255),green:Math.round(h*255),blue:Math.round(f*255),alpha:s}}function Qd(e,t){return i=>i>0?t:e}const Tt=(e,t,i)=>e+(t-e)*i,ep=(e,t,i)=>{const s=e*e,c=i*(t*t-s)+s;return c<0?0:Math.sqrt(c)},jA=[Mp,Aa,Vo],TA=e=>jA.find(t=>t.test(e));function fb(e){const t=TA(e);if(!t)return!1;let i=t.parse(e);return t===Vo&&(i=SA(i)),i}const mb=(e,t)=>{const i=fb(e),s=fb(t);if(!i||!s)return Qd(e,t);const c={...i};return h=>(c.red=ep(i.red,s.red,h),c.green=ep(i.green,s.green,h),c.blue=ep(i.blue,s.blue,h),c.alpha=Tt(i.alpha,s.alpha,h),Aa.transform(c))},Dp=new Set(["none","hidden"]);function EA(e,t){return Dp.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function NA(e,t){return i=>Tt(e,t,i)}function Ug(e){return typeof e=="number"?NA:typeof e=="string"?Dg(e)?Qd:Ht.test(e)?mb:RA:Array.isArray(e)?jw:typeof e=="object"?Ht.test(e)?mb:CA:Qd}function jw(e,t){const i=[...e],s=i.length,c=e.map((h,f)=>Ug(h)(h,t[f]));return h=>{for(let f=0;f<s;f++)i[f]=c[f](h);return i}}function CA(e,t){const i={...e,...t},s={};for(const c in i)e[c]!==void 0&&t[c]!==void 0&&(s[c]=Ug(e[c])(e[c],t[c]));return c=>{for(const h in s)i[h]=s[h](c);return i}}function AA(e,t){const i=[],s={color:0,var:0,number:0};for(let c=0;c<t.values.length;c++){const h=t.types[c],f=e.indexes[h][s[h]],p=e.values[f]??0;i[c]=p,s[h]++}return i}const RA=(e,t)=>{const i=Es.createTransformer(t),s=Uc(e),c=Uc(t);return s.indexes.var.length===c.indexes.var.length&&s.indexes.color.length===c.indexes.color.length&&s.indexes.number.length>=c.indexes.number.length?Dp.has(e)&&!c.values.length||Dp.has(t)&&!s.values.length?EA(e,t):Yc(jw(AA(s,c),c.values),i):Qd(e,t)};function Tw(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?Tt(e,t,i):Ug(e)(e,t)}const OA=e=>{const t=({timestamp:i})=>e(i);return{start:(i=!0)=>bt.update(t,i),stop:()=>Ts(t),now:()=>an.isProcessing?an.timestamp:An.now()}},Ew=(e,t,i=10)=>{let s="";const c=Math.max(Math.round(t/i),2);for(let h=0;h<c;h++)s+=Math.round(e(h/(c-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},eh=2e4;function Ig(e){let t=0;const i=50;let s=e.next(t);for(;!s.done&&t<eh;)t+=i,s=e.next(t);return t>=eh?1/0:t}function kA(e,t=100,i){const s=i({...e,keyframes:[0,t]}),c=Math.min(Ig(s),eh);return{type:"keyframes",ease:h=>s.next(c*h).value/t,duration:si(c)}}const LA=5;function Nw(e,t,i){const s=Math.max(t-LA,0);return sw(i-e(s),t-s)}const kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tp=.001;function PA({duration:e=kt.duration,bounce:t=kt.bounce,velocity:i=kt.velocity,mass:s=kt.mass}){let c,h,f=1-t;f=Ar(kt.minDamping,kt.maxDamping,f),e=Ar(kt.minDuration,kt.maxDuration,si(e)),f<1?(c=x=>{const _=x*f,w=_*e,E=_-i,N=zp(x,f),A=Math.exp(-w);return tp-E/N*A},h=x=>{const w=x*f*e,E=w*i+i,N=Math.pow(f,2)*Math.pow(x,2)*e,A=Math.exp(-w),k=zp(Math.pow(x,2),f);return(-c(x)+tp>0?-1:1)*((E-N)*A)/k}):(c=x=>{const _=Math.exp(-x*e),w=(x-i)*e+1;return-tp+_*w},h=x=>{const _=Math.exp(-x*e),w=(i-x)*(e*e);return _*w});const p=5/e,g=DA(c,h,p);if(e=Gi(e),isNaN(g))return{stiffness:kt.stiffness,damping:kt.damping,duration:e};{const x=Math.pow(g,2)*s;return{stiffness:x,damping:f*2*Math.sqrt(s*x),duration:e}}}const MA=12;function DA(e,t,i){let s=i;for(let c=1;c<MA;c++)s=s-e(s)/t(s);return s}function zp(e,t){return e*Math.sqrt(1-t*t)}const zA=["duration","bounce"],BA=["stiffness","damping","mass"];function pb(e,t){return t.some(i=>e[i]!==void 0)}function UA(e){let t={velocity:kt.velocity,stiffness:kt.stiffness,damping:kt.damping,mass:kt.mass,isResolvedFromDuration:!1,...e};if(!pb(e,BA)&&pb(e,zA))if(e.visualDuration){const i=e.visualDuration,s=2*Math.PI/(i*1.2),c=s*s,h=2*Ar(.05,1,1-(e.bounce||0))*Math.sqrt(c);t={...t,mass:kt.mass,stiffness:c,damping:h}}else{const i=PA(e);t={...t,...i,mass:kt.mass},t.isResolvedFromDuration=!0}return t}function th(e=kt.visualDuration,t=kt.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:c}=i;const h=i.keyframes[0],f=i.keyframes[i.keyframes.length-1],p={done:!1,value:h},{stiffness:g,damping:x,mass:_,duration:w,velocity:E,isResolvedFromDuration:N}=UA({...i,velocity:-si(i.velocity||0)}),A=E||0,k=x/(2*Math.sqrt(g*_)),P=f-h,M=si(Math.sqrt(g/_)),D=Math.abs(P)<5;s||(s=D?kt.restSpeed.granular:kt.restSpeed.default),c||(c=D?kt.restDelta.granular:kt.restDelta.default);let R;if(k<1){const F=zp(M,k);R=V=>{const B=Math.exp(-k*M*V);return f-B*((A+k*M*P)/F*Math.sin(F*V)+P*Math.cos(F*V))}}else if(k===1)R=F=>f-Math.exp(-M*F)*(P+(A+M*P)*F);else{const F=M*Math.sqrt(k*k-1);R=V=>{const B=Math.exp(-k*M*V),te=Math.min(F*V,300);return f-B*((A+k*M*P)*Math.sinh(te)+F*P*Math.cosh(te))/F}}const Z={calculatedDuration:N&&w||null,next:F=>{const V=R(F);if(N)p.done=F>=w;else{let B=F===0?A:0;k<1&&(B=F===0?Gi(A):Nw(R,F,V));const te=Math.abs(B)<=s,me=Math.abs(f-V)<=c;p.done=te&&me}return p.value=p.done?f:V,p},toString:()=>{const F=Math.min(Ig(Z),eh),V=Ew(B=>Z.next(F*B).value,F,30);return F+"ms "+V},toTransition:()=>{}};return Z}th.applyToOptions=e=>{const t=kA(e,100,th);return e.ease=t.ease,e.duration=Gi(t.duration),e.type="keyframes",e};function Bp({keyframes:e,velocity:t=0,power:i=.8,timeConstant:s=325,bounceDamping:c=10,bounceStiffness:h=500,modifyTarget:f,min:p,max:g,restDelta:x=.5,restSpeed:_}){const w=e[0],E={done:!1,value:w},N=te=>p!==void 0&&te<p||g!==void 0&&te>g,A=te=>p===void 0?g:g===void 0||Math.abs(p-te)<Math.abs(g-te)?p:g;let k=i*t;const P=w+k,M=f===void 0?P:f(P);M!==P&&(k=M-w);const D=te=>-k*Math.exp(-te/s),R=te=>M+D(te),Z=te=>{const me=D(te),ve=R(te);E.done=Math.abs(me)<=x,E.value=E.done?M:ve};let F,V;const B=te=>{N(E.value)&&(F=te,V=th({keyframes:[E.value,A(E.value)],velocity:Nw(R,te,E.value),damping:c,stiffness:h,restDelta:x,restSpeed:_}))};return B(0),{calculatedDuration:null,next:te=>{let me=!1;return!V&&F===void 0&&(me=!0,Z(te),B(te)),F!==void 0&&te>=F?V.next(te-F):(!me&&Z(te),E)}}}function IA(e,t,i){const s=[],c=i||Rr.mix||Tw,h=e.length-1;for(let f=0;f<h;f++){let p=c(e[f],e[f+1]);if(t){const g=Array.isArray(t)?t[f]||ai:t;p=Yc(g,p)}s.push(p)}return s}function VA(e,t,{clamp:i=!0,ease:s,mixer:c}={}){const h=e.length;if(Og(h===t.length),h===1)return()=>t[0];if(h===2&&t[0]===t[1])return()=>t[1];const f=e[0]===e[1];e[0]>e[h-1]&&(e=[...e].reverse(),t=[...t].reverse());const p=IA(t,s,c),g=p.length,x=_=>{if(f&&_<e[0])return t[0];let w=0;if(g>1)for(;w<e.length-2&&!(_<e[w+1]);w++);const E=zc(e[w],e[w+1],_);return p[w](E)};return i?_=>x(Ar(e[0],e[h-1],_)):x}function HA(e,t){const i=e[e.length-1];for(let s=1;s<=t;s++){const c=zc(0,t,s);e.push(Tt(i,1,c))}}function $A(e){const t=[0];return HA(t,e.length-1),t}function qA(e,t){return e.map(i=>i*t)}function FA(e,t){return e.map(()=>t||mw).splice(0,e.length-1)}function Nc({duration:e=300,keyframes:t,times:i,ease:s="easeInOut"}){const c=nA(s)?s.map(ub):ub(s),h={done:!1,value:t[0]},f=qA(i&&i.length===t.length?i:$A(t),e),p=VA(f,t,{ease:Array.isArray(c)?c:FA(t,c)});return{calculatedDuration:e,next:g=>(h.value=p(g),h.done=g>=e,h)}}const ZA=e=>e!==null;function Vg(e,{repeat:t,repeatType:i="loop"},s,c=1){const h=e.filter(ZA),p=c<0||t&&i!=="loop"&&t%2===1?0:h.length-1;return!p||s===void 0?h[p]:s}const GA={decay:Bp,inertia:Bp,tween:Nc,keyframes:Nc,spring:th};function Cw(e){typeof e.type=="string"&&(e.type=GA[e.type])}class Hg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const WA=e=>e/100;class $g extends Hg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Cw(t);const{type:i=Nc,repeat:s=0,repeatDelay:c=0,repeatType:h,velocity:f=0}=t;let{keyframes:p}=t;const g=i||Nc;g!==Nc&&typeof p[0]!="number"&&(this.mixKeyframes=Yc(WA,Tw(p[0],p[1])),p=[0,100]);const x=g({...t,keyframes:p});h==="mirror"&&(this.mirroredGenerator=g({...t,keyframes:[...p].reverse(),velocity:-f})),x.calculatedDuration===null&&(x.calculatedDuration=Ig(x));const{calculatedDuration:_}=x;this.calculatedDuration=_,this.resolvedDuration=_+c,this.totalDuration=this.resolvedDuration*(s+1)-c,this.generator=x}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:s,totalDuration:c,mixKeyframes:h,mirroredGenerator:f,resolvedDuration:p,calculatedDuration:g}=this;if(this.startTime===null)return s.next(0);const{delay:x=0,keyframes:_,repeat:w,repeatType:E,repeatDelay:N,type:A,onUpdate:k,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const M=this.currentTime-x*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?M<0:M>c;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let R=this.currentTime,Z=s;if(w){const te=Math.min(this.currentTime,c)/p;let me=Math.floor(te),ve=te%1;!ve&&te>=1&&(ve=1),ve===1&&me--,me=Math.min(me,w+1),me%2&&(E==="reverse"?(ve=1-ve,N&&(ve-=N/p)):E==="mirror"&&(Z=f)),R=Ar(0,1,ve)*p}const F=D?{done:!1,value:_[0]}:Z.next(R);h&&(F.value=h(F.value));let{done:V}=F;!D&&g!==null&&(V=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return B&&A!==Bp&&(F.value=Vg(_,this.options,P,this.speed)),k&&k(F.value),B&&this.finish(),F}then(t,i){return this.finished.then(t,i)}get duration(){return si(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+si(t)}get time(){return si(this.currentTime)}set time(t){t=Gi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(An.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=si(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=OA,startTime:i}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=i??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function KA(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ra=e=>e*180/Math.PI,Up=e=>{const t=Ra(Math.atan2(e[1],e[0]));return Ip(t)},YA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Up,rotateZ:Up,skewX:e=>Ra(Math.atan(e[1])),skewY:e=>Ra(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ip=e=>(e=e%360,e<0&&(e+=360),e),gb=Up,yb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),vb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),XA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yb,scaleY:vb,scale:e=>(yb(e)+vb(e))/2,rotateX:e=>Ip(Ra(Math.atan2(e[6],e[5]))),rotateY:e=>Ip(Ra(Math.atan2(-e[2],e[0]))),rotateZ:gb,rotate:gb,skewX:e=>Ra(Math.atan(e[4])),skewY:e=>Ra(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Vp(e){return e.includes("scale")?1:0}function Hp(e,t){if(!e||e==="none")return Vp(t);const i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,c;if(i)s=XA,c=i;else{const p=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=YA,c=p}if(!c)return Vp(t);const h=s[t],f=c[1].split(",").map(QA);return typeof h=="function"?h(f):f[h]}const JA=(e,t)=>{const{transform:i="none"}=getComputedStyle(e);return Hp(i,t)};function QA(e){return parseFloat(e.trim())}const nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],il=new Set(nl),xb=e=>e===tl||e===Oe,e5=new Set(["x","y","z"]),t5=nl.filter(e=>!e5.has(e));function n5(e){const t=[];return t5.forEach(i=>{const s=e.getValue(i);s!==void 0&&(t.push([i,s.get()]),s.set(i.startsWith("scale")?1:0))}),t}const ka={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Hp(t,"x"),y:(e,{transform:t})=>Hp(t,"y")};ka.translateX=ka.x;ka.translateY=ka.y;const La=new Set;let $p=!1,qp=!1,Fp=!1;function Aw(){if(qp){const e=Array.from(La).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),i=new Map;t.forEach(s=>{const c=n5(s);c.length&&(i.set(s,c),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const c=i.get(s);c&&c.forEach(([h,f])=>{s.getValue(h)?.set(f)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}qp=!1,$p=!1,La.forEach(e=>e.complete(Fp)),La.clear()}function Rw(){La.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(qp=!0)})}function i5(){Fp=!0,Rw(),Aw(),Fp=!1}class qg{constructor(t,i,s,c,h,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=s,this.motionValue=c,this.element=h,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(La.add(this),$p||($p=!0,bt.read(Rw),bt.resolveKeyframes(Aw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:s,motionValue:c}=this;if(t[0]===null){const h=c?.get(),f=t[t.length-1];if(h!==void 0)t[0]=h;else if(s&&i){const p=s.readValue(i,f);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=f),c&&h===void 0&&c.set(t[0])}KA(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),La.delete(this)}cancel(){this.state==="scheduled"&&(La.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const r5=e=>e.startsWith("--");function s5(e,t,i){r5(t)?e.style.setProperty(t,i):e.style[t]=i}const a5=kg(()=>window.ScrollTimeline!==void 0),o5={};function l5(e,t){const i=kg(e);return()=>o5[t]??i()}const Ow=l5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vc=([e,t,i,s])=>`cubic-bezier(${e}, ${t}, ${i}, ${s})`,bb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vc([0,.65,.55,1]),circOut:vc([.55,0,1,.45]),backIn:vc([.31,.01,.66,-.59]),backOut:vc([.33,1.53,.69,.99])};function kw(e,t){if(e)return typeof e=="function"?Ow()?Ew(e,t):"ease-out":pw(e)?vc(e):Array.isArray(e)?e.map(i=>kw(i,t)||bb.easeOut):bb[e]}function c5(e,t,i,{delay:s=0,duration:c=300,repeat:h=0,repeatType:f="loop",ease:p="easeOut",times:g}={},x=void 0){const _={[t]:i};g&&(_.offset=g);const w=kw(p,c);Array.isArray(w)&&(_.easing=w);const E={delay:s,duration:c,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:h+1,direction:f==="reverse"?"alternate":"normal"};return x&&(E.pseudoElement=x),e.animate(_,E)}function Lw(e){return typeof e=="function"&&"applyToOptions"in e}function u5({type:e,...t}){return Lw(e)&&Ow()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class d5 extends Hg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:s,keyframes:c,pseudoElement:h,allowFlatten:f=!1,finalKeyframe:p,onComplete:g}=t;this.isPseudoElement=!!h,this.allowFlatten=f,this.options=t,Og(typeof t.type!="string");const x=u5(t);this.animation=c5(i,s,c,x,h),x.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const _=Vg(c,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(_):s5(i,s,_),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return si(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+si(t)}get time(){return si(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Gi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&a5()?(this.animation.timeline=t,ai):i(this)}}const Pw={anticipate:dw,backInOut:uw,circInOut:fw};function h5(e){return e in Pw}function f5(e){typeof e.ease=="string"&&h5(e.ease)&&(e.ease=Pw[e.ease])}const _b=10;class m5 extends d5{constructor(t){f5(t),Cw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:s,onComplete:c,element:h,...f}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const p=new $g({...f,autoplay:!1}),g=Gi(this.finishedTime??this.time);i.setWithVelocity(p.sample(g-_b).value,p.sample(g).value,_b),p.stop()}}const wb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Es.test(e)||e==="0")&&!e.startsWith("url("));function p5(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function g5(e,t,i,s){const c=e[0];if(c===null)return!1;if(t==="display"||t==="visibility")return!0;const h=e[e.length-1],f=wb(c,t),p=wb(h,t);return!f||!p?!1:p5(e)||(i==="spring"||Lw(i))&&s}function Zp(e){e.duration=0,e.type="keyframes"}const y5=new Set(["opacity","clipPath","filter","transform"]),v5=kg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function x5(e){const{motionValue:t,name:i,repeatDelay:s,repeatType:c,damping:h,type:f}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:x}=t.owner.getProps();return v5()&&i&&y5.has(i)&&(i!=="transform"||!x)&&!g&&!s&&c!=="mirror"&&h!==0&&f!=="inertia"}const b5=40;class _5 extends Hg{constructor({autoplay:t=!0,delay:i=0,type:s="keyframes",repeat:c=0,repeatDelay:h=0,repeatType:f="loop",keyframes:p,name:g,motionValue:x,element:_,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();const E={autoplay:t,delay:i,type:s,repeat:c,repeatDelay:h,repeatType:f,name:g,motionValue:x,element:_,...w},N=_?.KeyframeResolver||qg;this.keyframeResolver=new N(p,(A,k,P)=>this.onKeyframesResolved(A,k,E,!P),g,x,_),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,i,s,c){this.keyframeResolver=void 0;const{name:h,type:f,velocity:p,delay:g,isHandoff:x,onUpdate:_}=s;this.resolvedAt=An.now(),g5(t,h,f,p)||((Rr.instantAnimations||!g)&&_?.(Vg(t,s,i)),t[0]=t[t.length-1],Zp(s),s.repeat=0);const E={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>b5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...s,keyframes:t},N=!x&&x5(E)?new m5({...E,element:E.motionValue.owner.current}):new $g(E);N.finished.then(()=>this.notifyFinished()).catch(ai),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),i5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const w5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function S5(e){const t=w5.exec(e);if(!t)return[,];const[,i,s,c]=t;return[`--${i??s}`,c]}function Mw(e,t,i=1){const[s,c]=S5(e);if(!s)return;const h=window.getComputedStyle(t).getPropertyValue(s);if(h){const f=h.trim();return nw(f)?parseFloat(f):f}return Dg(c)?Mw(c,t,i+1):c}function Fg(e,t){return e?.[t]??e?.default??e}const Dw=new Set(["width","height","top","left","right","bottom",...nl]),j5={test:e=>e==="auto",parse:e=>e},zw=e=>t=>t.test(e),Bw=[tl,Oe,Wi,vs,pA,mA,j5],Sb=e=>Bw.find(zw(e));function T5(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||rw(e):!0}const E5=new Set(["brightness","contrast","saturate","opacity"]);function N5(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=i.match(zg)||[];if(!s)return e;const c=i.replace(s,"");let h=E5.has(t)?1:0;return s!==i&&(h*=100),t+"("+h+c+")"}const C5=/\b([a-z-]*)\(.*?\)/gu,Gp={...Es,getAnimatableNone:e=>{const t=e.match(C5);return t?t.map(N5).join(" "):e}},jb={...tl,transform:Math.round},A5={rotate:vs,rotateX:vs,rotateY:vs,rotateZ:vs,scale:zd,scaleX:zd,scaleY:zd,scaleZ:zd,skew:vs,skewX:vs,skewY:vs,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:Bc,originX:db,originY:db,originZ:Oe},Zg={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...A5,zIndex:jb,fillOpacity:Bc,strokeOpacity:Bc,numOctaves:jb},R5={...Zg,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:Gp,WebkitFilter:Gp},Uw=e=>R5[e];function Iw(e,t){let i=Uw(e);return i!==Gp&&(i=Es),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const O5=new Set(["auto","none","0"]);function k5(e,t,i){let s=0,c;for(;s<e.length&&!c;){const h=e[s];typeof h=="string"&&!O5.has(h)&&Uc(h).values.length&&(c=e[s]),s++}if(c&&i)for(const h of t)e[h]=Iw(i,c)}class L5 extends qg{constructor(t,i,s,c,h){super(t,i,s,c,h,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:s}=this;if(!i||!i.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let x=t[g];if(typeof x=="string"&&(x=x.trim(),Dg(x))){const _=Mw(x,i.current);_!==void 0&&(t[g]=_),g===t.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!Dw.has(s)||t.length!==2)return;const[c,h]=t,f=Sb(c),p=Sb(h);if(f!==p)if(xb(f)&&xb(p))for(let g=0;g<t.length;g++){const x=t[g];typeof x=="string"&&(t[g]=parseFloat(x))}else ka[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,s=[];for(let c=0;c<t.length;c++)(t[c]===null||T5(t[c]))&&s.push(c);s.length&&k5(t,s,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ka[s](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const c=i[i.length-1];c!==void 0&&t.getValue(s,c).jump(c,!1)}measureEndState(){const{element:t,name:i,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const c=t.getValue(i);c&&c.jump(this.measuredOrigin,!1);const h=s.length-1,f=s[h];s[h]=ka[i](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function P5(e,t,i){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const c=i?.[e]??s.querySelectorAll(e);return c?Array.from(c):[]}return Array.from(e)}const Vw=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Hw(e){return iw(e)&&"offsetHeight"in e}const Tb=30,M5=e=>!isNaN(parseFloat(e));class D5{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const c=An.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=An.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=M5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Lg);const s=this.events[t].add(i);return t==="change"?()=>{s(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,s){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Tb)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,Tb);return sw(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ko(e,t){return new D5(e,t)}const{schedule:Gg}=gw(queueMicrotask,!1),ji={x:!1,y:!1};function $w(){return ji.x||ji.y}function z5(e){return e==="x"||e==="y"?ji[e]?null:(ji[e]=!0,()=>{ji[e]=!1}):ji.x||ji.y?null:(ji.x=ji.y=!0,()=>{ji.x=ji.y=!1})}function qw(e,t){const i=P5(e),s=new AbortController,c={passive:!0,...t,signal:s.signal};return[i,c,()=>s.abort()]}function Eb(e){return!(e.pointerType==="touch"||$w())}function B5(e,t,i={}){const[s,c,h]=qw(e,i),f=p=>{if(!Eb(p))return;const{target:g}=p,x=t(g,p);if(typeof x!="function"||!g)return;const _=w=>{Eb(w)&&(x(w),g.removeEventListener("pointerleave",_))};g.addEventListener("pointerleave",_,c)};return s.forEach(p=>{p.addEventListener("pointerenter",f,c)}),h}const Fw=(e,t)=>t?e===t?!0:Fw(e,t.parentElement):!1,Wg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,U5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function I5(e){return U5.has(e.tagName)||e.tabIndex!==-1}const $d=new WeakSet;function Nb(e){return t=>{t.key==="Enter"&&e(t)}}function np(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const V5=(e,t)=>{const i=e.currentTarget;if(!i)return;const s=Nb(()=>{if($d.has(i))return;np(i,"down");const c=Nb(()=>{np(i,"up")}),h=()=>np(i,"cancel");i.addEventListener("keyup",c,t),i.addEventListener("blur",h,t)});i.addEventListener("keydown",s,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",s),t)};function Cb(e){return Wg(e)&&!$w()}function H5(e,t,i={}){const[s,c,h]=qw(e,i),f=p=>{const g=p.currentTarget;if(!Cb(p))return;$d.add(g);const x=t(g,p),_=(N,A)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",E),$d.has(g)&&$d.delete(g),Cb(N)&&typeof x=="function"&&x(N,{success:A})},w=N=>{_(N,g===window||g===document||i.useGlobalTarget||Fw(g,N.target))},E=N=>{_(N,!1)};window.addEventListener("pointerup",w,c),window.addEventListener("pointercancel",E,c)};return s.forEach(p=>{(i.useGlobalTarget?window:p).addEventListener("pointerdown",f,c),Hw(p)&&(p.addEventListener("focus",x=>V5(x,c)),!I5(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),h}function Zw(e){return iw(e)&&"ownerSVGElement"in e}function $5(e){return Zw(e)&&e.tagName==="svg"}const un=e=>!!(e&&e.getVelocity),q5=[...Bw,Ht,Es],F5=e=>q5.find(zw(e)),Kg=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Ab(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Z5(...e){return t=>{let i=!1;const s=e.map(c=>{const h=Ab(c,t);return!i&&typeof h=="function"&&(i=!0),h});if(i)return()=>{for(let c=0;c<s.length;c++){const h=s[c];typeof h=="function"?h():Ab(e[c],null)}}}}function G5(...e){return T.useCallback(Z5(...e),e)}class W5 extends T.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const s=i.offsetParent,c=Hw(s)&&s.offsetWidth||0,h=this.props.sizeRef.current;h.height=i.offsetHeight||0,h.width=i.offsetWidth||0,h.top=i.offsetTop,h.left=i.offsetLeft,h.right=c-h.width-h.left}return null}componentDidUpdate(){}render(){return this.props.children}}function K5({children:e,isPresent:t,anchorX:i,root:s}){const c=T.useId(),h=T.useRef(null),f=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=T.useContext(Kg),g=G5(h,e?.ref);return T.useInsertionEffect(()=>{const{width:x,height:_,top:w,left:E,right:N}=f.current;if(t||!h.current||!x||!_)return;const A=i==="left"?`left: ${E}`:`right: ${N}`;h.current.dataset.motionPopId=c;const k=document.createElement("style");p&&(k.nonce=p);const P=s??document.head;return P.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${_}px !important;
            ${A}px !important;
            top: ${w}px !important;
          }
        `),()=>{P.contains(k)&&P.removeChild(k)}},[t]),l.jsx(W5,{isPresent:t,childRef:h,sizeRef:f,children:T.cloneElement(e,{ref:g})})}const Y5=({children:e,initial:t,isPresent:i,onExitComplete:s,custom:c,presenceAffectsLayout:h,mode:f,anchorX:p,root:g})=>{const x=Ng(X5),_=T.useId();let w=!0,E=T.useMemo(()=>(w=!1,{id:_,initial:t,isPresent:i,custom:c,onExitComplete:N=>{x.set(N,!0);for(const A of x.values())if(!A)return;s&&s()},register:N=>(x.set(N,!1),()=>x.delete(N))}),[i,x,s]);return h&&w&&(E={...E}),T.useMemo(()=>{x.forEach((N,A)=>x.set(A,!1))},[i]),T.useEffect(()=>{!i&&!x.size&&s&&s()},[i]),f==="popLayout"&&(e=l.jsx(K5,{isPresent:i,anchorX:p,root:g,children:e})),l.jsx(jh.Provider,{value:E,children:e})};function X5(){return new Map}function Gw(e=!0){const t=T.useContext(jh);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:s,register:c}=t,h=T.useId();T.useEffect(()=>{if(e)return c(h)},[e]);const f=T.useCallback(()=>e&&s&&s(h),[h,s,e]);return!i&&s?[!1,f]:[!0]}const Bd=e=>e.key||"";function Rb(e){const t=[];return T.Children.forEach(e,i=>{T.isValidElement(i)&&t.push(i)}),t}const J5=({children:e,custom:t,initial:i=!0,onExitComplete:s,presenceAffectsLayout:c=!0,mode:h="sync",propagate:f=!1,anchorX:p="left",root:g})=>{const[x,_]=Gw(f),w=T.useMemo(()=>Rb(e),[e]),E=f&&!x?[]:w.map(Bd),N=T.useRef(!0),A=T.useRef(w),k=Ng(()=>new Map),[P,M]=T.useState(w),[D,R]=T.useState(w);tw(()=>{N.current=!1,A.current=w;for(let V=0;V<D.length;V++){const B=Bd(D[V]);E.includes(B)?k.delete(B):k.get(B)!==!0&&k.set(B,!1)}},[D,E.length,E.join("-")]);const Z=[];if(w!==P){let V=[...w];for(let B=0;B<D.length;B++){const te=D[B],me=Bd(te);E.includes(me)||(V.splice(B,0,te),Z.push(te))}return h==="wait"&&Z.length&&(V=Z),R(Rb(V)),M(w),null}const{forceRender:F}=T.useContext(Eg);return l.jsx(l.Fragment,{children:D.map(V=>{const B=Bd(V),te=f&&!x?!1:w===D||E.includes(B),me=()=>{if(k.has(B))k.set(B,!0);else return;let ve=!0;k.forEach(Te=>{Te||(ve=!1)}),ve&&(F?.(),R(A.current),f&&_?.(),s&&s())};return l.jsx(Y5,{isPresent:te,initial:!N.current||i?void 0:!1,custom:t,presenceAffectsLayout:c,mode:h,root:g,onExitComplete:te?void 0:me,anchorX:p,children:V},B)})})},Ww=T.createContext({strict:!1}),Ob={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yo={};for(const e in Ob)Yo[e]={isEnabled:t=>Ob[e].some(i=>!!t[i])};function Q5(e){for(const t in e)Yo[t]={...Yo[t],...e[t]}}const eR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||eR.has(e)}let Kw=e=>!nh(e);function tR(e){typeof e=="function"&&(Kw=t=>t.startsWith("on")?!nh(t):e(t))}try{tR(require("@emotion/is-prop-valid").default)}catch{}function nR(e,t,i){const s={};for(const c in e)c==="values"&&typeof e.values=="object"||(Kw(c)||i===!0&&nh(c)||!t&&!nh(c)||e.draggable&&c.startsWith("onDrag"))&&(s[c]=e[c]);return s}const Th=T.createContext({});function Eh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ic(e){return typeof e=="string"||Array.isArray(e)}const Yg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xg=["initial",...Yg];function Nh(e){return Eh(e.animate)||Xg.some(t=>Ic(e[t]))}function Yw(e){return!!(Nh(e)||e.variants)}function iR(e,t){if(Nh(e)){const{initial:i,animate:s}=e;return{initial:i===!1||Ic(i)?i:void 0,animate:Ic(s)?s:void 0}}return e.inherit!==!1?t:{}}function rR(e){const{initial:t,animate:i}=iR(e,T.useContext(Th));return T.useMemo(()=>({initial:t,animate:i}),[kb(t),kb(i)])}function kb(e){return Array.isArray(e)?e.join(" "):e}function Lb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Oe.test(e))e=parseFloat(e);else return e;const i=Lb(e,t.target.x),s=Lb(e,t.target.y);return`${i}% ${s}%`}},sR={correct:(e,{treeScale:t,projectionDelta:i})=>{const s=e,c=Es.parse(e);if(c.length>5)return s;const h=Es.createTransformer(e),f=typeof c[0]!="number"?1:0,p=i.x.scale*t.x,g=i.y.scale*t.y;c[0+f]/=p,c[1+f]/=g;const x=Tt(p,g,.5);return typeof c[2+f]=="number"&&(c[2+f]/=x),typeof c[3+f]=="number"&&(c[3+f]/=x),h(c)}},Wp={borderRadius:{...fc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fc,borderTopRightRadius:fc,borderBottomLeftRadius:fc,borderBottomRightRadius:fc,boxShadow:sR};function Xw(e,{layout:t,layoutId:i}){return il.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!Wp[e]||e==="opacity")}const aR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oR=nl.length;function lR(e,t,i){let s="",c=!0;for(let h=0;h<oR;h++){const f=nl[h],p=e[f];if(p===void 0)continue;let g=!0;if(typeof p=="number"?g=p===(f.startsWith("scale")?1:0):g=parseFloat(p)===0,!g||i){const x=Vw(p,Zg[f]);if(!g){c=!1;const _=aR[f]||f;s+=`${_}(${x}) `}i&&(t[f]=x)}}return s=s.trim(),i?s=i(t,c?"":s):c&&(s="none"),s}function Jg(e,t,i){const{style:s,vars:c,transformOrigin:h}=e;let f=!1,p=!1;for(const g in t){const x=t[g];if(il.has(g)){f=!0;continue}else if(vw(g)){c[g]=x;continue}else{const _=Vw(x,Zg[g]);g.startsWith("origin")?(p=!0,h[g]=_):s[g]=_}}if(t.transform||(f||i?s.transform=lR(t,e.transform,i):s.transform&&(s.transform="none")),p){const{originX:g="50%",originY:x="50%",originZ:_=0}=h;s.transformOrigin=`${g} ${x} ${_}`}}const Qg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jw(e,t,i){for(const s in t)!un(t[s])&&!Xw(s,i)&&(e[s]=t[s])}function cR({transformTemplate:e},t){return T.useMemo(()=>{const i=Qg();return Jg(i,t,e),Object.assign({},i.vars,i.style)},[t])}function uR(e,t){const i=e.style||{},s={};return Jw(s,i,e),Object.assign(s,cR(e,t)),s}function dR(e,t){const i={},s=uR(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=s,i}const hR={offset:"stroke-dashoffset",array:"stroke-dasharray"},fR={offset:"strokeDashoffset",array:"strokeDasharray"};function mR(e,t,i=1,s=0,c=!0){e.pathLength=1;const h=c?hR:fR;e[h.offset]=Oe.transform(-s);const f=Oe.transform(t),p=Oe.transform(i);e[h.array]=`${f} ${p}`}function Qw(e,{attrX:t,attrY:i,attrScale:s,pathLength:c,pathSpacing:h=1,pathOffset:f=0,...p},g,x,_){if(Jg(e,p,x),g){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:w,style:E}=e;w.transform&&(E.transform=w.transform,delete w.transform),(E.transform||w.transformOrigin)&&(E.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),E.transform&&(E.transformBox=_?.transformBox??"fill-box",delete w.transformBox),t!==void 0&&(w.x=t),i!==void 0&&(w.y=i),s!==void 0&&(w.scale=s),c!==void 0&&mR(w,c,h,f,!1)}const e2=()=>({...Qg(),attrs:{}}),t2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function pR(e,t,i,s){const c=T.useMemo(()=>{const h=e2();return Qw(h,t,t2(s),e.transformTemplate,e.style),{...h.attrs,style:{...h.style}}},[t]);if(e.style){const h={};Jw(h,e.style,e),c.style={...h,...c.style}}return c}const gR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function e0(e){return typeof e!="string"||e.includes("-")?!1:!!(gR.indexOf(e)>-1||/[A-Z]/u.test(e))}function yR(e,t,i,{latestValues:s},c,h=!1){const p=(e0(e)?pR:dR)(t,s,c,e),g=nR(t,typeof e=="string",h),x=e!==T.Fragment?{...g,...p,ref:i}:{},{children:_}=t,w=T.useMemo(()=>un(_)?_.get():_,[_]);return T.createElement(e,{...x,children:w})}function Pb(e){const t=[{},{}];return e?.values.forEach((i,s)=>{t[0][s]=i.get(),t[1][s]=i.getVelocity()}),t}function t0(e,t,i,s){if(typeof t=="function"){const[c,h]=Pb(s);t=t(i!==void 0?i:e.custom,c,h)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[c,h]=Pb(s);t=t(i!==void 0?i:e.custom,c,h)}return t}function qd(e){return un(e)?e.get():e}function vR({scrapeMotionValuesFromProps:e,createRenderState:t},i,s,c){return{latestValues:xR(i,s,c,e),renderState:t()}}function xR(e,t,i,s){const c={},h=s(e,{});for(const E in h)c[E]=qd(h[E]);let{initial:f,animate:p}=e;const g=Nh(e),x=Yw(e);t&&x&&!g&&e.inherit!==!1&&(f===void 0&&(f=t.initial),p===void 0&&(p=t.animate));let _=i?i.initial===!1:!1;_=_||f===!1;const w=_?p:f;if(w&&typeof w!="boolean"&&!Eh(w)){const E=Array.isArray(w)?w:[w];for(let N=0;N<E.length;N++){const A=t0(e,E[N]);if(A){const{transitionEnd:k,transition:P,...M}=A;for(const D in M){let R=M[D];if(Array.isArray(R)){const Z=_?R.length-1:0;R=R[Z]}R!==null&&(c[D]=R)}for(const D in k)c[D]=k[D]}}}return c}const n2=e=>(t,i)=>{const s=T.useContext(Th),c=T.useContext(jh),h=()=>vR(e,t,s,c);return i?h():Ng(h)};function n0(e,t,i){const{style:s}=e,c={};for(const h in s)(un(s[h])||t.style&&un(t.style[h])||Xw(h,e)||i?.getValue(h)?.liveStyle!==void 0)&&(c[h]=s[h]);return c}const bR=n2({scrapeMotionValuesFromProps:n0,createRenderState:Qg});function i2(e,t,i){const s=n0(e,t,i);for(const c in e)if(un(e[c])||un(t[c])){const h=nl.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;s[h]=e[c]}return s}const _R=n2({scrapeMotionValuesFromProps:i2,createRenderState:e2}),wR=Symbol.for("motionComponentSymbol");function Ho(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function SR(e,t,i){return T.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),i&&(typeof i=="function"?i(s):Ho(i)&&(i.current=s))},[t])}const i0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jR="framerAppearId",r2="data-"+i0(jR),s2=T.createContext({});function TR(e,t,i,s,c){const{visualElement:h}=T.useContext(Th),f=T.useContext(Ww),p=T.useContext(jh),g=T.useContext(Kg).reducedMotion,x=T.useRef(null);s=s||f.renderer,!x.current&&s&&(x.current=s(e,{visualState:t,parent:h,props:i,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const _=x.current,w=T.useContext(s2);_&&!_.projection&&c&&(_.type==="html"||_.type==="svg")&&ER(x.current,i,c,w);const E=T.useRef(!1);T.useInsertionEffect(()=>{_&&E.current&&_.update(i,p)});const N=i[r2],A=T.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return tw(()=>{_&&(E.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),A.current&&_.animationState&&_.animationState.animateChanges())}),T.useEffect(()=>{_&&(!A.current&&_.animationState&&_.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),A.current=!1),_.enteringChildren=void 0)}),_}function ER(e,t,i,s){const{layoutId:c,layout:h,drag:f,dragConstraints:p,layoutScroll:g,layoutRoot:x,layoutCrossfade:_}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:a2(e.parent)),e.projection.setOptions({layoutId:c,layout:h,alwaysMeasureLayout:!!f||p&&Ho(p),visualElement:e,animationType:typeof h=="string"?h:"both",initialPromotionConfig:s,crossfade:_,layoutScroll:g,layoutRoot:x})}function a2(e){if(e)return e.options.allowProjection!==!1?e.projection:a2(e.parent)}function ip(e,{forwardMotionProps:t=!1}={},i,s){i&&Q5(i);const c=e0(e)?_R:bR;function h(p,g){let x;const _={...T.useContext(Kg),...p,layoutId:NR(p)},{isStatic:w}=_,E=rR(p),N=c(p,w);if(!w&&Cg){CR();const A=AR(_);x=A.MeasureLayout,E.visualElement=TR(e,N,_,s,A.ProjectionNode)}return l.jsxs(Th.Provider,{value:E,children:[x&&E.visualElement?l.jsx(x,{visualElement:E.visualElement,..._}):null,yR(e,p,SR(N,E.visualElement,g),N,w,t)]})}h.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const f=T.forwardRef(h);return f[wR]=e,f}function NR({layoutId:e}){const t=T.useContext(Eg).id;return t&&e!==void 0?t+"-"+e:e}function CR(e,t){T.useContext(Ww).strict}function AR(e){const{drag:t,layout:i}=Yo;if(!t&&!i)return{};const s={...t,...i};return{MeasureLayout:t?.isEnabled(e)||i?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function RR(e,t){if(typeof Proxy>"u")return ip;const i=new Map,s=(h,f)=>ip(h,f,e,t),c=(h,f)=>s(h,f);return new Proxy(c,{get:(h,f)=>f==="create"?s:(i.has(f)||i.set(f,ip(f,void 0,e,t)),i.get(f))})}function o2({top:e,left:t,right:i,bottom:s}){return{x:{min:t,max:i},y:{min:e,max:s}}}function OR({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kR(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:s.y,right:s.x}}function rp(e){return e===void 0||e===1}function Kp({scale:e,scaleX:t,scaleY:i}){return!rp(e)||!rp(t)||!rp(i)}function Sa(e){return Kp(e)||l2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function l2(e){return Mb(e.x)||Mb(e.y)}function Mb(e){return e&&e!=="0%"}function ih(e,t,i){const s=e-i,c=t*s;return i+c}function Db(e,t,i,s,c){return c!==void 0&&(e=ih(e,c,s)),ih(e,i,s)+t}function Yp(e,t=0,i=1,s,c){e.min=Db(e.min,t,i,s,c),e.max=Db(e.max,t,i,s,c)}function c2(e,{x:t,y:i}){Yp(e.x,t.translate,t.scale,t.originPoint),Yp(e.y,i.translate,i.scale,i.originPoint)}const zb=.999999999999,Bb=1.0000000000001;function LR(e,t,i,s=!1){const c=i.length;if(!c)return;t.x=t.y=1;let h,f;for(let p=0;p<c;p++){h=i[p],f=h.projectionDelta;const{visualElement:g}=h.options;g&&g.props.style&&g.props.style.display==="contents"||(s&&h.options.layoutScroll&&h.scroll&&h!==h.root&&qo(e,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,c2(e,f)),s&&Sa(h.latestValues)&&qo(e,h.latestValues))}t.x<Bb&&t.x>zb&&(t.x=1),t.y<Bb&&t.y>zb&&(t.y=1)}function $o(e,t){e.min=e.min+t,e.max=e.max+t}function Ub(e,t,i,s,c=.5){const h=Tt(e.min,e.max,c);Yp(e,t,i,h,s)}function qo(e,t){Ub(e.x,t.x,t.scaleX,t.scale,t.originX),Ub(e.y,t.y,t.scaleY,t.scale,t.originY)}function u2(e,t){return o2(kR(e.getBoundingClientRect(),t))}function PR(e,t,i){const s=u2(e,i),{scroll:c}=t;return c&&($o(s.x,c.offset.x),$o(s.y,c.offset.y)),s}const Ib=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fo=()=>({x:Ib(),y:Ib()}),Vb=()=>({min:0,max:0}),Gt=()=>({x:Vb(),y:Vb()}),Xp={current:null},d2={current:!1};function MR(){if(d2.current=!0,!!Cg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xp.current=e.matches;e.addEventListener("change",t),t()}else Xp.current=!1}const DR=new WeakMap;function zR(e,t,i){for(const s in t){const c=t[s],h=i[s];if(un(c))e.addValue(s,c);else if(un(h))e.addValue(s,Ko(c,{owner:e}));else if(h!==c)if(e.hasValue(s)){const f=e.getValue(s);f.liveStyle===!0?f.jump(c):f.hasAnimated||f.set(c)}else{const f=e.getStaticValue(s);e.addValue(s,Ko(f!==void 0?f:c,{owner:e}))}}for(const s in i)t[s]===void 0&&e.removeValue(s);return t}const Hb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class BR{scrapeMotionValuesFromProps(t,i,s){return{}}constructor({parent:t,props:i,presenceContext:s,reducedMotionConfig:c,blockInitialAnimation:h,visualState:f},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=An.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,bt.render(this.render,!1,!0))};const{latestValues:g,renderState:x}=f;this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=x,this.parent=t,this.props=i,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=c,this.options=p,this.blockInitialAnimation=!!h,this.isControllingVariants=Nh(i),this.isVariantNode=Yw(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...w}=this.scrapeMotionValuesFromProps(i,{},this);for(const E in w){const N=w[E];g[E]!==void 0&&un(N)&&N.set(g[E])}}mount(t){this.current=t,DR.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),d2.current||MR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ts(this.notifyUpdate),Ts(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=il.has(t);s&&this.onBindTransform&&this.onBindTransform();const c=i.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&bt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{c(),h&&h(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Yo){const i=Yo[t];if(!i)continue;const{isEnabled:s,Feature:c}=i;if(!this.features[t]&&c&&s(this.props)&&(this.features[t]=new c(this)),this.features[t]){const h=this.features[t];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let s=0;s<Hb.length;s++){const c=Hb[s];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const h="on"+c,f=t[h];f&&(this.propEventSubscriptions[c]=this.on(c,f))}this.prevMotionValues=zR(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const s=this.values.get(t);i!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&i!==void 0&&(s=Ko(i===null?void 0:i,{owner:this}),this.addValue(t,s)),s}readValue(t,i){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(nw(s)||rw(s))?s=parseFloat(s):!F5(s)&&Es.test(i)&&(s=Iw(t,i)),this.setBaseTarget(t,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const h=t0(this.props,i,this.presenceContext?.custom);h&&(s=h[t])}if(i&&s!==void 0)return s;const c=this.getBaseTargetFromProps(this.props,t);return c!==void 0&&!un(c)?c:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Lg),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){Gg.render(this.render)}}class h2 extends BR{constructor(){super(...arguments),this.KeyframeResolver=L5}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:s}){delete i[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function f2(e,{style:t,vars:i},s,c){const h=e.style;let f;for(f in t)h[f]=t[f];c?.applyProjectionStyles(h,s);for(f in i)h.setProperty(f,i[f])}function UR(e){return window.getComputedStyle(e)}class IR extends h2{constructor(){super(...arguments),this.type="html",this.renderInstance=f2}readValueFromInstance(t,i){if(il.has(i))return this.projection?.isProjecting?Vp(i):JA(t,i);{const s=UR(t),c=(vw(i)?s.getPropertyValue(i):s[i])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(t,{transformPagePoint:i}){return u2(t,i)}build(t,i,s){Jg(t,i,s.transformTemplate)}scrapeMotionValuesFromProps(t,i,s){return n0(t,i,s)}}const m2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VR(e,t,i,s){f2(e,t,void 0,s);for(const c in t.attrs)e.setAttribute(m2.has(c)?c:i0(c),t.attrs[c])}class HR extends h2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(il.has(i)){const s=Uw(i);return s&&s.default||0}return i=m2.has(i)?i:i0(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,s){return i2(t,i,s)}build(t,i,s){Qw(t,i,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,i,s,c){VR(t,i,s,c)}mount(t){this.isSVGTag=t2(t.tagName),super.mount(t)}}const $R=(e,t)=>e0(e)?new HR(t):new IR(t,{allowProjection:e!==T.Fragment});function Wo(e,t,i){const s=e.getProps();return t0(s,t,i!==void 0?i:s.custom,e)}const Jp=e=>Array.isArray(e);function qR(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,Ko(i))}function FR(e){return Jp(e)?e[e.length-1]||0:e}function ZR(e,t){const i=Wo(e,t);let{transitionEnd:s={},transition:c={},...h}=i||{};h={...h,...s};for(const f in h){const p=FR(h[f]);qR(e,f,p)}}function GR(e){return!!(un(e)&&e.add)}function Qp(e,t){const i=e.getValue("willChange");if(GR(i))return i.add(t);if(!i&&Rr.WillChange){const s=new Rr.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function p2(e){return e.props[r2]}const WR=e=>e!==null;function KR(e,{repeat:t,repeatType:i="loop"},s){const c=e.filter(WR),h=t&&i!=="loop"&&t%2===1?0:c.length-1;return c[h]}const YR={type:"spring",stiffness:500,damping:25,restSpeed:10},XR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),JR={type:"keyframes",duration:.8},QR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},e8=(e,{keyframes:t})=>t.length>2?JR:il.has(e)?e.startsWith("scale")?XR(t[1]):YR:QR;function t8({when:e,delay:t,delayChildren:i,staggerChildren:s,staggerDirection:c,repeat:h,repeatType:f,repeatDelay:p,from:g,elapsed:x,..._}){return!!Object.keys(_).length}const r0=(e,t,i,s={},c,h)=>f=>{const p=Fg(s,e)||{},g=p.delay||s.delay||0;let{elapsed:x=0}=s;x=x-Gi(g);const _={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...p,delay:-x,onUpdate:E=>{t.set(E),p.onUpdate&&p.onUpdate(E)},onComplete:()=>{f(),p.onComplete&&p.onComplete()},name:e,motionValue:t,element:h?void 0:c};t8(p)||Object.assign(_,e8(e,_)),_.duration&&(_.duration=Gi(_.duration)),_.repeatDelay&&(_.repeatDelay=Gi(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let w=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(Zp(_),_.delay===0&&(w=!0)),(Rr.instantAnimations||Rr.skipAnimations)&&(w=!0,Zp(_),_.delay=0),_.allowFlatten=!p.type&&!p.ease,w&&!h&&t.get()!==void 0){const E=KR(_.keyframes,p);if(E!==void 0){bt.update(()=>{_.onUpdate(E),_.onComplete()});return}}return p.isSync?new $g(_):new _5(_)};function n8({protectedKeys:e,needsAnimating:t},i){const s=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,s}function g2(e,t,{delay:i=0,transitionOverride:s,type:c}={}){let{transition:h=e.getDefaultTransition(),transitionEnd:f,...p}=t;s&&(h=s);const g=[],x=c&&e.animationState&&e.animationState.getState()[c];for(const _ in p){const w=e.getValue(_,e.latestValues[_]??null),E=p[_];if(E===void 0||x&&n8(x,_))continue;const N={delay:i,...Fg(h||{},_)},A=w.get();if(A!==void 0&&!w.isAnimating&&!Array.isArray(E)&&E===A&&!N.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const M=p2(e);if(M){const D=window.MotionHandoffAnimation(M,_,bt);D!==null&&(N.startTime=D,k=!0)}}Qp(e,_),w.start(r0(_,w,E,e.shouldReduceMotion&&Dw.has(_)?{type:!1}:N,e,k));const P=w.animation;P&&g.push(P)}return f&&Promise.all(g).then(()=>{bt.update(()=>{f&&ZR(e,f)})}),g}function y2(e,t,i,s=0,c=1){const h=Array.from(e).sort((x,_)=>x.sortNodePosition(_)).indexOf(t),f=e.size,p=(f-1)*s;return typeof i=="function"?i(h,f):c===1?h*s:p-h*s}function eg(e,t,i={}){const s=Wo(e,t,i.type==="exit"?e.presenceContext?.custom:void 0);let{transition:c=e.getDefaultTransition()||{}}=s||{};i.transitionOverride&&(c=i.transitionOverride);const h=s?()=>Promise.all(g2(e,s,i)):()=>Promise.resolve(),f=e.variantChildren&&e.variantChildren.size?(g=0)=>{const{delayChildren:x=0,staggerChildren:_,staggerDirection:w}=c;return i8(e,t,g,x,_,w,i)}:()=>Promise.resolve(),{when:p}=c;if(p){const[g,x]=p==="beforeChildren"?[h,f]:[f,h];return g().then(()=>x())}else return Promise.all([h(),f(i.delay)])}function i8(e,t,i=0,s=0,c=0,h=1,f){const p=[];for(const g of e.variantChildren)g.notify("AnimationStart",t),p.push(eg(g,t,{...f,delay:i+(typeof s=="function"?0:s)+y2(e.variantChildren,g,s,c,h)}).then(()=>g.notify("AnimationComplete",t)));return Promise.all(p)}function r8(e,t,i={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const c=t.map(h=>eg(e,h,i));s=Promise.all(c)}else if(typeof t=="string")s=eg(e,t,i);else{const c=typeof t=="function"?Wo(e,t,i.custom):t;s=Promise.all(g2(e,c,i))}return s.then(()=>{e.notify("AnimationComplete",t)})}function v2(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let s=0;s<i;s++)if(t[s]!==e[s])return!1;return!0}const s8=Xg.length;function x2(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?x2(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<s8;i++){const s=Xg[i],c=e.props[s];(Ic(c)||c===!1)&&(t[s]=c)}return t}const a8=[...Yg].reverse(),o8=Yg.length;function l8(e){return t=>Promise.all(t.map(({animation:i,options:s})=>r8(e,i,s)))}function c8(e){let t=l8(e),i=$b(),s=!0;const c=g=>(x,_)=>{const w=Wo(e,_,g==="exit"?e.presenceContext?.custom:void 0);if(w){const{transition:E,transitionEnd:N,...A}=w;x={...x,...A,...N}}return x};function h(g){t=g(e)}function f(g){const{props:x}=e,_=x2(e.parent)||{},w=[],E=new Set;let N={},A=1/0;for(let P=0;P<o8;P++){const M=a8[P],D=i[M],R=x[M]!==void 0?x[M]:_[M],Z=Ic(R),F=M===g?D.isActive:null;F===!1&&(A=P);let V=R===_[M]&&R!==x[M]&&Z;if(V&&s&&e.manuallyAnimateOnMount&&(V=!1),D.protectedKeys={...N},!D.isActive&&F===null||!R&&!D.prevProp||Eh(R)||typeof R=="boolean")continue;const B=u8(D.prevProp,R);let te=B||M===g&&D.isActive&&!V&&Z||P>A&&Z,me=!1;const ve=Array.isArray(R)?R:[R];let Te=ve.reduce(c(M),{});F===!1&&(Te={});const{prevResolvedValues:Ne={}}=D,it={...Ne,...Te},Fe=oe=>{te=!0,E.has(oe)&&(me=!0,E.delete(oe)),D.needsAnimating[oe]=!0;const ne=e.getValue(oe);ne&&(ne.liveStyle=!1)};for(const oe in it){const ne=Te[oe],le=Ne[oe];if(N.hasOwnProperty(oe))continue;let ce=!1;Jp(ne)&&Jp(le)?ce=!v2(ne,le):ce=ne!==le,ce?ne!=null?Fe(oe):E.add(oe):ne!==void 0&&E.has(oe)?Fe(oe):D.protectedKeys[oe]=!0}D.prevProp=R,D.prevResolvedValues=Te,D.isActive&&(N={...N,...Te}),s&&e.blockInitialAnimation&&(te=!1);const ht=V&&B;te&&(!ht||me)&&w.push(...ve.map(oe=>{const ne={type:M};if(typeof oe=="string"&&s&&!ht&&e.manuallyAnimateOnMount&&e.parent){const{parent:le}=e,ce=Wo(le,oe);if(le.enteringChildren&&ce){const{delayChildren:U}=ce.transition||{};ne.delay=y2(le.enteringChildren,e,U)}}return{animation:oe,options:ne}}))}if(E.size){const P={};if(typeof x.initial!="boolean"){const M=Wo(e,Array.isArray(x.initial)?x.initial[0]:x.initial);M&&M.transition&&(P.transition=M.transition)}E.forEach(M=>{const D=e.getBaseTarget(M),R=e.getValue(M);R&&(R.liveStyle=!0),P[M]=D??null}),w.push({animation:P})}let k=!!w.length;return s&&(x.initial===!1||x.initial===x.animate)&&!e.manuallyAnimateOnMount&&(k=!1),s=!1,k?t(w):Promise.resolve()}function p(g,x){if(i[g].isActive===x)return Promise.resolve();e.variantChildren?.forEach(w=>w.animationState?.setActive(g,x)),i[g].isActive=x;const _=f(g);for(const w in i)i[w].protectedKeys={};return _}return{animateChanges:f,setActive:p,setAnimateFunction:h,getState:()=>i,reset:()=>{i=$b()}}}function u8(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!v2(t,e):!1}function ba(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $b(){return{animate:ba(!0),whileInView:ba(),whileHover:ba(),whileTap:ba(),whileDrag:ba(),whileFocus:ba(),exit:ba()}}class Cs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class d8 extends Cs{constructor(t){super(t),t.animationState||(t.animationState=c8(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Eh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let h8=0;class f8 extends Cs{constructor(){super(...arguments),this.id=h8++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const c=this.node.animationState.setActive("exit",!t);i&&!t&&c.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const m8={animation:{Feature:d8},exit:{Feature:f8}};function Vc(e,t,i,s={passive:!0}){return e.addEventListener(t,i,s),()=>e.removeEventListener(t,i)}function Qc(e){return{point:{x:e.pageX,y:e.pageY}}}const p8=e=>t=>Wg(t)&&e(t,Qc(t));function Cc(e,t,i,s){return Vc(e,t,p8(i),s)}const b2=1e-4,g8=1-b2,y8=1+b2,_2=.01,v8=0-_2,x8=0+_2;function gn(e){return e.max-e.min}function b8(e,t,i){return Math.abs(e-t)<=i}function qb(e,t,i,s=.5){e.origin=s,e.originPoint=Tt(t.min,t.max,e.origin),e.scale=gn(i)/gn(t),e.translate=Tt(i.min,i.max,e.origin)-e.originPoint,(e.scale>=g8&&e.scale<=y8||isNaN(e.scale))&&(e.scale=1),(e.translate>=v8&&e.translate<=x8||isNaN(e.translate))&&(e.translate=0)}function Ac(e,t,i,s){qb(e.x,t.x,i.x,s?s.originX:void 0),qb(e.y,t.y,i.y,s?s.originY:void 0)}function Fb(e,t,i){e.min=i.min+t.min,e.max=e.min+gn(t)}function _8(e,t,i){Fb(e.x,t.x,i.x),Fb(e.y,t.y,i.y)}function Zb(e,t,i){e.min=t.min-i.min,e.max=e.min+gn(t)}function rh(e,t,i){Zb(e.x,t.x,i.x),Zb(e.y,t.y,i.y)}function ri(e){return[e("x"),e("y")]}const w2=({current:e})=>e?e.ownerDocument.defaultView:null,Gb=(e,t)=>Math.abs(e-t);function w8(e,t){const i=Gb(e.x,t.x),s=Gb(e.y,t.y);return Math.sqrt(i**2+s**2)}class S2{constructor(t,i,{transformPagePoint:s,contextWindow:c=window,dragSnapToOrigin:h=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=ap(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,A=w8(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!A)return;const{point:k}=E,{timestamp:P}=an;this.history.push({...k,timestamp:P});const{onStart:M,onMove:D}=this.handlers;N||(M&&M(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,E)},this.handlePointerMove=(E,N)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=sp(N,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(E,N)=>{this.end();const{onEnd:A,onSessionEnd:k,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=ap(E.type==="pointercancel"?this.lastMoveEventInfo:sp(N,this.transformPagePoint),this.history);this.startEvent&&A&&A(E,M),k&&k(E,M)},!Wg(t))return;this.dragSnapToOrigin=h,this.handlers=i,this.transformPagePoint=s,this.distanceThreshold=f,this.contextWindow=c||window;const p=Qc(t),g=sp(p,this.transformPagePoint),{point:x}=g,{timestamp:_}=an;this.history=[{...x,timestamp:_}];const{onSessionStart:w}=i;w&&w(t,ap(g,this.history)),this.removeListeners=Yc(Cc(this.contextWindow,"pointermove",this.handlePointerMove),Cc(this.contextWindow,"pointerup",this.handlePointerUp),Cc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ts(this.updatePoint)}}function sp(e,t){return t?{point:t(e.point)}:e}function Wb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ap({point:e},t){return{point:e,delta:Wb(e,j2(t)),offset:Wb(e,S8(t)),velocity:j8(t,.1)}}function S8(e){return e[0]}function j2(e){return e[e.length-1]}function j8(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,s=null;const c=j2(e);for(;i>=0&&(s=e[i],!(c.timestamp-s.timestamp>Gi(t)));)i--;if(!s)return{x:0,y:0};const h=si(c.timestamp-s.timestamp);if(h===0)return{x:0,y:0};const f={x:(c.x-s.x)/h,y:(c.y-s.y)/h};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function T8(e,{min:t,max:i},s){return t!==void 0&&e<t?e=s?Tt(t,e,s.min):Math.max(e,t):i!==void 0&&e>i&&(e=s?Tt(i,e,s.max):Math.min(e,i)),e}function Kb(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function E8(e,{top:t,left:i,bottom:s,right:c}){return{x:Kb(e.x,i,c),y:Kb(e.y,t,s)}}function Yb(e,t){let i=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,s]=[s,i]),{min:i,max:s}}function N8(e,t){return{x:Yb(e.x,t.x),y:Yb(e.y,t.y)}}function C8(e,t){let i=.5;const s=gn(e),c=gn(t);return c>s?i=zc(t.min,t.max-s,e.min):s>c&&(i=zc(e.min,e.max-c,t.min)),Ar(0,1,i)}function A8(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const tg=.35;function R8(e=tg){return e===!1?e=0:e===!0&&(e=tg),{x:Xb(e,"left","right"),y:Xb(e,"top","bottom")}}function Xb(e,t,i){return{min:Jb(e,t),max:Jb(e,i)}}function Jb(e,t){return typeof e=="number"?e:e[t]||0}const O8=new WeakMap;class k8{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:s}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const h=w=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Qc(w).point)},f=(w,E)=>{const{drag:N,dragPropagation:A,onDragStart:k}=this.getProps();if(N&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=z5(N),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ri(M=>{let D=this.getAxisMotionValue(M).get()||0;if(Wi.test(D)){const{projection:R}=this.visualElement;if(R&&R.layout){const Z=R.layout.layoutBox[M];Z&&(D=gn(Z)*(parseFloat(D)/100))}}this.originPoint[M]=D}),k&&bt.postRender(()=>k(w,E)),Qp(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},p=(w,E)=>{this.latestPointerEvent=w,this.latestPanInfo=E;const{dragPropagation:N,dragDirectionLock:A,onDirectionLock:k,onDrag:P}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:M}=E;if(A&&this.currentDirection===null){this.currentDirection=L8(M),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",E.point,M),this.updateAxis("y",E.point,M),this.visualElement.render(),P&&P(w,E)},g=(w,E)=>{this.latestPointerEvent=w,this.latestPanInfo=E,this.stop(w,E),this.latestPointerEvent=null,this.latestPanInfo=null},x=()=>ri(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:_}=this.getProps();this.panSession=new S2(t,{onSessionStart:h,onStart:f,onMove:p,onSessionEnd:g,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,distanceThreshold:s,contextWindow:w2(this.visualElement)})}stop(t,i){const s=t||this.latestPointerEvent,c=i||this.latestPanInfo,h=this.isDragging;if(this.cancel(),!h||!c||!s)return;const{velocity:f}=c;this.startAnimation(f);const{onDragEnd:p}=this.getProps();p&&bt.postRender(()=>p(s,c))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,s){const{drag:c}=this.getProps();if(!s||!Ud(t,c,this.currentDirection))return;const h=this.getAxisMotionValue(t);let f=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(f=T8(f,this.constraints[t],this.elastic[t])),h.set(f)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,c=this.constraints;t&&Ho(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=E8(s.layoutBox,t):this.constraints=!1,this.elastic=R8(i),c!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ri(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=A8(s.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Ho(t))return!1;const s=t.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const h=PR(s,c.root,this.visualElement.getTransformPagePoint());let f=N8(c.layout.layoutBox,h);if(i){const p=i(OR(f));this.hasMutatedConstraints=!!p,p&&(f=o2(p))}return f}startAnimation(t){const{drag:i,dragMomentum:s,dragElastic:c,dragTransition:h,dragSnapToOrigin:f,onDragTransitionEnd:p}=this.getProps(),g=this.constraints||{},x=ri(_=>{if(!Ud(_,i,this.currentDirection))return;let w=g&&g[_]||{};f&&(w={min:0,max:0});const E=c?200:1e6,N=c?40:1e7,A={type:"inertia",velocity:s?t[_]:0,bounceStiffness:E,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...h,...w};return this.startAxisValueAnimation(_,A)});return Promise.all(x).then(p)}startAxisValueAnimation(t,i){const s=this.getAxisMotionValue(t);return Qp(this.visualElement,t),s.start(r0(t,s,0,i,this.visualElement,!1))}stopAnimation(){ri(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ri(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),c=s[i];return c||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ri(i=>{const{drag:s}=this.getProps();if(!Ud(i,s,this.currentDirection))return;const{projection:c}=this.visualElement,h=this.getAxisMotionValue(i);if(c&&c.layout){const{min:f,max:p}=c.layout.layoutBox[i];h.set(t[i]-Tt(f,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:s}=this.visualElement;if(!Ho(i)||!s||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};ri(f=>{const p=this.getAxisMotionValue(f);if(p&&this.constraints!==!1){const g=p.get();c[f]=C8({min:g,max:g},this.constraints[f])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ri(f=>{if(!Ud(f,t,null))return;const p=this.getAxisMotionValue(f),{min:g,max:x}=this.constraints[f];p.set(Tt(g,x,c[f]))})}addListeners(){if(!this.visualElement.current)return;O8.set(this.visualElement,this);const t=this.visualElement.current,i=Cc(t,"pointerdown",g=>{const{drag:x,dragListener:_=!0}=this.getProps();x&&_&&this.start(g)}),s=()=>{const{dragConstraints:g}=this.getProps();Ho(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,h=c.addEventListener("measure",s);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),bt.read(s);const f=Vc(window,"resize",()=>this.scalePositionWithinConstraints()),p=c.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:x})=>{this.isDragging&&x&&(ri(_=>{const w=this.getAxisMotionValue(_);w&&(this.originPoint[_]+=g[_].translate,w.set(w.get()+g[_].translate))}),this.visualElement.render())}));return()=>{f(),i(),h(),p&&p()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:s=!1,dragPropagation:c=!1,dragConstraints:h=!1,dragElastic:f=tg,dragMomentum:p=!0}=t;return{...t,drag:i,dragDirectionLock:s,dragPropagation:c,dragConstraints:h,dragElastic:f,dragMomentum:p}}}function Ud(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function L8(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class P8 extends Cs{constructor(t){super(t),this.removeGroupControls=ai,this.removeListeners=ai,this.controls=new k8(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ai}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qb=e=>(t,i)=>{e&&bt.postRender(()=>e(t,i))};class M8 extends Cs{constructor(){super(...arguments),this.removePointerDownListener=ai}onPointerDown(t){this.session=new S2(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:w2(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:s,onPanEnd:c}=this.node.getProps();return{onSessionStart:Qb(t),onStart:Qb(i),onMove:s,onEnd:(h,f)=>{delete this.session,c&&bt.postRender(()=>c(h,f))}}}mount(){this.removePointerDownListener=Cc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let op=!1;class D8 extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:s,layoutId:c}=this.props,{projection:h}=t;h&&(i.group&&i.group.add(h),s&&s.register&&c&&s.register(h),op&&h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),Fd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:s,drag:c,isPresent:h}=this.props,{projection:f}=s;return f&&(f.isPresent=h,op=!0,c||t.layoutDependency!==i||i===void 0||t.isPresent!==h?f.willUpdate():this.safeToRemove(),t.isPresent!==h&&(h?f.promote():f.relegate()||bt.postRender(()=>{const p=f.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Gg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:s}=this.props,{projection:c}=t;op=!0,c&&(c.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(c),s&&s.deregister&&s.deregister(c))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function T2(e){const[t,i]=Gw(),s=T.useContext(Eg);return l.jsx(D8,{...e,layoutGroup:s,switchLayoutGroup:T.useContext(s2),isPresent:t,safeToRemove:i})}function z8(e,t,i){const s=un(e)?e:Ko(e);return s.start(r0("",s,t,i)),s.animation}const B8=(e,t)=>e.depth-t.depth;class U8{constructor(){this.children=[],this.isDirty=!1}add(t){Ag(this.children,t),this.isDirty=!0}remove(t){Rg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(B8),this.isDirty=!1,this.children.forEach(t)}}function I8(e,t){const i=An.now(),s=({timestamp:c})=>{const h=c-i;h>=t&&(Ts(s),e(h-t))};return bt.setup(s,!0),()=>Ts(s)}const E2=["TopLeft","TopRight","BottomLeft","BottomRight"],V8=E2.length,e_=e=>typeof e=="string"?parseFloat(e):e,t_=e=>typeof e=="number"||Oe.test(e);function H8(e,t,i,s,c,h){c?(e.opacity=Tt(0,i.opacity??1,$8(s)),e.opacityExit=Tt(t.opacity??1,0,q8(s))):h&&(e.opacity=Tt(t.opacity??1,i.opacity??1,s));for(let f=0;f<V8;f++){const p=`border${E2[f]}Radius`;let g=n_(t,p),x=n_(i,p);if(g===void 0&&x===void 0)continue;g||(g=0),x||(x=0),g===0||x===0||t_(g)===t_(x)?(e[p]=Math.max(Tt(e_(g),e_(x),s),0),(Wi.test(x)||Wi.test(g))&&(e[p]+="%")):e[p]=x}(t.rotate||i.rotate)&&(e.rotate=Tt(t.rotate||0,i.rotate||0,s))}function n_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const $8=N2(0,.5,hw),q8=N2(.5,.95,ai);function N2(e,t,i){return s=>s<e?0:s>t?1:i(zc(e,t,s))}function i_(e,t){e.min=t.min,e.max=t.max}function _i(e,t){i_(e.x,t.x),i_(e.y,t.y)}function r_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function s_(e,t,i,s,c){return e-=t,e=ih(e,1/i,s),c!==void 0&&(e=ih(e,1/c,s)),e}function F8(e,t=0,i=1,s=.5,c,h=e,f=e){if(Wi.test(t)&&(t=parseFloat(t),t=Tt(f.min,f.max,t/100)-f.min),typeof t!="number")return;let p=Tt(h.min,h.max,s);e===h&&(p-=t),e.min=s_(e.min,t,i,p,c),e.max=s_(e.max,t,i,p,c)}function a_(e,t,[i,s,c],h,f){F8(e,t[i],t[s],t[c],t.scale,h,f)}const Z8=["x","scaleX","originX"],G8=["y","scaleY","originY"];function o_(e,t,i,s){a_(e.x,t,Z8,i?i.x:void 0,s?s.x:void 0),a_(e.y,t,G8,i?i.y:void 0,s?s.y:void 0)}function l_(e){return e.translate===0&&e.scale===1}function C2(e){return l_(e.x)&&l_(e.y)}function c_(e,t){return e.min===t.min&&e.max===t.max}function W8(e,t){return c_(e.x,t.x)&&c_(e.y,t.y)}function u_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function A2(e,t){return u_(e.x,t.x)&&u_(e.y,t.y)}function d_(e){return gn(e.x)/gn(e.y)}function h_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class K8{constructor(){this.members=[]}add(t){Ag(this.members,t),t.scheduleRender()}remove(t){if(Rg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(c=>t===c);if(i===0)return!1;let s;for(let c=i;c>=0;c--){const h=this.members[c];if(h.isPresent!==!1){s=h;break}}return s?(this.promote(s),!0):!1}promote(t,i){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,i&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:c}=t.options;c===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:s}=t;i.onExitComplete&&i.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Y8(e,t,i){let s="";const c=e.x.translate/t.x,h=e.y.translate/t.y,f=i?.z||0;if((c||h||f)&&(s=`translate3d(${c}px, ${h}px, ${f}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:x,rotate:_,rotateX:w,rotateY:E,skewX:N,skewY:A}=i;x&&(s=`perspective(${x}px) ${s}`),_&&(s+=`rotate(${_}deg) `),w&&(s+=`rotateX(${w}deg) `),E&&(s+=`rotateY(${E}deg) `),N&&(s+=`skewX(${N}deg) `),A&&(s+=`skewY(${A}deg) `)}const p=e.x.scale*t.x,g=e.y.scale*t.y;return(p!==1||g!==1)&&(s+=`scale(${p}, ${g})`),s||"none"}const lp=["","X","Y","Z"],X8=1e3;let J8=0;function cp(e,t,i,s){const{latestValues:c}=t;c[e]&&(i[e]=c[e],t.setStaticValue(e,0),s&&(s[e]=0))}function R2(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=p2(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:c,layoutId:h}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",bt,!(c||h))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&R2(s)}function O2({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:s,resetTransform:c}){return class{constructor(f={},p=t?.()){this.id=J8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tO),this.nodes.forEach(sO),this.nodes.forEach(aO),this.nodes.forEach(nO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new U8)}addEventListener(f,p){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new Lg),this.eventHandlers.get(f).add(p)}notifyListeners(f,...p){const g=this.eventHandlers.get(f);g&&g.notify(...p)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=Zw(f)&&!$5(f),this.instance=f;const{layoutId:p,layout:g,visualElement:x}=this.options;if(x&&!x.current&&x.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||p)&&(this.isLayoutDirty=!0),e){let _,w=0;const E=()=>this.root.updateBlockedByResize=!1;bt.read(()=>{w=window.innerWidth}),e(f,()=>{const N=window.innerWidth;N!==w&&(w=N,this.root.updateBlockedByResize=!0,_&&_(),_=I8(E,250),Fd.hasAnimatedSinceResize&&(Fd.hasAnimatedSinceResize=!1,this.nodes.forEach(p_)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&x&&(p||g)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:w,hasRelativeLayoutChanged:E,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||x.getDefaultTransition()||dO,{onLayoutAnimationStart:k,onLayoutAnimationComplete:P}=x.getProps(),M=!this.targetLayout||!A2(this.targetLayout,N),D=!w&&E;if(this.options.layoutRoot||this.resumeFrom||D||w&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...Fg(A,"layout"),onPlay:k,onComplete:P};(x.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(_,D)}else w||p_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ts(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oO),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&R2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const w=this.path[_];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:p,layout:g}=this.options;if(p===void 0&&!g)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(f_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(m_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rO),this.nodes.forEach(Q8),this.nodes.forEach(eO)):this.nodes.forEach(m_),this.clearAllSnapshots();const p=An.now();an.delta=Ar(0,1e3/60,p-an.timestamp),an.timestamp=p,an.isProcessing=!0,Xm.update.process(an),Xm.preRender.process(an),Xm.render.process(an),an.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iO),this.sharedNodes.forEach(lO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gn(this.snapshot.measuredBox.x)&&!gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(p=!1),p&&this.instance){const g=s(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:g,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!c)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!C2(this.projectionDelta),g=this.getTransformTemplate(),x=g?g(this.latestValues,""):void 0,_=x!==this.prevTransformTemplateValue;f&&this.instance&&(p||Sa(this.latestValues)||_)&&(c(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const p=this.measurePageBox();let g=this.removeElementScroll(p);return f&&(g=this.removeTransform(g)),hO(g),{animationId:this.root.animationId,measuredBox:p,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return Gt();const p=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(fO))){const{scroll:x}=this.root;x&&($o(p.x,x.offset.x),$o(p.y,x.offset.y))}return p}removeElementScroll(f){const p=Gt();if(_i(p,f),this.scroll?.wasRoot)return p;for(let g=0;g<this.path.length;g++){const x=this.path[g],{scroll:_,options:w}=x;x!==this.root&&_&&w.layoutScroll&&(_.wasRoot&&_i(p,f),$o(p.x,_.offset.x),$o(p.y,_.offset.y))}return p}applyTransform(f,p=!1){const g=Gt();_i(g,f);for(let x=0;x<this.path.length;x++){const _=this.path[x];!p&&_.options.layoutScroll&&_.scroll&&_!==_.root&&qo(g,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),Sa(_.latestValues)&&qo(g,_.latestValues)}return Sa(this.latestValues)&&qo(g,this.latestValues),g}removeTransform(f){const p=Gt();_i(p,f);for(let g=0;g<this.path.length;g++){const x=this.path[g];if(!x.instance||!Sa(x.latestValues))continue;Kp(x.latestValues)&&x.updateSnapshot();const _=Gt(),w=x.measurePageBox();_i(_,w),o_(p,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,_)}return Sa(this.latestValues)&&o_(p,this.latestValues),p}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==an.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(f||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:w}=this.options;if(!this.layout||!(_||w))return;this.resolvedRelativeTargetAt=an.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_i(this.target,this.layout.layoutBox),c2(this.target,this.targetDelta)):_i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Kp(this.parent.latestValues)||l2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(f,p,g){this.relativeParent=f,this.linkedParentVersion=f.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),rh(this.relativeTargetOrigin,p,g),_i(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const f=this.getLead(),p=!!this.resumingFrom||this!==f;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===an.timestamp&&(g=!1),g)return;const{layout:x,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||_))return;_i(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,E=this.treeScale.y;LR(this.layoutCorrected,this.treeScale,this.path,p),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=Gt());const{target:N}=f;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(r_(this.prevProjectionDelta.x,this.projectionDelta.x),r_(this.prevProjectionDelta.y,this.projectionDelta.y)),Ac(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==E||!h_(this.projectionDelta.x,this.prevProjectionDelta.x)||!h_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fo(),this.projectionDelta=Fo(),this.projectionDeltaWithTransform=Fo()}setAnimationOrigin(f,p=!1){const g=this.snapshot,x=g?g.latestValues:{},_={...this.latestValues},w=Fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const E=Gt(),N=g?g.source:void 0,A=this.layout?this.layout.source:void 0,k=N!==A,P=this.getStack(),M=!P||P.members.length<=1,D=!!(k&&!M&&this.options.crossfade===!0&&!this.path.some(uO));this.animationProgress=0;let R;this.mixTargetDelta=Z=>{const F=Z/1e3;g_(w.x,f.x,F),g_(w.y,f.y,F),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rh(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cO(this.relativeTarget,this.relativeTargetOrigin,E,F),R&&W8(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Gt()),_i(R,this.relativeTarget)),k&&(this.animationValues=_,H8(_,x,this.latestValues,F,D,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ts(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{Fd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ko(0)),this.currentAnimation=z8(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),f.onUpdate&&f.onUpdate(p)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(X8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:p,target:g,layout:x,latestValues:_}=f;if(!(!p||!g||!x)){if(this!==f&&this.layout&&x&&k2(this.options.animationType,this.layout.layoutBox,x.layoutBox)){g=this.target||Gt();const w=gn(this.layout.layoutBox.x);g.x.min=f.target.x.min,g.x.max=g.x.min+w;const E=gn(this.layout.layoutBox.y);g.y.min=f.target.y.min,g.y.max=g.y.min+E}_i(p,g),qo(p,_),Ac(this.projectionDeltaWithTransform,this.layoutCorrected,p,_)}}registerSharedNode(f,p){this.sharedNodes.has(f)||this.sharedNodes.set(f,new K8),this.sharedNodes.get(f).add(p);const x=p.options.initialPromotionConfig;p.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(p):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:p,preserveFollowOpacity:g}={}){const x=this.getStack();x&&x.promote(this,g),f&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let p=!1;const{latestValues:g}=f;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(p=!0),!p)return;const x={};g.z&&cp("z",f,x,this.animationValues);for(let _=0;_<lp.length;_++)cp(`rotate${lp[_]}`,f,x,this.animationValues),cp(`skew${lp[_]}`,f,x,this.animationValues);f.render();for(const _ in x)f.setStaticValue(_,x[_]),this.animationValues&&(this.animationValues[_]=x[_]);f.scheduleRender()}applyProjectionStyles(f,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=qd(p?.pointerEvents)||"",f.transform=g?g(this.latestValues,""):"none";return}const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=qd(p?.pointerEvents)||""),this.hasProjected&&!Sa(this.latestValues)&&(f.transform=g?g({},""):"none",this.hasProjected=!1);return}f.visibility="";const _=x.animationValues||x.latestValues;this.applyTransformsToTarget();let w=Y8(this.projectionDeltaWithTransform,this.treeScale,_);g&&(w=g(_,w)),f.transform=w;const{x:E,y:N}=this.projectionDelta;f.transformOrigin=`${E.origin*100}% ${N.origin*100}% 0`,x.animationValues?f.opacity=x===this?_.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:f.opacity=x===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const A in Wp){if(_[A]===void 0)continue;const{correct:k,applyTo:P,isCSSVariable:M}=Wp[A],D=w==="none"?_[A]:k(_[A],x);if(P){const R=P.length;for(let Z=0;Z<R;Z++)f[P[Z]]=D}else M?this.options.visualElement.renderState.vars[A]=D:f[A]=D}this.options.layoutId&&(f.pointerEvents=x===this?qd(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(f_),this.root.sharedNodes.clear()}}}function Q8(e){e.updateLayout()}function eO(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:c}=e.options,h=t.source!==e.layout.source;c==="size"?ri(_=>{const w=h?t.measuredBox[_]:t.layoutBox[_],E=gn(w);w.min=i[_].min,w.max=w.min+E}):k2(c,t.layoutBox,i)&&ri(_=>{const w=h?t.measuredBox[_]:t.layoutBox[_],E=gn(i[_]);w.max=w.min+E,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+E)});const f=Fo();Ac(f,i,t.layoutBox);const p=Fo();h?Ac(p,e.applyTransform(s,!0),t.measuredBox):Ac(p,i,t.layoutBox);const g=!C2(f);let x=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:w,layout:E}=_;if(w&&E){const N=Gt();rh(N,t.layoutBox,w.layoutBox);const A=Gt();rh(A,i,E.layoutBox),A2(N,A)||(x=!0),_.options.layoutRoot&&(e.relativeTarget=A,e.relativeTargetOrigin=N,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:p,layoutDelta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:x})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function tO(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function nO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function iO(e){e.clearSnapshot()}function f_(e){e.clearMeasurements()}function m_(e){e.isLayoutDirty=!1}function rO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function p_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sO(e){e.resolveTargetDelta()}function aO(e){e.calcProjection()}function oO(e){e.resetSkewAndRotation()}function lO(e){e.removeLeadSnapshot()}function g_(e,t,i){e.translate=Tt(t.translate,0,i),e.scale=Tt(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function y_(e,t,i,s){e.min=Tt(t.min,i.min,s),e.max=Tt(t.max,i.max,s)}function cO(e,t,i,s){y_(e.x,t.x,i.x,s),y_(e.y,t.y,i.y,s)}function uO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const dO={duration:.45,ease:[.4,0,.1,1]},v_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),x_=v_("applewebkit/")&&!v_("chrome/")?Math.round:ai;function b_(e){e.min=x_(e.min),e.max=x_(e.max)}function hO(e){b_(e.x),b_(e.y)}function k2(e,t,i){return e==="position"||e==="preserve-aspect"&&!b8(d_(t),d_(i),.2)}function fO(e){return e!==e.root&&e.scroll?.wasRoot}const mO=O2({attachResizeListener:(e,t)=>Vc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),up={current:void 0},L2=O2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!up.current){const e=new mO({});e.mount(window),e.setOptions({layoutScroll:!0}),up.current=e}return up.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),pO={pan:{Feature:M8},drag:{Feature:P8,ProjectionNode:L2,MeasureLayout:T2}};function __(e,t,i){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",i==="Start");const c="onHover"+i,h=s[c];h&&bt.postRender(()=>h(t,Qc(t)))}class gO extends Cs{mount(){const{current:t}=this.node;t&&(this.unmount=B5(t,(i,s)=>(__(this.node,s,"Start"),c=>__(this.node,c,"End"))))}unmount(){}}class yO extends Cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yc(Vc(this.node.current,"focus",()=>this.onFocus()),Vc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function w_(e,t,i){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",i==="Start");const c="onTap"+(i==="End"?"":i),h=s[c];h&&bt.postRender(()=>h(t,Qc(t)))}class vO extends Cs{mount(){const{current:t}=this.node;t&&(this.unmount=H5(t,(i,s)=>(w_(this.node,s,"Start"),(c,{success:h})=>w_(this.node,c,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ng=new WeakMap,dp=new WeakMap,xO=e=>{const t=ng.get(e.target);t&&t(e)},bO=e=>{e.forEach(xO)};function _O({root:e,...t}){const i=e||document;dp.has(i)||dp.set(i,{});const s=dp.get(i),c=JSON.stringify(t);return s[c]||(s[c]=new IntersectionObserver(bO,{root:e,...t})),s[c]}function wO(e,t,i){const s=_O(t);return ng.set(e,i),s.observe(e),()=>{ng.delete(e),s.unobserve(e)}}const SO={some:0,all:1};class jO extends Cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:s,amount:c="some",once:h}=t,f={root:i?i.current:void 0,rootMargin:s,threshold:typeof c=="number"?c:SO[c]},p=g=>{const{isIntersecting:x}=g;if(this.isInView===x||(this.isInView=x,h&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:_,onViewportLeave:w}=this.node.getProps(),E=x?_:w;E&&E(g)};return wO(this.node.current,f,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(TO(t,i))&&this.startObserver()}unmount(){}}function TO({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const EO={inView:{Feature:jO},tap:{Feature:vO},focus:{Feature:yO},hover:{Feature:gO}},NO={layout:{ProjectionNode:L2,MeasureLayout:T2}},CO={...m8,...EO,...pO,...NO},St=RR(CO,$R);function AO(){const{usuario:e}=Et(),t=dt(),[i,s]=T.useState([]),[c,h]=T.useState(null),[f,p]=T.useState(!0),[g,x]=T.useState(!1),[_,w]=T.useState(""),[E,N]=T.useState("");T.useEffect(()=>{A()},[]);const A=async()=>{if(e?.id)try{const{data:R,error:Z}=await he.from("vista_carrito").select("*").eq("usuario_id",e.id);if(Z)throw Z;const{data:F,error:V}=await he.from("vista_resumen_carrito").select("*").eq("usuario_id",e.id).single();if(V&&V.code!=="PGRST116")throw V;s(R||[]),h(F)}catch(R){console.error("Error al cargar carrito:",R)}finally{p(!1)}},k=async(R,Z)=>{if(!(Z<1))try{const{error:F}=await he.from("carrito").update({cantidad:Z}).eq("id",R);if(F)throw F;await A()}catch(F){console.error("Error al actualizar cantidad:",F)}},P=async R=>{try{const{error:Z}=await he.from("carrito").delete().eq("id",R);if(Z)throw Z;await A()}catch(Z){console.error("Error al eliminar item:",Z)}},M=async()=>{if(!(!e?.id||!window.confirm("Seguro que quieres vaciar el carrito?")))try{const{error:Z}=await he.rpc("limpiar_carrito_usuario",{p_usuario_id:e.id});if(Z)throw Z;await A()}catch(Z){console.error("Error al vaciar carrito:",Z)}},D=async()=>{if(!e?.id||!_.trim()){alert("Por favor ingresa la direccin de entrega");return}x(!0);try{const{error:R}=await he.rpc("crear_pedido_desde_carrito",{p_usuario_id:e.id,p_direccion_entrega:_,p_latitud:19.4326,p_longitud:-99.1332,p_notas_cliente:E||null});if(R)throw R;alert("Pedido creado exitosamente! "),t("/pedidos")}catch(R){console.error("Error al crear pedido:",R),alert(R.message||"Error al crear el pedido")}finally{x(!1)}};return f?l.jsxs("div",{style:ge.container,children:[l.jsx(Ye,{}),l.jsxs("div",{style:ge.loadingContainer,children:[l.jsx(St.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:ge.spinner,children:""}),l.jsx("p",{style:ge.loadingText,children:"Cargando tu carrito..."})]})]}):i.length===0?l.jsxs("div",{style:ge.container,children:[l.jsx(Ye,{}),l.jsx("div",{style:ge.content,children:l.jsxs(St.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:ge.emptyState,children:[l.jsx("div",{style:ge.emptyIcon,children:""}),l.jsx("h2",{style:ge.emptyTitle,children:"Tu carrito est vaco"}),l.jsx("p",{style:ge.emptyText,children:"Agrega deliciosos platillos y comienza tu pedido!"}),l.jsxs(St.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/home"),style:ge.exploreButton,children:[l.jsx("span",{style:{marginRight:"8px"},children:""}),"Explorar Restaurantes"]})]})})]}):l.jsxs("div",{style:ge.container,children:[l.jsx(Ye,{}),l.jsxs("div",{style:ge.content,className:"carrito-content",children:[l.jsxs(St.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:ge.header,className:"carrito-header",children:[l.jsxs("h1",{style:ge.title,className:"carrito-title",children:[l.jsx("span",{style:{fontSize:"32px",marginRight:"12px"},children:""}),"Mi Carrito"]}),l.jsx(St.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:M,style:ge.clearButton,className:"carrito-clear-button",children:" Vaciar"})]}),l.jsxs("div",{style:ge.mainGrid,className:"carrito-main-grid",children:[l.jsxs("div",{style:ge.itemsColumn,children:[c&&l.jsx(St.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},style:ge.restaurantBanner,className:"carrito-restaurant-banner",children:l.jsxs("div",{style:ge.restaurantInfo,children:[l.jsx("span",{style:ge.restaurantEmoji,className:"carrito-restaurant-emoji",children:c.restaurante_emoji}),l.jsxs("div",{children:[l.jsx("h2",{style:ge.restaurantName,className:"carrito-restaurant-name",children:c.restaurante_nombre}),l.jsxs("p",{style:ge.restaurantStats,children:[" ",c.tiempo_entrega_estimado," min   L",c.costo_envio.toFixed(2)]})]})]})}),l.jsx(J5,{children:i.map((R,Z)=>l.jsx(St.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:Z*.05},style:ge.itemCard,className:"carrito-item-card",children:l.jsxs("div",{style:ge.itemContent,className:"carrito-item-content",children:[R.platillo_imagen&&l.jsxs("div",{style:ge.imageContainer,children:[l.jsx("img",{src:R.platillo_imagen,alt:R.platillo_nombre,style:ge.itemImage,className:"carrito-item-image"}),!R.platillo_disponible&&l.jsx("div",{style:ge.unavailableBadge,children:"No disponible"})]}),l.jsxs("div",{style:ge.itemDetails,children:[l.jsx("h3",{style:ge.itemName,className:"carrito-item-name",children:R.platillo_nombre}),l.jsx("p",{style:ge.itemDescription,children:R.platillo_descripcion}),l.jsxs("p",{style:ge.itemPrice,children:["L ",R.precio_unitario.toFixed(2)]}),R.notas&&l.jsxs("div",{style:ge.notesBox,children:[l.jsx("span",{style:{marginRight:"4px"},children:""}),R.notas]}),l.jsxs("div",{style:ge.itemActions,className:"carrito-item-actions",children:[l.jsxs("div",{style:ge.quantityControl,className:"carrito-quantity-control",children:[l.jsx(St.button,{whileTap:{scale:.9},onClick:()=>k(R.id,R.cantidad-1),disabled:R.cantidad<=1,style:{...ge.quantityButton,...R.cantidad<=1&&ge.quantityButtonDisabled},children:""}),l.jsx("span",{style:ge.quantity,children:R.cantidad}),l.jsx(St.button,{whileTap:{scale:.9},onClick:()=>k(R.id,R.cantidad+1),style:ge.quantityButton,children:"+"})]}),l.jsxs("div",{style:ge.itemFooter,className:"carrito-item-footer",children:[l.jsxs("span",{style:ge.subtotal,children:["L",R.subtotal.toFixed(2)]}),l.jsx(St.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>P(R.id),style:ge.deleteButton,children:""})]})]})]})]})},R.id))})]}),l.jsx("div",{style:ge.summaryColumn,className:"carrito-summary-column",children:l.jsxs(St.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},style:ge.summaryCard,className:"carrito-summary-card",children:[l.jsx("h2",{style:ge.summaryTitle,children:" Datos de Entrega"}),l.jsxs("div",{style:ge.formGroup,children:[l.jsx("label",{style:ge.label,children:"Direccin de entrega *"}),l.jsx("input",{type:"text",value:_,onChange:R=>w(R.target.value),placeholder:"Calle, nmero, colonia...",style:ge.input})]}),l.jsxs("div",{style:ge.formGroup,children:[l.jsx("label",{style:ge.label,children:"Notas adicionales (opcional)"}),l.jsx("textarea",{value:E,onChange:R=>N(R.target.value),placeholder:"Indicaciones, referencias, etc.",rows:3,style:{...ge.input,...ge.textarea}})]}),l.jsx("div",{style:ge.divider}),l.jsxs("div",{style:ge.summarySection,children:[l.jsx("h3",{style:ge.summarySubtitle,children:"Resumen del Pedido"}),l.jsxs("div",{style:ge.summaryRow,children:[l.jsxs("span",{style:ge.summaryLabel,children:["Subtotal (",c?.total_items," productos)"]}),l.jsxs("span",{style:ge.summaryValue,children:["L ",c?.subtotal_productos.toFixed(2)]})]}),l.jsxs("div",{style:ge.summaryRow,children:[l.jsx("span",{style:ge.summaryLabel,children:"Costo de envo"}),l.jsxs("span",{style:ge.summaryValue,children:["L ",c?.costo_envio.toFixed(2)]})]}),l.jsx("div",{style:ge.divider}),l.jsxs("div",{style:ge.totalRow,children:[l.jsx("span",{style:ge.totalLabel,children:"Total"}),l.jsxs("span",{style:ge.totalValue,className:"carrito-total-value",children:["L ",c?.total_carrito.toFixed(2)]})]}),c&&l.jsxs("div",{style:ge.estimatedTime,children:[" Tiempo estimado: ",c.tiempo_entrega_estimado," min"]})]}),l.jsx(St.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:D,disabled:g||!_.trim(),style:{...ge.checkoutButton,...g||!_.trim()?ge.checkoutButtonDisabled:{}},className:"carrito-checkout-button",children:g?l.jsxs(l.Fragment,{children:[l.jsx(St.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{display:"inline-block",marginRight:"8px"},children:""}),"Procesando..."]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{style:{marginRight:"8px"},children:""}),"Realizar Pedido"]})})]})})]})]})]})}const ge={container:{minHeight:"100vh",background:"linear-gradient(to bottom, #f9fafb, #ffffff)"},content:{maxWidth:"1400px",margin:"0 auto",padding:"24px",paddingBottom:"100px"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh",gap:"16px"},spinner:{fontSize:"48px"},loadingText:{fontSize:"16px",color:"#6b7280",fontWeight:500},emptyState:{textAlign:"center",padding:"80px 20px",background:"#ffffff",borderRadius:"24px",boxShadow:"0 4px 24px rgba(0,0,0,0.06)",maxWidth:"500px",margin:"40px auto"},emptyIcon:{fontSize:"80px",marginBottom:"24px"},emptyTitle:{fontSize:"28px",fontWeight:700,color:"#111827",marginBottom:"12px"},emptyText:{fontSize:"16px",color:"#6b7280",marginBottom:"32px",lineHeight:"1.6"},exploreButton:{background:"linear-gradient(135deg, #4f46e5, #7c3aed)",color:"#ffffff",padding:"14px 32px",borderRadius:"12px",border:"none",fontSize:"16px",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 16px rgba(79, 70, 229, 0.3)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},title:{fontSize:"32px",fontWeight:800,color:"#111827",display:"flex",alignItems:"center"},clearButton:{background:"#fee2e2",color:"#dc2626",padding:"10px 20px",borderRadius:"10px",border:"none",fontSize:"14px",fontWeight:600,cursor:"pointer"},mainGrid:{display:"grid",gridTemplateColumns:"1fr 400px",gap:"24px",alignItems:"start"},itemsColumn:{display:"flex",flexDirection:"column",gap:"16px"},restaurantBanner:{background:"linear-gradient(135deg, #4f46e5, #7c3aed)",borderRadius:"16px",padding:"20px",color:"#ffffff",boxShadow:"0 8px 24px rgba(79, 70, 229, 0.25)"},restaurantInfo:{display:"flex",alignItems:"center",gap:"16px"},restaurantEmoji:{fontSize:"48px"},restaurantName:{fontSize:"20px",fontWeight:700,margin:"0 0 8px 0"},restaurantStats:{fontSize:"14px",opacity:.95,margin:0},itemCard:{background:"#ffffff",borderRadius:"16px",padding:"20px",boxShadow:"0 2px 12px rgba(0,0,0,0.06)",transition:"all 0.3s ease"},itemContent:{display:"flex",gap:"16px"},imageContainer:{position:"relative",flexShrink:0},itemImage:{width:"120px",height:"120px",borderRadius:"12px",objectFit:"cover"},unavailableBadge:{position:"absolute",top:"8px",left:"8px",background:"rgba(220, 38, 38, 0.95)",color:"#ffffff",padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:600},itemDetails:{flex:1,display:"flex",flexDirection:"column"},itemName:{fontSize:"18px",fontWeight:700,color:"#111827",margin:"0 0 8px 0"},itemDescription:{fontSize:"14px",color:"#6b7280",margin:"0 0 8px 0",lineHeight:"1.5"},itemPrice:{fontSize:"16px",fontWeight:600,color:"#4f46e5",margin:"0 0 12px 0"},notesBox:{background:"#fef3c7",padding:"8px 12px",borderRadius:"8px",fontSize:"13px",color:"#92400e",marginBottom:"12px"},itemActions:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto"},quantityControl:{display:"flex",alignItems:"center",gap:"12px",background:"#f3f4f6",borderRadius:"10px",padding:"4px"},quantityButton:{width:"32px",height:"32px",borderRadius:"8px",border:"none",background:"#ffffff",color:"#4f46e5",fontSize:"18px",fontWeight:600,cursor:"pointer",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},quantityButtonDisabled:{opacity:.5,cursor:"not-allowed"},quantity:{fontSize:"16px",fontWeight:600,color:"#111827",minWidth:"24px",textAlign:"center"},itemFooter:{display:"flex",alignItems:"center",gap:"16px"},subtotal:{fontSize:"20px",fontWeight:700,color:"#4f46e5"},deleteButton:{background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",padding:"4px"},summaryColumn:{position:"sticky",top:"90px"},summaryCard:{background:"#ffffff",borderRadius:"20px",padding:"28px",boxShadow:"0 4px 24px rgba(0,0,0,0.08)"},summaryTitle:{fontSize:"20px",fontWeight:700,color:"#111827",marginBottom:"20px"},formGroup:{marginBottom:"20px"},label:{display:"block",fontSize:"14px",fontWeight:600,color:"#374151",marginBottom:"8px"},input:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:"10px",fontSize:"14px",outline:"none",transition:"all 0.2s",boxSizing:"border-box"},textarea:{resize:"vertical",fontFamily:"inherit"},divider:{height:"1px",background:"#e5e7eb",margin:"24px 0"},summarySection:{marginBottom:"24px"},summarySubtitle:{fontSize:"16px",fontWeight:700,color:"#111827",marginBottom:"16px"},summaryRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},summaryLabel:{fontSize:"14px",color:"#6b7280"},summaryValue:{fontSize:"14px",fontWeight:600,color:"#111827"},totalRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"16px"},totalLabel:{fontSize:"18px",fontWeight:700,color:"#111827"},totalValue:{fontSize:"24px",fontWeight:800,color:"#4f46e5"},estimatedTime:{marginTop:"12px",padding:"12px",background:"#f0fdf4",borderRadius:"10px",fontSize:"14px",color:"#166534",textAlign:"center",fontWeight:600},checkoutButton:{width:"100%",background:"linear-gradient(135deg, #4f46e5, #7c3aed)",color:"#ffffff",padding:"16px",borderRadius:"12px",border:"none",fontSize:"16px",fontWeight:700,cursor:"pointer",boxShadow:"0 4px 16px rgba(79, 70, 229, 0.3)",marginBottom:"12px"},checkoutButtonDisabled:{background:"#9ca3af",cursor:"not-allowed",boxShadow:"none"}};if(typeof window<"u"){const e=document.createElement("style");e.textContent=`
    @media (max-width: 1024px) {
      /* Ajustar grid a una columna en tablets */
    }
    @media (max-width: 768px) {
      /* Ajustar para mviles */
    }
  `,document.head.appendChild(e)}function RO(){const{usuario:e}=Et(),t=dt(),[i,s]=T.useState([]),[c,h]=T.useState(!0),[f,p]=T.useState("todos"),[g,x]=T.useState("");T.useEffect(()=>{_();const M=he.channel("mis-pedidos").on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`usuario_id=eq.${e?.id}`},()=>{_()}).subscribe();return()=>{he.removeChannel(M)}},[e?.id]);const _=async()=>{if(e?.id)try{const{data:M,error:D}=await he.from("vista_pedidos_cliente").select("*").eq("usuario_id",e.id).order("creado_en",{ascending:!1});if(D)throw D;s(M||[])}catch(M){console.error("Error al cargar pedidos:",M)}finally{h(!1)}},w=M=>({pendiente:"Pendiente",confirmado:"Confirmado",en_preparacion:"En Preparacin",listo:"Listo",en_camino:"En Camino",entregado:"Entregado",cancelado:"Cancelado"})[M]||M,E=M=>({pendiente:"",confirmado:"",en_preparacion:"",listo:"",en_camino:"",entregado:"",cancelado:""})[M]||"",N=i.filter(M=>{const D=f==="todos"||M.estado===f,R=g===""||M.numero_pedido.toLowerCase().includes(g.toLowerCase())||M.restaurante_nombre.toLowerCase().includes(g.toLowerCase());return D&&R}),A=M=>M==="todos"?i.length:i.filter(D=>D.estado===M).length,k=["en_camino","listo","en_preparacion","confirmado"],P=i.filter(M=>k.includes(M.estado));return c?l.jsxs("div",{className:"pedidos-page",children:[l.jsx(Ye,{}),l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"loader"}),l.jsx("p",{className:"loading-text",children:"Cargando tus pedidos..."})]})]}):l.jsxs("div",{className:"pedidos-page",children:[l.jsx(Ye,{}),l.jsxs("div",{className:"pedidos-wrapper",children:[l.jsx("div",{className:"pedidos-header",children:l.jsxs("div",{children:[l.jsxs("h1",{className:"page-title",children:[l.jsx("span",{className:"title-icon",children:""}),"Mis Pedidos"]}),l.jsx("p",{className:"page-subtitle",children:P.length>0?`Tienes ${P.length} pedido${P.length>1?"s":""} activo${P.length>1?"s":""}`:"Historial de pedidos"})]})}),i.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-icon",children:""}),l.jsx("h2",{className:"empty-title",children:"No tienes pedidos an"}),l.jsx("p",{className:"empty-description",children:"Explora nuestros restaurantes y haz tu primer pedido!"}),l.jsxs("button",{onClick:()=>t("/home"),className:"cta-button",children:[l.jsx("span",{children:""}),"Explorar Restaurantes"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"search-filter-container",children:[l.jsxs("div",{className:"search-box",children:[l.jsx("span",{className:"search-icon",children:""}),l.jsx("input",{type:"text",placeholder:"Buscar por nmero o restaurante...",value:g,onChange:M=>x(M.target.value),className:"search-input"}),g&&l.jsx("button",{onClick:()=>x(""),className:"clear-search",children:""})]}),l.jsxs("div",{className:"filter-chips",children:[l.jsxs("button",{onClick:()=>p("todos"),className:`filter-chip ${f==="todos"?"active":""}`,children:["Todos",l.jsx("span",{className:"chip-count",children:A("todos")})]}),l.jsxs("button",{onClick:()=>p("en_camino"),className:`filter-chip ${f==="en_camino"?"active":""}`,children:[" En Camino",l.jsx("span",{className:"chip-count",children:A("en_camino")})]}),l.jsxs("button",{onClick:()=>p("en_preparacion"),className:`filter-chip ${f==="en_preparacion"?"active":""}`,children:[" Preparando",l.jsx("span",{className:"chip-count",children:A("en_preparacion")})]}),l.jsxs("button",{onClick:()=>p("entregado"),className:`filter-chip ${f==="entregado"?"active":""}`,children:[" Entregados",l.jsx("span",{className:"chip-count",children:A("entregado")})]})]})]}),N.length===0?l.jsxs("div",{className:"no-results",children:[l.jsx("p",{className:"no-results-icon",children:""}),l.jsx("p",{className:"no-results-text",children:"No se encontraron pedidos con estos filtros"}),l.jsx("button",{onClick:()=>{p("todos"),x("")},className:"reset-filters-btn",children:"Limpiar filtros"})]}):l.jsx("div",{className:"pedidos-grid",children:N.map(M=>l.jsxs("div",{onClick:()=>t(`/pedido/${M.pedido_id}`),className:"pedido-card",children:[l.jsxs("div",{className:"card-header",children:[l.jsxs("div",{className:"restaurant-info",children:[l.jsx("span",{className:"restaurant-emoji",children:M.restaurante_emoji}),l.jsxs("div",{children:[l.jsx("h3",{className:"restaurant-name",children:M.restaurante_nombre}),l.jsxs("p",{className:"order-number",children:["Pedido #",M.numero_pedido]})]})]}),l.jsxs("div",{className:"order-total",children:[l.jsxs("p",{className:"total-amount",children:["L ",M.total.toFixed(2)]}),l.jsxs("p",{className:"total-items",children:[M.total_items," item",M.total_items>1?"s":""]})]})]}),l.jsxs("div",{className:`status-badge status-${M.estado}`,children:[l.jsx("span",{className:"status-icon",children:E(M.estado)}),l.jsx("span",{className:"status-text",children:w(M.estado)})]}),M.tiene_repartidor&&M.repartidor_nombre&&l.jsxs("div",{className:"delivery-info",children:[l.jsx("span",{className:"delivery-icon",children:""}),l.jsx("span",{className:"delivery-text",children:M.repartidor_nombre})]}),M.tracking_activo&&l.jsxs("div",{className:"tracking-badge",children:[l.jsx("span",{className:"tracking-pulse"}),l.jsx("span",{className:"tracking-text",children:" Seguimiento en vivo"}),l.jsx("span",{className:"tracking-arrow",children:""})]}),l.jsx("div",{className:"card-footer",children:l.jsxs("span",{className:"order-date",children:[""," ",new Date(M.creado_en).toLocaleString("es-MX",{dateStyle:"medium",timeStyle:"short"})]})})]},M.pedido_id))})]})]})]})}function P2(e,t){const i=T.useRef(t);T.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}const OO=1;function kO(e){return Object.freeze({__version:OO,map:e})}function LO(e,t){return Object.freeze({...e,...t})}const s0=T.createContext(null);function M2(){const e=T.use(s0);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function PO(e){function t(i,s){const{instance:c,context:h}=e(i).current;T.useImperativeHandle(s,()=>c);const{children:f}=i;return f==null?null:je.createElement(s0,{value:h},f)}return T.forwardRef(t)}function MO(e){function t(i,s){const[c,h]=T.useState(!1),{instance:f}=e(i,h).current;T.useImperativeHandle(s,()=>f),T.useEffect(function(){c&&f.update()},[f,c,i.children]);const p=f._contentNode;return p?r1.createPortal(i.children,p):null}return T.forwardRef(t)}function DO(e){function t(i,s){const{instance:c}=e(i).current;return T.useImperativeHandle(s,()=>c),null}return T.forwardRef(t)}function D2(e,t){const i=T.useRef(void 0);T.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function a0(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}function zO(e,t){return function(s,c){const h=M2(),f=e(a0(s,h),h);return P2(h.map,s.attribution),D2(f.current,s.eventHandlers),t(f.current,h,s,c),f}}var xc={exports:{}};var BO=xc.exports,S_;function UO(){return S_||(S_=1,(function(e,t){(function(i,s){s(t)})(BO,(function(i){var s="1.9.4";function c(a){var u,m,b,S;for(m=1,b=arguments.length;m<b;m++){S=arguments[m];for(u in S)a[u]=S[u]}return a}var h=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function f(a,u){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var b=m.call(arguments,2);return function(){return a.apply(u,b.length?b.concat(m.call(arguments)):arguments)}}var p=0;function g(a){return"_leaflet_id"in a||(a._leaflet_id=++p),a._leaflet_id}function x(a,u,m){var b,S,C,z;return z=function(){b=!1,S&&(C.apply(m,S),S=!1)},C=function(){b?S=arguments:(a.apply(m,arguments),setTimeout(z,u),b=!0)},C}function _(a,u,m){var b=u[1],S=u[0],C=b-S;return a===b&&m?a:((a-S)%C+C)%C+S}function w(){return!1}function E(a,u){if(u===!1)return a;var m=Math.pow(10,u===void 0?6:u);return Math.round(a*m)/m}function N(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function A(a){return N(a).split(/\s+/)}function k(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?h(a.options):{});for(var m in u)a.options[m]=u[m];return a.options}function P(a,u,m){var b=[];for(var S in a)b.push(encodeURIComponent(m?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!u||u.indexOf("?")===-1?"?":"&")+b.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function D(a,u){return a.replace(M,function(m,b){var S=u[b];if(S===void 0)throw new Error("No value provided for variable "+m);return typeof S=="function"&&(S=S(u)),S})}var R=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function Z(a,u){for(var m=0;m<a.length;m++)if(a[m]===u)return m;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var B=0;function te(a){var u=+new Date,m=Math.max(0,16-(u-B));return B=u+m,window.setTimeout(a,m)}var me=window.requestAnimationFrame||V("RequestAnimationFrame")||te,ve=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function Te(a,u,m){if(m&&me===te)a.call(u);else return me.call(window,f(a,u))}function Ne(a){a&&ve.call(window,a)}var it={__proto__:null,extend:c,create:h,bind:f,get lastId(){return p},stamp:g,throttle:x,wrapNum:_,falseFn:w,formatNum:E,trim:N,splitWords:A,setOptions:k,getParamString:P,template:D,isArray:R,indexOf:Z,emptyImageUrl:F,requestFn:me,cancelFn:ve,requestAnimFrame:Te,cancelAnimFrame:Ne};function Fe(){}Fe.extend=function(a){var u=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,b=h(m);b.constructor=u,u.prototype=b;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return a.statics&&c(u,a.statics),a.includes&&(ht(a.includes),c.apply(null,[b].concat(a.includes))),c(b,a),delete b.statics,delete b.includes,b.options&&(b.options=m.options?h(m.options):{},c(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,z=b._initHooks.length;C<z;C++)b._initHooks[C].call(this)}},u},Fe.include=function(a){var u=this.prototype.options;return c(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},Fe.mergeOptions=function(a){return c(this.prototype.options,a),this},Fe.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function ht(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=R(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(a,u,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],u);else{a=A(a);for(var S=0,C=a.length;S<C;S++)this._on(a[S],u,m)}return this},off:function(a,u,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],u);else{a=A(a);for(var S=arguments.length===1,C=0,z=a.length;C<z;C++)S?this._off(a[C]):this._off(a[C],u,m)}return this},_on:function(a,u,m,b){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,m)===!1){m===this&&(m=void 0);var S={fn:u,ctx:m};b&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,u,m){var b,S,C;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(S=0,C=b.length;S<C;S++)b[S].fn=w;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var z=this._listens(a,u,m);if(z!==!1){var G=b[z];this._firingCount&&(G.fn=w,this._events[a]=b=b.slice()),b.splice(z,1)}}},fire:function(a,u,m){if(!this.listens(a,m))return this;var b=c({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var C=0,z=S.length;C<z;C++){var G=S[C],Y=G.fn;G.once&&this.off(a,Y,G.ctx),Y.call(G.ctx||this,b)}this._firingCount--}}return m&&this._propagateEvent(b),this},listens:function(a,u,m,b){typeof a!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(b=!!u,S=void 0,m=void 0);var C=this._events&&this._events[a];if(C&&C.length&&this._listens(a,S,m)!==!1)return!0;if(b){for(var z in this._eventParents)if(this._eventParents[z].listens(a,u,m,b))return!0}return!1},_listens:function(a,u,m){if(!this._events)return!1;var b=this._events[a]||[];if(!u)return!!b.length;m===this&&(m=void 0);for(var S=0,C=b.length;S<C;S++)if(b[S].fn===u&&b[S].ctx===m)return S;return!1},once:function(a,u,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],u,!0);else{a=A(a);for(var S=0,C=a.length;S<C;S++)this._on(a[S],u,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[g(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[g(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,c({layer:a.target,propagatedFrom:a.target},a),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var oe=Fe.extend($);function ne(a,u,m){this.x=m?Math.round(a):a,this.y=m?Math.round(u):u}var le=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(a){return this.clone()._add(ce(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(ce(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new ne(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new ne(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=le(this.x),this.y=le(this.y),this},distanceTo:function(a){a=ce(a);var u=a.x-this.x,m=a.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(a){return a=ce(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=ce(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function ce(a,u,m){return a instanceof ne?a:R(a)?new ne(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new ne(a.x,a.y):new ne(a,u,m)}function U(a,u){if(a)for(var m=u?[a,u]:a,b=0,S=m.length;b<S;b++)this.extend(m[b])}U.prototype={extend:function(a){var u,m;if(!a)return this;if(a instanceof ne||typeof a[0]=="number"||"x"in a)u=m=ce(a);else if(a=Q(a),u=a.min,m=a.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return ce((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return ce(this.min.x,this.max.y)},getTopRight:function(){return ce(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,m;return typeof a[0]=="number"||a instanceof ne?a=ce(a):a=Q(a),a instanceof U?(u=a.min,m=a.max):u=m=a,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=Q(a);var u=this.min,m=this.max,b=a.min,S=a.max,C=S.x>=u.x&&b.x<=m.x,z=S.y>=u.y&&b.y<=m.y;return C&&z},overlaps:function(a){a=Q(a);var u=this.min,m=this.max,b=a.min,S=a.max,C=S.x>u.x&&b.x<m.x,z=S.y>u.y&&b.y<m.y;return C&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,m=this.max,b=Math.abs(u.x-m.x)*a,S=Math.abs(u.y-m.y)*a;return Q(ce(u.x-b,u.y-S),ce(m.x+b,m.y+S))},equals:function(a){return a?(a=Q(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Q(a,u){return!a||a instanceof U?a:new U(a,u)}function ie(a,u){if(a)for(var m=u?[a,u]:a,b=0,S=m.length;b<S;b++)this.extend(m[b])}ie.prototype={extend:function(a){var u=this._southWest,m=this._northEast,b,S;if(a instanceof fe)b=a,S=a;else if(a instanceof ie){if(b=a._southWest,S=a._northEast,!b||!S)return this}else return a?this.extend(pe(a)||ue(a)):this;return!u&&!m?(this._southWest=new fe(b.lat,b.lng),this._northEast=new fe(S.lat,S.lng)):(u.lat=Math.min(b.lat,u.lat),u.lng=Math.min(b.lng,u.lng),m.lat=Math.max(S.lat,m.lat),m.lng=Math.max(S.lng,m.lng)),this},pad:function(a){var u=this._southWest,m=this._northEast,b=Math.abs(u.lat-m.lat)*a,S=Math.abs(u.lng-m.lng)*a;return new ie(new fe(u.lat-b,u.lng-S),new fe(m.lat+b,m.lng+S))},getCenter:function(){return new fe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new fe(this.getNorth(),this.getWest())},getSouthEast:function(){return new fe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof fe||"lat"in a?a=pe(a):a=ue(a);var u=this._southWest,m=this._northEast,b,S;return a instanceof ie?(b=a.getSouthWest(),S=a.getNorthEast()):b=S=a,b.lat>=u.lat&&S.lat<=m.lat&&b.lng>=u.lng&&S.lng<=m.lng},intersects:function(a){a=ue(a);var u=this._southWest,m=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),C=S.lat>=u.lat&&b.lat<=m.lat,z=S.lng>=u.lng&&b.lng<=m.lng;return C&&z},overlaps:function(a){a=ue(a);var u=this._southWest,m=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),C=S.lat>u.lat&&b.lat<m.lat,z=S.lng>u.lng&&b.lng<m.lng;return C&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=ue(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ue(a,u){return a instanceof ie?a:new ie(a,u)}function fe(a,u,m){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,m!==void 0&&(this.alt=+m)}fe.prototype={equals:function(a,u){if(!a)return!1;a=pe(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+E(this.lat,a)+", "+E(this.lng,a)+")"},distanceTo:function(a){return et.distance(this,pe(a))},wrap:function(){return et.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,m=u/Math.cos(Math.PI/180*this.lat);return ue([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new fe(this.lat,this.lng,this.alt)}};function pe(a,u,m){return a instanceof fe?a:R(a)&&typeof a[0]!="object"?a.length===3?new fe(a[0],a[1],a[2]):a.length===2?new fe(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new fe(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new fe(a,u,m)}var ke={latLngToPoint:function(a,u){var m=this.projection.project(a),b=this.scale(u);return this.transformation._transform(m,b)},pointToLatLng:function(a,u){var m=this.scale(u),b=this.transformation.untransform(a,m);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(a),b=this.transformation.transform(u.min,m),S=this.transformation.transform(u.max,m);return new U(b,S)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?_(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?_(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new fe(m,u,b)},wrapLatLngBounds:function(a){var u=a.getCenter(),m=this.wrapLatLng(u),b=u.lat-m.lat,S=u.lng-m.lng;if(b===0&&S===0)return a;var C=a.getSouthWest(),z=a.getNorthEast(),G=new fe(C.lat-b,C.lng-S),Y=new fe(z.lat-b,z.lng-S);return new ie(G,Y)}},et=c({},ke,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var m=Math.PI/180,b=a.lat*m,S=u.lat*m,C=Math.sin((u.lat-a.lat)*m/2),z=Math.sin((u.lng-a.lng)*m/2),G=C*C+Math.cos(b)*Math.cos(S)*z*z,Y=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*Y}}),Je=6378137,Yi={R:Je,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,m=this.MAX_LATITUDE,b=Math.max(Math.min(m,a.lat),-m),S=Math.sin(b*u);return new ne(this.R*a.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var u=180/Math.PI;return new fe((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=Je*Math.PI;return new U([-a,-a],[a,a])})()};function Lr(a,u,m,b){if(R(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=m,this._d=b}Lr.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new ne((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function Xi(a,u,m,b){return new Lr(a,u,m,b)}var Ba=c({},et,{code:"EPSG:3857",projection:Yi,transformation:(function(){var a=.5/(Math.PI*Yi.R);return Xi(a,.5,-a,.5)})()}),Ji=c({},Ba,{code:"EPSG:900913"});function Ua(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Ia(a,u){var m="",b,S,C,z,G,Y;for(b=0,C=a.length;b<C;b++){for(G=a[b],S=0,z=G.length;S<z;S++)Y=G[S],m+=(S?"L":"M")+Y.x+" "+Y.y;m+=u?be.svg?"z":"x":""}return m||"M0 0"}var rl=document.documentElement.style,As="ActiveXObject"in window,sl=As&&!document.addEventListener,Va="msLaunchUri"in navigator&&!("documentMode"in document),Rs=yn("webkit"),tu=yn("android"),nu=yn("android 2")||yn("android 3"),dn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ch=tu&&yn("Google")&&dn<537&&!("AudioNode"in window),Ha=!!window.opera,al=!Va&&yn("chrome"),Os=yn("gecko")&&!Rs&&!Ha&&!As,Ah=!al&&yn("safari"),ol=yn("phantom"),iu="OTransition"in rl,Rh=navigator.platform.indexOf("Win")===0,Pr=As&&"transition"in rl,Jt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!nu,ci="MozPerspective"in rl,hn=!window.L_DISABLE_3D&&(Pr||Jt||ci)&&!iu&&!ol,ks=typeof orientation<"u"||yn("mobile"),Oh=ks&&Rs,kh=ks&&Jt,Ls=!window.PointerEvent&&window.MSPointerEvent,Ps=!!(window.PointerEvent||Ls),Ms="ontouchstart"in window||!!window.TouchEvent,Qi=!window.L_NO_TOUCH&&(Ms||Ps),$a=ks&&Ha,Ds=ks&&Os,Lh=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ru=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",w,u),window.removeEventListener("testPassiveEventSupport",w,u)}catch{}return a})(),ll=(function(){return!!document.createElement("canvas").getContext})(),er=!!(document.createElementNS&&Ua("svg").createSVGRect),Ph=!!er&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),su=!er&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),au=navigator.platform.indexOf("Mac")===0,ou=navigator.platform.indexOf("Linux")===0;function yn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var be={ie:As,ielt9:sl,edge:Va,webkit:Rs,android:tu,android23:nu,androidStock:Ch,opera:Ha,chrome:al,gecko:Os,safari:Ah,phantom:ol,opera12:iu,win:Rh,ie3d:Pr,webkit3d:Jt,gecko3d:ci,any3d:hn,mobile:ks,mobileWebkit:Oh,mobileWebkit3d:kh,msPointer:Ls,pointer:Ps,touch:Qi,touchNative:Ms,mobileOpera:$a,mobileGecko:Ds,retina:Lh,passiveEvents:ru,canvas:ll,svg:er,vml:su,inlineSvg:Ph,mac:au,linux:ou},cl=be.msPointer?"MSPointerDown":"pointerdown",ul=be.msPointer?"MSPointerMove":"pointermove",ui=be.msPointer?"MSPointerUp":"pointerup",Mt=be.msPointer?"MSPointerCancel":"pointercancel",Wt={touchstart:cl,touchmove:ul,touchend:ui,touchcancel:Mt},tr={touchstart:Dr,touchmove:Ri,touchend:Ri,touchcancel:Ri},Ai={},lu=!1;function Mh(a,u,m){return u==="touchstart"&&Mr(),tr[u]?(m=tr[u].bind(this,m),a.addEventListener(Wt[u],m,!1),m):(console.warn("wrong event specified:",u),w)}function cu(a,u,m){if(!Wt[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(Wt[u],m,!1)}function zs(a){Ai[a.pointerId]=a}function dl(a){Ai[a.pointerId]&&(Ai[a.pointerId]=a)}function nr(a){delete Ai[a.pointerId]}function Mr(){lu||(document.addEventListener(cl,zs,!0),document.addEventListener(ul,dl,!0),document.addEventListener(ui,nr,!0),document.addEventListener(Mt,nr,!0),lu=!0)}function Ri(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in Ai)u.touches.push(Ai[m]);u.changedTouches=[u],a(u)}}function Dr(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Nt(u),Ri(a,u)}function Dt(a){var u={},m,b;for(b in a)m=a[b],u[b]=m&&m.bind?m.bind(a):m;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var uu=200;function du(a,u){a.addEventListener("dblclick",u);var m=0,b;function S(C){if(C.detail!==1){b=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var z=qs(C);if(!(z.some(function(Y){return Y instanceof HTMLLabelElement&&Y.attributes.for})&&!z.some(function(Y){return Y instanceof HTMLInputElement||Y instanceof HTMLSelectElement}))){var G=Date.now();G-m<=uu?(b++,b===2&&u(Dt(C))):b=1,m=G}}}return a.addEventListener("click",S),{dblclick:u,simDblclick:S}}function ir(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var Oi=Is(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Bs=Is(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),hl=Bs==="webkitTransition"||Bs==="OTransition"?Bs+"End":"transitionend";function fl(a){return typeof a=="string"?document.getElementById(a):a}function Us(a,u){var m=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);m=b?b[u]:null}return m==="auto"?null:m}function Be(a,u,m){var b=document.createElement(a);return b.className=u||"",m&&m.appendChild(b),b}function rt(a){var u=a.parentNode;u&&u.removeChild(a)}function vn(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function $t(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function rr(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function ml(a,u){if(a.classList!==void 0)return a.classList.contains(u);var m=qa(a);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function Le(a,u){if(a.classList!==void 0)for(var m=A(u),b=0,S=m.length;b<S;b++)a.classList.add(m[b]);else if(!ml(a,u)){var C=qa(a);zr(a,(C?C+" ":"")+u)}}function vt(a,u){a.classList!==void 0?a.classList.remove(u):zr(a,N((" "+qa(a)+" ").replace(" "+u+" "," ")))}function zr(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function qa(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function pt(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&pl(a,u)}function pl(a,u){var m=!1,b="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(b)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):a.style.filter+=" progid:"+b+"(opacity="+u+")"}function Is(a){for(var u=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in u)return a[m];return!1}function di(a,u,m){var b=u||new ne(0,0);a.style[Oi]=(be.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(m?" scale("+m+")":"")}function lt(a,u){a._leaflet_pos=u,be.any3d?di(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function ki(a){return a._leaflet_pos||new ne(0,0)}var Br,Zn,gl;if("onselectstart"in document)Br=function(){Re(window,"selectstart",Nt)},Zn=function(){Qe(window,"selectstart",Nt)};else{var Ur=Is(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Br=function(){if(Ur){var a=document.documentElement.style;gl=a[Ur],a[Ur]="none"}},Zn=function(){Ur&&(document.documentElement.style[Ur]=gl,gl=void 0)}}function Fa(){Re(window,"dragstart",Nt)}function Vs(){Qe(window,"dragstart",Nt)}var Za,yl;function Ir(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(xn(),Za=a,yl=a.style.outlineStyle,a.style.outlineStyle="none",Re(window,"keydown",xn))}function xn(){Za&&(Za.style.outlineStyle=yl,Za=void 0,yl=void 0,Qe(window,"keydown",xn))}function Ga(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Hs(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var Vr={__proto__:null,TRANSFORM:Oi,TRANSITION:Bs,TRANSITION_END:hl,get:fl,getStyle:Us,create:Be,remove:rt,empty:vn,toFront:$t,toBack:rr,hasClass:ml,addClass:Le,removeClass:vt,setClass:zr,getClass:qa,setOpacity:pt,testProp:Is,setTransform:di,setPosition:lt,getPosition:ki,get disableTextSelection(){return Br},get enableTextSelection(){return Zn},disableImageDrag:Fa,enableImageDrag:Vs,preventOutline:Ir,restoreOutline:xn,getSizedParentNode:Ga,getScale:Hs};function Re(a,u,m,b){if(u&&typeof u=="object")for(var S in u)Ln(a,S,u[S],m);else{u=A(u);for(var C=0,z=u.length;C<z;C++)Ln(a,u[C],m,b)}return this}var kn="_leaflet_events";function Qe(a,u,m,b){if(arguments.length===1)vl(a),delete a[kn];else if(u&&typeof u=="object")for(var S in u)$s(a,S,u[S],m);else if(u=A(u),arguments.length===2)vl(a,function(G){return Z(u,G)!==-1});else for(var C=0,z=u.length;C<z;C++)$s(a,u[C],m,b);return this}function vl(a,u){for(var m in a[kn]){var b=m.split(/\d/)[0];(!u||u(b))&&$s(a,b,null,null,m)}}var sr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ln(a,u,m,b){var S=u+g(m)+(b?"_"+g(b):"");if(a[kn]&&a[kn][S])return this;var C=function(G){return m.call(b||a,G||window.event)},z=C;!be.touchNative&&be.pointer&&u.indexOf("touch")===0?C=Mh(a,u,C):be.touch&&u==="dblclick"?C=du(a,C):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(sr[u]||u,C,be.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(C=function(G){G=G||window.event,hi(a,G)&&z(G)},a.addEventListener(sr[u],C,!1)):a.addEventListener(u,z,!1):a.attachEvent("on"+u,C),a[kn]=a[kn]||{},a[kn][S]=C}function $s(a,u,m,b,S){S=S||u+g(m)+(b?"_"+g(b):"");var C=a[kn]&&a[kn][S];if(!C)return this;!be.touchNative&&be.pointer&&u.indexOf("touch")===0?cu(a,u,C):be.touch&&u==="dblclick"?ir(a,C):"removeEventListener"in a?a.removeEventListener(sr[u]||u,C,!1):a.detachEvent("on"+u,C),a[kn][S]=null}function Pn(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Gn(a){return Ln(a,"wheel",Pn),this}function ar(a){return Re(a,"mousedown touchstart dblclick contextmenu",Pn),a._leaflet_disable_click=!0,this}function Nt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Li(a){return Nt(a),Pn(a),this}function qs(a){if(a.composedPath)return a.composedPath();for(var u=[],m=a.target;m;)u.push(m),m=m.parentNode;return u}function Fs(a,u){if(!u)return new ne(a.clientX,a.clientY);var m=Hs(u),b=m.boundingClientRect;return new ne((a.clientX-b.left)/m.x-u.clientLeft,(a.clientY-b.top)/m.y-u.clientTop)}var hu=be.linux&&be.chrome?window.devicePixelRatio:be.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qt(a){return be.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/hu:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function hi(a,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var Wa={__proto__:null,on:Re,off:Qe,stopPropagation:Pn,disableScrollPropagation:Gn,disableClickPropagation:ar,preventDefault:Nt,stop:Li,getPropagationPath:qs,getMousePosition:Fs,getWheelDelta:Qt,isExternalTarget:hi,addListener:Re,removeListener:Qe},Hr=oe.extend({run:function(a,u,m,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=ki(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Te(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var m=this._startPos.add(this._offset.multiplyBy(a));u&&m._round(),lt(this._el,m),this.fire("step")},_complete:function(){Ne(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),He=oe.extend({options:{crs:Ba,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=k(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(pe(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Bs&&be.any3d&&!be.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Re(this._proxy,hl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(pe(a),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=c({animate:m.animate},m.zoom),m.pan=c({animate:m.animate,duration:m.duration},m.pan));var b=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,m.zoom):this._tryAnimatedPan(a,m.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,m){var b=this.getZoomScale(u),S=this.getSize().divideBy(2),C=a instanceof ne?a:this.latLngToContainerPoint(a),z=C.subtract(S).multiplyBy(1-1/b),G=this.containerPointToLatLng(S.add(z));return this.setView(G,u,{zoom:m})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():ue(a);var m=ce(u.paddingTopLeft||u.padding||[0,0]),b=ce(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(a,!1,m.add(b));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var C=b.subtract(m).divideBy(2),z=this.project(a.getSouthWest(),S),G=this.project(a.getNorthEast(),S),Y=this.unproject(z.add(G).divideBy(2).add(C),S);return{center:Y,zoom:S}},fitBounds:function(a,u){if(a=ue(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=ce(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Hr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Le(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,m){if(m=m||{},m.animate===!1||!be.any3d)return this.setView(a,u,m);this._stop();var b=this.project(this.getCenter()),S=this.project(a),C=this.getSize(),z=this._zoom;a=pe(a),u=u===void 0?z:u;var G=Math.max(C.x,C.y),Y=G*this.getZoomScale(z,u),se=S.distanceTo(b)||1,de=1.42,_e=de*de;function De(wt){var gi=wt?-1:1,ur=wt?Y:G,Ll=Y*Y-G*G+gi*_e*_e*se*se,oa=2*ur*_e*se,la=Ll/oa,Hi=Math.sqrt(la*la+1)-la,yi=Hi<1e-9?-18:Math.log(Hi);return yi}function qt(wt){return(Math.exp(wt)-Math.exp(-wt))/2}function Ct(wt){return(Math.exp(wt)+Math.exp(-wt))/2}function mn(wt){return qt(wt)/Ct(wt)}var Ze=De(0);function Ge(wt){return G*(Ct(Ze)/Ct(Ze+de*wt))}function Ue(wt){return G*(Ct(Ze)*mn(Ze+de*wt)-qt(Ze))/_e}function Ii(wt){return 1-Math.pow(1-wt,1.5)}var Sn=Date.now(),lo=(De(1)-Ze)/de,Vi=m.duration?1e3*m.duration:1e3*lo*.8;function kl(){var wt=(Date.now()-Sn)/Vi,gi=Ii(wt)*lo;wt<=1?(this._flyToFrame=Te(kl,this),this._move(this.unproject(b.add(S.subtract(b).multiplyBy(Ue(gi)/se)),z),this.getScaleZoom(G/Ge(gi),z),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),kl.call(this),this},flyToBounds:function(a,u){var m=this._getBoundsCenterZoom(a,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(a){return a=ue(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var m=this.getCenter(),b=this._limitCenter(m,this._zoom,ue(a));return m.equals(b)||this.panTo(b,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var m=ce(u.paddingTopLeft||u.padding||[0,0]),b=ce(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),C=this.project(a),z=this.getPixelBounds(),G=Q([z.min.add(m),z.max.subtract(b)]),Y=G.getSize();if(!G.contains(C)){this._enforcingBounds=!0;var se=C.subtract(G.getCenter()),de=G.extend(C).getSize().subtract(Y);S.x+=se.x<0?-de.x:de.x,S.y+=se.y<0?-de.y:de.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=c({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),b=u.divideBy(2).round(),S=m.divideBy(2).round(),C=b.subtract(S);return!C.x&&!C.y?this:(a.animate&&a.pan?this.panBy(C):(a.pan&&this._rawPanBy(C),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=c({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,a):navigator.geolocation.getCurrentPosition(u,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,m=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,m=a.coords.longitude,b=new fe(u,m),S=b.toBounds(a.coords.accuracy*2),C=this._locateOptions;if(C.setView){var z=this.getBoundsZoom(S);this.setView(b,C.maxZoom?Math.min(z,C.maxZoom):z)}var G={latlng:b,bounds:S,timestamp:a.timestamp};for(var Y in a.coords)typeof a.coords[Y]=="number"&&(G[Y]=a.coords[Y]);this.fire("locationfound",G)}},addHandler:function(a,u){if(!u)return this;var m=this[a]=new u(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),rt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ne(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)rt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=Be("div",m,u||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new ie(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,m){a=ue(a),m=ce(m||[0,0]);var b=this.getZoom()||0,S=this.getMinZoom(),C=this.getMaxZoom(),z=a.getNorthWest(),G=a.getSouthEast(),Y=this.getSize().subtract(m),se=Q(this.project(G,b),this.project(z,b)).getSize(),de=be.any3d?this.options.zoomSnap:1,_e=Y.x/se.x,De=Y.y/se.y,qt=u?Math.max(_e,De):Math.min(_e,De);return b=this.getScaleZoom(qt,b),de&&(b=Math.round(b/(de/100))*(de/100),b=u?Math.ceil(b/de)*de:Math.floor(b/de)*de),Math.max(S,Math.min(C,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var m=this._getTopLeftPoint(a,u);return new U(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(a)/m.scale(u)},getScaleZoom:function(a,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var b=m.zoom(a*m.scale(u));return isNaN(b)?1/0:b},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(pe(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(ce(a),u)},layerPointToLatLng:function(a){var u=ce(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(pe(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(pe(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ue(a))},distance:function(a,u){return this.options.crs.distance(pe(a),pe(u))},containerPointToLayerPoint:function(a){return ce(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return ce(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(ce(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pe(a)))},mouseEventToContainerPoint:function(a){return Fs(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=fl(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Re(u,"scroll",this._onScroll,this),this._containerId=g(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&be.any3d,Le(a,"leaflet-container"+(be.touch?" leaflet-touch":"")+(be.retina?" leaflet-retina":"")+(be.ielt9?" leaflet-oldie":"")+(be.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Us(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),lt(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Le(a.markerPane,"leaflet-zoom-hide"),Le(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,m){lt(this._mapPane,new ne(0,0));var b=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,m)._move(a,u)._moveEnd(S),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,m,b){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?m&&m.pinch&&this.fire("zoom",m):((S||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ne(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){lt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[g(this._container)]=this;var u=a?Qe:Re;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),be.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ne(this._resizeRequest),this._resizeRequest=Te(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var m=[],b,S=u==="mouseout"||u==="mouseover",C=a.target||a.srcElement,z=!1;C;){if(b=this._targets[g(C)],b&&(u==="click"||u==="preclick")&&this._draggableMoved(b)){z=!0;break}if(b&&b.listens(u,!0)&&(S&&!hi(C,a)||(m.push(b),S))||C===this._container)break;C=C.parentNode}return!m.length&&!z&&!S&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var m=a.type;m==="mousedown"&&Ir(u),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,m){if(a.type==="click"){var b=c({},a);b.type="preclick",this._fireDOMEvent(b,b.type,m)}var S=this._findEventTargets(a,u);if(m){for(var C=[],z=0;z<m.length;z++)m[z].listens(u,!0)&&C.push(m[z]);S=C.concat(S)}if(S.length){u==="contextmenu"&&Nt(a);var G=S[0],Y={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var se=G.getLatLng&&(!G._radius||G._radius<=10);Y.containerPoint=se?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(a),Y.layerPoint=this.containerPointToLayerPoint(Y.containerPoint),Y.latlng=se?G.getLatLng():this.layerPointToLatLng(Y.layerPoint)}for(z=0;z<S.length;z++)if(S[z].fire(u,Y,!0),Y.originalEvent._stopped||S[z].options.bubblingMouseEvents===!1&&Z(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return ki(this._mapPane)||new ne(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var m=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var m=this.getSize()._divideBy(2);return this.project(a,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,m){var b=this._getNewPixelOrigin(m,u);return this.project(a,u)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,u,m){var b=this._getNewPixelOrigin(m,u);return Q([this.project(a.getSouthWest(),u)._subtract(b),this.project(a.getNorthWest(),u)._subtract(b),this.project(a.getSouthEast(),u)._subtract(b),this.project(a.getNorthEast(),u)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,m){if(!m)return a;var b=this.project(a,u),S=this.getSize().divideBy(2),C=new U(b.subtract(S),b.add(S)),z=this._getBoundsOffset(C,m,u);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?a:this.unproject(b.add(z),u)},_limitOffset:function(a,u){if(!u)return a;var m=this.getPixelBounds(),b=new U(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(b,u))},_getBoundsOffset:function(a,u,m){var b=Q(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),S=b.min.subtract(a.min),C=b.max.subtract(a.max),z=this._rebound(S.x,-C.x),G=this._rebound(S.y,-C.y);return new ne(z,G)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),m=this.getMaxZoom(),b=be.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(u,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var m=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var a=this._proxy=Be("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var m=Oi,b=this._proxy.style[m];di(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),b===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){rt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();di(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(u),S=this._getCenterOffset(a)._divideBy(1-1/b);return m.animate!==!0&&!this.getSize().contains(S)?!1:(Te(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,m,b){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,Le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function xl(a,u){return new He(a,u)}var fn=Fe.extend({options:{position:"topright"},initialize:function(a){k(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),m=this.getPosition(),b=a._controlCorners[m];return Le(u,"leaflet-control"),m.indexOf("bottom")!==-1?b.insertBefore(u,b.firstChild):b.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(rt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),fi=function(a){return new fn(a)};He.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",m=this._controlContainer=Be("div",u+"control-container",this._container);function b(S,C){var z=u+S+" "+u+C;a[S+C]=Be("div",z,m)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)rt(this._controlCorners[a]);rt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zs=fn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,m,b){return m<b?-1:b<m?1:0}},initialize:function(a,u,m){k(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in u)this._addLayer(u[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return fn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(g(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=Be("div",a),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),ar(u),Gn(u);var b=this._section=Be("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Re(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=Be("a",a+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),Re(S,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){Nt(C),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Be("div",a+"-base",b),this._separator=Be("div",a+"-separator",b),this._overlaysList=Be("div",a+"-overlays",b),u.appendChild(b)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&g(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(b,S){return this.options.sortFunction(b.layer,S.layer,b.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;vn(this._baseLayersList),vn(this._overlaysList),this._layerControlInputs=[];var a,u,m,b,S=0;for(m=0;m<this._layers.length;m++)b=this._layers[m],this._addItem(b),u=u||b.overlay,a=a||!b.overlay,S+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(g(a.target)),m=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(a,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=m,b.firstChild},_addItem:function(a){var u=document.createElement("label"),m=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=m):b=this._createRadioElement("leaflet-base-layers_"+g(this),m),this._layerControlInputs.push(b),b.layerId=g(a.layer),Re(b,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var C=document.createElement("span");u.appendChild(C),C.appendChild(b),C.appendChild(S);var z=a.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,m,b=[],S=[];this._handlingClick=!0;for(var C=a.length-1;C>=0;C--)u=a[C],m=this._getLayer(u.layerId).layer,u.checked?b.push(m):u.checked||S.push(m);for(C=0;C<S.length;C++)this._map.hasLayer(S[C])&&this._map.removeLayer(S[C]);for(C=0;C<b.length;C++)this._map.hasLayer(b[C])||this._map.addLayer(b[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,m,b=this._map.getZoom(),S=a.length-1;S>=0;S--)u=a[S],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&b<m.options.minZoom||m.options.maxZoom!==void 0&&b>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Re(a,"click",Nt),this.expand();var u=this;setTimeout(function(){Qe(a,"click",Nt),u._preventClick=!1})}}),fu=function(a,u,m){return new Zs(a,u,m)},bl=fn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",m=Be("div",u+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,m,b,S){var C=Be("a",m,b);return C.innerHTML=a,C.href="#",C.title=u,C.setAttribute("role","button"),C.setAttribute("aria-label",u),ar(C),Re(C,"click",Li),Re(C,"click",S,this),Re(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";vt(this._zoomInButton,u),vt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Le(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Le(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});He.mergeOptions({zoomControl:!0}),He.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new bl,this.addControl(this.zoomControl))});var Dh=function(a){return new bl(a)},mu=fn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",m=Be("div",u),b=this.options;return this._addScales(b,u+"-line",m),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,m){a.metric&&(this._mScale=Be("div",u,m)),a.imperial&&(this._iScale=Be("div",u,m))},_update:function(){var a=this._map,u=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/a)},_updateImperial:function(a){var u=a*3.2808399,m,b,S;u>5280?(m=u/5280,b=this._getRoundNum(m),this._updateScale(this._iScale,b+" mi",b/m)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(a,u,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),m=a/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),_l=function(a){return new mu(a)},zh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',wl=fn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(be.inlineSvg?zh+" ":"")+"Leaflet</a>"},initialize:function(a){k(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Be("div","leaflet-control-attribution"),ar(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});He.mergeOptions({attributionControl:!0}),He.addInitHook(function(){this.options.attributionControl&&new wl().addTo(this)});var Bh=function(a){return new wl(a)};fn.Layers=Zs,fn.Zoom=bl,fn.Scale=mu,fn.Attribution=wl,fi.layers=fu,fi.zoom=Dh,fi.scale=_l,fi.attribution=Bh;var Wn=Fe.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wn.addTo=function(a,u){return a.addHandler(u,this),this};var Uh={Events:$},Sl=be.touch?"touchstart mousedown":"mousedown",Pi=oe.extend({options:{clickTolerance:3},initialize:function(a,u,m,b){k(this,b),this._element=a,this._dragStartTarget=u||a,this._preventOutline=m},enable:function(){this._enabled||(Re(this._dragStartTarget,Sl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pi._dragging===this&&this.finishDrag(!0),Qe(this._dragStartTarget,Sl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!ml(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Pi._dragging===this&&this.finishDrag();return}if(!(Pi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Pi._dragging=this,this._preventOutline&&Ir(this._element),Fa(),Br(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,m=Ga(this._element);this._startPoint=new ne(u.clientX,u.clientY),this._startPos=ki(this._element),this._parentScale=Hs(m);var b=a.type==="mousedown";Re(document,b?"mousemove":"touchmove",this._onMove,this),Re(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,m=new ne(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Nt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Le(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),lt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Qe(document,"mousemove touchmove",this._onMove,this),Qe(document,"mouseup touchend touchcancel",this._onUp,this),Vs(),Zn();var u=this._moved&&this._moving;this._moving=!1,Pi._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function pu(a,u,m){var b,S=[1,4,2,8],C,z,G,Y,se,de,_e,De;for(C=0,de=a.length;C<de;C++)a[C]._code=or(a[C],u);for(G=0;G<4;G++){for(_e=S[G],b=[],C=0,de=a.length,z=de-1;C<de;z=C++)Y=a[C],se=a[z],Y._code&_e?se._code&_e||(De=Ka(se,Y,_e,u,m),De._code=or(De,u),b.push(De)):(se._code&_e&&(De=Ka(se,Y,_e,u,m),De._code=or(De,u),b.push(De)),b.push(Y));a=b}return a}function gu(a,u){var m,b,S,C,z,G,Y,se,de;if(!a||a.length===0)throw new Error("latlngs not passed");bn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var _e=pe([0,0]),De=ue(a),qt=De.getNorthWest().distanceTo(De.getSouthWest())*De.getNorthEast().distanceTo(De.getNorthWest());qt<1700&&(_e=jl(a));var Ct=a.length,mn=[];for(m=0;m<Ct;m++){var Ze=pe(a[m]);mn.push(u.project(pe([Ze.lat-_e.lat,Ze.lng-_e.lng])))}for(G=Y=se=0,m=0,b=Ct-1;m<Ct;b=m++)S=mn[m],C=mn[b],z=S.y*C.x-C.y*S.x,Y+=(S.x+C.x)*z,se+=(S.y+C.y)*z,G+=z*3;G===0?de=mn[0]:de=[Y/G,se/G];var Ge=u.unproject(ce(de));return pe([Ge.lat+_e.lat,Ge.lng+_e.lng])}function jl(a){for(var u=0,m=0,b=0,S=0;S<a.length;S++){var C=pe(a[S]);u+=C.lat,m+=C.lng,b++}return pe([u/b,m/b])}var Tl={__proto__:null,clipPolygon:pu,polygonCenter:gu,centroid:jl};function yu(a,u){if(!u||!a.length)return a.slice();var m=u*u;return a=Vh(a,m),a=xu(a,m),a}function vu(a,u,m){return Math.sqrt(Gs(a,u,m,!0))}function Ih(a,u,m){return Gs(a,u,m)}function xu(a,u){var m=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,S=new b(m);S[0]=S[m-1]=1,El(a,S,u,0,m-1);var C,z=[];for(C=0;C<m;C++)S[C]&&z.push(a[C]);return z}function El(a,u,m,b,S){var C=0,z,G,Y;for(G=b+1;G<=S-1;G++)Y=Gs(a[G],a[b],a[S],!0),Y>C&&(z=G,C=Y);C>m&&(u[z]=1,El(a,u,m,b,z),El(a,u,m,z,S))}function Vh(a,u){for(var m=[a[0]],b=1,S=0,C=a.length;b<C;b++)Hh(a[b],a[S])>u&&(m.push(a[b]),S=b);return S<C-1&&m.push(a[C-1]),m}var bu;function _u(a,u,m,b,S){var C=b?bu:or(a,m),z=or(u,m),G,Y,se;for(bu=z;;){if(!(C|z))return[a,u];if(C&z)return!1;G=C||z,Y=Ka(a,u,G,m,S),se=or(Y,m),G===C?(a=Y,C=se):(u=Y,z=se)}}function Ka(a,u,m,b,S){var C=u.x-a.x,z=u.y-a.y,G=b.min,Y=b.max,se,de;return m&8?(se=a.x+C*(Y.y-a.y)/z,de=Y.y):m&4?(se=a.x+C*(G.y-a.y)/z,de=G.y):m&2?(se=Y.x,de=a.y+z*(Y.x-a.x)/C):m&1&&(se=G.x,de=a.y+z*(G.x-a.x)/C),new ne(se,de,S)}function or(a,u){var m=0;return a.x<u.min.x?m|=1:a.x>u.max.x&&(m|=2),a.y<u.min.y?m|=4:a.y>u.max.y&&(m|=8),m}function Hh(a,u){var m=u.x-a.x,b=u.y-a.y;return m*m+b*b}function Gs(a,u,m,b){var S=u.x,C=u.y,z=m.x-S,G=m.y-C,Y=z*z+G*G,se;return Y>0&&(se=((a.x-S)*z+(a.y-C)*G)/Y,se>1?(S=m.x,C=m.y):se>0&&(S+=z*se,C+=G*se)),z=a.x-S,G=a.y-C,b?z*z+G*G:new ne(S,C)}function bn(a){return!R(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function Ya(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bn(a)}function $r(a,u){var m,b,S,C,z,G,Y,se;if(!a||a.length===0)throw new Error("latlngs not passed");bn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var de=pe([0,0]),_e=ue(a),De=_e.getNorthWest().distanceTo(_e.getSouthWest())*_e.getNorthEast().distanceTo(_e.getNorthWest());De<1700&&(de=jl(a));var qt=a.length,Ct=[];for(m=0;m<qt;m++){var mn=pe(a[m]);Ct.push(u.project(pe([mn.lat-de.lat,mn.lng-de.lng])))}for(m=0,b=0;m<qt-1;m++)b+=Ct[m].distanceTo(Ct[m+1])/2;if(b===0)se=Ct[0];else for(m=0,C=0;m<qt-1;m++)if(z=Ct[m],G=Ct[m+1],S=z.distanceTo(G),C+=S,C>b){Y=(C-b)/S,se=[G.x-Y*(G.x-z.x),G.y-Y*(G.y-z.y)];break}var Ze=u.unproject(ce(se));return pe([Ze.lat+de.lat,Ze.lng+de.lng])}var $h={__proto__:null,simplify:yu,pointToSegmentDistance:vu,closestPointOnSegment:Ih,clipSegment:_u,_getEdgeIntersection:Ka,_getBitCode:or,_sqClosestPointOnSegment:Gs,isFlat:bn,_flat:Ya,polylineCenter:$r},Xa={project:function(a){return new ne(a.lng,a.lat)},unproject:function(a){return new fe(a.y,a.x)},bounds:new U([-180,-90],[180,90])},Ja={R:6378137,R_MINOR:6356752314245179e-9,bounds:new U([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,m=this.R,b=a.lat*u,S=this.R_MINOR/m,C=Math.sqrt(1-S*S),z=C*Math.sin(b),G=Math.tan(Math.PI/4-b/2)/Math.pow((1-z)/(1+z),C/2);return b=-m*Math.log(Math.max(G,1e-10)),new ne(a.lng*u*m,b)},unproject:function(a){for(var u=180/Math.PI,m=this.R,b=this.R_MINOR/m,S=Math.sqrt(1-b*b),C=Math.exp(-a.y/m),z=Math.PI/2-2*Math.atan(C),G=0,Y=.1,se;G<15&&Math.abs(Y)>1e-7;G++)se=S*Math.sin(z),se=Math.pow((1-se)/(1+se),S/2),Y=Math.PI/2-2*Math.atan(C*se)-z,z+=Y;return new fe(z*u,a.x*u/m)}},wu={__proto__:null,LonLat:Xa,Mercator:Ja,SphericalMercator:Yi},Su=c({},et,{code:"EPSG:3395",projection:Ja,transformation:(function(){var a=.5/(Math.PI*Ja.R);return Xi(a,.5,-a,.5)})()}),Nl=c({},et,{code:"EPSG:4326",projection:Xa,transformation:Xi(1/180,1,-1/180,.5)}),qr=c({},ke,{projection:Xa,transformation:Xi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var m=u.lng-a.lng,b=u.lat-a.lat;return Math.sqrt(m*m+b*b)},infinite:!0});ke.Earth=et,ke.EPSG3395=Su,ke.EPSG3857=Ba,ke.EPSG900913=Ji,ke.EPSG4326=Nl,ke.Simple=qr;var Mn=oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[g(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[g(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});He.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=g(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=g(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return g(a)in this._layers},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},_addLayers:function(a){a=a?R(a)?a:[a]:[];for(var u=0,m=a.length;u<m;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[g(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=g(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,m=this._getZoomSpan();for(var b in this._zoomBoundLayers){var S=this._zoomBoundLayers[b].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Fr=Mn.extend({initialize:function(a,u){k(this,u),this._layers={};var m,b;if(a)for(m=0,b=a.length;m<b;m++)this.addLayer(a[m])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),m,b;for(m in this._layers)b=this._layers[m],b[a]&&b[a].apply(b,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return g(a)}}),qh=function(a,u){return new Fr(a,u)},Kn=Fr.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Fr.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Fr.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ie;for(var u in this._layers){var m=this._layers[u];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),ju=function(a,u){return new Kn(a,u)},Yn=Fe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){k(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,u){var m=this.options,b=m[u+"Size"];typeof b=="number"&&(b=[b,b]);var S=ce(b),C=ce(u==="shadow"&&m.shadowAnchor||m.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(m.className||""),C&&(a.style.marginLeft=-C.x+"px",a.style.marginTop=-C.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return be.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Ws(a){return new Yn(a)}var Ks=Yn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ks.imagePath!="string"&&(Ks.imagePath=this._detectIconPath()),(this.options.imagePath||Ks.imagePath)+Yn.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(m,b,S){var C=b.exec(m);return C&&C[S]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Be("div","leaflet-default-icon-path",document.body),u=Us(a,"background-image")||Us(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Ys=Wn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Pi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Le(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,m=u._map,b=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,C=ki(u._icon),z=m.getPixelBounds(),G=m.getPixelOrigin(),Y=Q(z.min._subtract(G).add(S),z.max._subtract(G).subtract(S));if(!Y.contains(C)){var se=ce((Math.max(Y.max.x,C.x)-Y.max.x)/(z.max.x-Y.max.x)-(Math.min(Y.min.x,C.x)-Y.min.x)/(z.min.x-Y.min.x),(Math.max(Y.max.y,C.y)-Y.max.y)/(z.max.y-Y.max.y)-(Math.min(Y.min.y,C.y)-Y.min.y)/(z.min.y-Y.min.y)).multiplyBy(b);m.panBy(se,{animate:!1}),this._draggable._newPos._add(se),this._draggable._startPos._add(se),lt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=Te(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Ne(this._panRequest),this._panRequest=Te(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,m=u._shadow,b=ki(u._icon),S=u._map.layerPointToLatLng(b);m&&lt(m,b),u._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Ne(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Xs=Mn.extend({options:{icon:new Ks,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){k(this,u),this._latlng=pe(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=pe(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),b=!1;m!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),Le(m,u),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(m,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),C=!1;S!==this._shadow&&(this._removeShadow(),C=!0),S&&(Le(S,u),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&C&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qe(this._icon,"focus",this._panOnFocus,this),rt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&rt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&lt(this._icon,a),this._shadow&&lt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ys)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ys(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&pt(this._icon,a),this._shadow&&pt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,m=u.iconSize?ce(u.iconSize):ce(0,0),b=u.iconAnchor?ce(u.iconAnchor):ce(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:m.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Tu(a,u){return new Xs(a,u)}var Xn=Mn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return k(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Zr=Xn.extend({options:{fill:!0,radius:10},initialize:function(a,u){k(this,u),this._latlng=pe(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=pe(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return Xn.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,m=this._clickTolerance(),b=[a+m,u+m];this._pxBounds=new U(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Eu(a,u){return new Zr(a,u)}var Qa=Zr.extend({initialize:function(a,u,m){if(typeof u=="number"&&(u=c({},m,{radius:u})),k(this,u),this._latlng=pe(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Xn.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,m=this._map,b=m.options.crs;if(b.distance===et.distance){var S=Math.PI/180,C=this._mRadius/et.R/S,z=m.project([u+C,a]),G=m.project([u-C,a]),Y=z.add(G).divideBy(2),se=m.unproject(Y).lat,de=Math.acos((Math.cos(C*S)-Math.sin(u*S)*Math.sin(se*S))/(Math.cos(u*S)*Math.cos(se*S)))/S;(isNaN(de)||de===0)&&(de=C/Math.cos(Math.PI/180*u)),this._point=Y.subtract(m.getPixelOrigin()),this._radius=isNaN(de)?0:Y.x-m.project([se,a-de]).x,this._radiusY=Y.y-z.y}else{var _e=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(_e).x}this._updateBounds()}});function Nu(a,u,m){return new Qa(a,u,m)}var mi=Xn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){k(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,m=null,b=Gs,S,C,z=0,G=this._parts.length;z<G;z++)for(var Y=this._parts[z],se=1,de=Y.length;se<de;se++){S=Y[se-1],C=Y[se];var _e=b(a,S,C,!0);_e<u&&(u=_e,m=b(a,S,C))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $r(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=pe(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ie,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return bn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],m=bn(a),b=0,S=a.length;b<S;b++)m?(u[b]=pe(a[b]),this._bounds.extend(u[b])):u[b]=this._convertLatLngs(a[b]);return u},_project:function(){var a=new U;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new ne(a,a);this._rawPxBounds&&(this._pxBounds=new U([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,m){var b=a[0]instanceof fe,S=a.length,C,z;if(b){for(z=[],C=0;C<S;C++)z[C]=this._map.latLngToLayerPoint(a[C]),m.extend(z[C]);u.push(z)}else for(C=0;C<S;C++)this._projectLatlngs(a[C],u,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,b,S,C,z,G,Y;for(m=0,S=0,C=this._rings.length;m<C;m++)for(Y=this._rings[m],b=0,z=Y.length;b<z-1;b++)G=_u(Y[b],Y[b+1],a,b,!0),G&&(u[S]=u[S]||[],u[S].push(G[0]),(G[1]!==Y[b+1]||b===z-2)&&(u[S].push(G[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,m=0,b=a.length;m<b;m++)a[m]=yu(a[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var m,b,S,C,z,G,Y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,C=this._parts.length;m<C;m++)for(G=this._parts[m],b=0,z=G.length,S=z-1;b<z;S=b++)if(!(!u&&b===0)&&vu(a,G[S],G[b])<=Y)return!0;return!1}});function Fh(a,u){return new mi(a,u)}mi._flat=Ya;var Gr=mi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=mi.prototype._convertLatLngs.call(this,a),m=u.length;return m>=2&&u[0]instanceof fe&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(a){mi.prototype._setLatLngs.call(this,a),bn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,m=new ne(u,u);if(a=new U(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,S=this._rings.length,C;b<S;b++)C=pu(this._rings[b],a,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,m,b,S,C,z,G,Y,se;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(C=0,Y=this._parts.length;C<Y;C++)for(m=this._parts[C],z=0,se=m.length,G=se-1;z<se;G=z++)b=m[z],S=m[G],b.y>a.y!=S.y>a.y&&a.x<(S.x-b.x)*(a.y-b.y)/(S.y-b.y)+b.x&&(u=!u);return u||mi.prototype._containsPoint.call(this,a,!0)}});function Zh(a,u){return new Gr(a,u)}var pi=Kn.extend({initialize:function(a,u){k(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=R(a)?a:a.features,m,b,S;if(u){for(m=0,b=u.length;m<b;m++)S=u[m],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var C=this.options;if(C.filter&&!C.filter(a))return this;var z=Kt(a,C);return z?(z.feature=no(a),z.defaultOptions=z.options,this.resetStyle(z),C.onEachFeature&&C.onEachFeature(a,z),this.addLayer(z)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=c({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function Kt(a,u){var m=a.type==="Feature"?a.geometry:a,b=m?m.coordinates:null,S=[],C=u&&u.pointToLayer,z=u&&u.coordsToLatLng||eo,G,Y,se,de;if(!b&&!m)return null;switch(m.type){case"Point":return G=z(b),Wr(C,a,G,u);case"MultiPoint":for(se=0,de=b.length;se<de;se++)G=z(b[se]),S.push(Wr(C,a,G,u));return new Kn(S);case"LineString":case"MultiLineString":return Y=Js(b,m.type==="LineString"?0:1,z),new mi(Y,u);case"Polygon":case"MultiPolygon":return Y=Js(b,m.type==="Polygon"?1:2,z),new Gr(Y,u);case"GeometryCollection":for(se=0,de=m.geometries.length;se<de;se++){var _e=Kt({geometry:m.geometries[se],type:"Feature",properties:a.properties},u);_e&&S.push(_e)}return new Kn(S);case"FeatureCollection":for(se=0,de=m.features.length;se<de;se++){var De=Kt(m.features[se],u);De&&S.push(De)}return new Kn(S);default:throw new Error("Invalid GeoJSON object.")}}function Wr(a,u,m,b){return a?a(u,m):new Xs(m,b&&b.markersInheritOptions&&b)}function eo(a){return new fe(a[1],a[0],a[2])}function Js(a,u,m){for(var b=[],S=0,C=a.length,z;S<C;S++)z=u?Js(a[S],u-1,m):(m||eo)(a[S]),b.push(z);return b}function to(a,u){return a=pe(a),a.alt!==void 0?[E(a.lng,u),E(a.lat,u),E(a.alt,u)]:[E(a.lng,u),E(a.lat,u)]}function Qs(a,u,m,b){for(var S=[],C=0,z=a.length;C<z;C++)S.push(u?Qs(a[C],bn(a[C])?0:u-1,m,b):to(a[C],b));return!u&&m&&S.length>0&&S.push(S[0].slice()),S}function Mi(a,u){return a.feature?c({},a.feature,{geometry:u}):no(u)}function no(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Di={toGeoJSON:function(a){return Mi(this,{type:"Point",coordinates:to(this.getLatLng(),a)})}};Xs.include(Di),Qa.include(Di),Zr.include(Di),mi.include({toGeoJSON:function(a){var u=!bn(this._latlngs),m=Qs(this._latlngs,u?1:0,!1,a);return Mi(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),Gr.include({toGeoJSON:function(a){var u=!bn(this._latlngs),m=u&&!bn(this._latlngs[0]),b=Qs(this._latlngs,m?2:u?1:0,!0,a);return u||(b=[b]),Mi(this,{type:(m?"Multi":"")+"Polygon",coordinates:b})}}),Fr.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(a).geometry.coordinates)}),Mi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var m=u==="GeometryCollection",b=[];return this.eachLayer(function(S){if(S.toGeoJSON){var C=S.toGeoJSON(a);if(m)b.push(C.geometry);else{var z=no(C);z.type==="FeatureCollection"?b.push.apply(b,z.features):b.push(z)}}}),m?Mi(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function io(a,u){return new pi(a,u)}var ea=io,Kr=Mn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,m){this._url=a,this._bounds=ue(u),k(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){rt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&$t(this._image),this},bringToBack:function(){return this._map&&rr(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ue(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:Be("img");if(Le(u,"leaflet-image-layer"),this._zoomAnimated&&Le(u,"leaflet-zoom-animated"),this.options.className&&Le(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onload=f(this.fire,this,"load"),u.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;di(this._image,m,u)},_reset:function(){var a=this._image,u=new U(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();lt(a,u.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){pt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Cu=function(a,u,m){return new Kr(a,u,m)},zi=Kr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:Be("video");if(Le(u,"leaflet-image-layer"),this._zoomAnimated&&Le(u,"leaflet-zoom-animated"),this.options.className&&Le(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onloadeddata=f(this.fire,this,"load"),a){for(var m=u.getElementsByTagName("source"),b=[],S=0;S<m.length;S++)b.push(m[S].src);this._url=m.length>0?b:[u.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var z=Be("source");z.src=this._url[C],u.appendChild(z)}}});function Yr(a,u,m){return new zi(a,u,m)}var ro=Kr.extend({_initImage:function(){var a=this._image=this._url;Le(a,"leaflet-image-layer"),this._zoomAnimated&&Le(a,"leaflet-zoom-animated"),this.options.className&&Le(a,this.options.className),a.onselectstart=w,a.onmousemove=w}});function Au(a,u,m){return new ro(a,u,m)}var Yt=Mn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof fe||R(a))?(this._latlng=pe(a),k(this,u)):(k(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&pt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&pt(this._container,1),this.bringToFront(),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(pt(this._container,0),this._removeTimeout=setTimeout(f(rt,void 0,this._container),200)):rt(this._container),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=pe(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$t(this._container),this},bringToBack:function(){return this._map&&rr(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Kn){u=null;var m=this._source._layers;for(var b in m)if(m[b]._map){u=m[b];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=ce(this.options.offset),m=this._getAnchor();this._zoomAnimated?lt(this._container,a.add(m)):u=u.add(a).add(m);var b=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=b+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});He.include({_initOverlay:function(a,u,m,b){var S=u;return S instanceof a||(S=new a(b).setContent(u)),m&&S.setLatLng(m),S}}),Mn.include({_initOverlay:function(a,u,m,b){var S=m;return S instanceof a?(k(S,b),S._source=this):(S=u&&!b?u:new a(b,this),S.setContent(m)),S}});var ta=Yt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Yt.prototype.openOn.call(this,a)},onAdd:function(a){Yt.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xn||this._source.on("preclick",Pn))},onRemove:function(a){Yt.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xn||this._source.off("preclick",Pn))},getEvents:function(){var a=Yt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=Be("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Be("div",a+"-content-wrapper",u);if(this._contentNode=Be("div",a+"-content",m),ar(u),Gn(this._contentNode),Re(u,"contextmenu",Pn),this._tipContainer=Be("div",a+"-tip-container",u),this._tip=Be("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=Be("a",a+"-close-button",u);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Re(b,"click",function(S){Nt(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var b=a.offsetHeight,S=this.options.maxHeight,C="leaflet-popup-scrolled";S&&b>S?(u.height=S+"px",Le(a,C)):vt(a,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();lt(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(Us(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,b=this._containerWidth,S=new ne(this._containerLeft,-m-this._containerBottom);S._add(ki(this._container));var C=a.layerPointToContainerPoint(S),z=ce(this.options.autoPanPadding),G=ce(this.options.autoPanPaddingTopLeft||z),Y=ce(this.options.autoPanPaddingBottomRight||z),se=a.getSize(),de=0,_e=0;C.x+b+Y.x>se.x&&(de=C.x+b-se.x+Y.x),C.x-de-G.x<0&&(de=C.x-G.x),C.y+m+Y.y>se.y&&(_e=C.y+m-se.y+Y.y),C.y-_e-G.y<0&&(_e=C.y-G.y),(de||_e)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([de,_e]))}},_getAnchor:function(){return ce(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ru=function(a,u){return new ta(a,u)};He.mergeOptions({closePopupOnClick:!0}),He.include({openPopup:function(a,u,m){return this._initOverlay(ta,a,u,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Mn.include({bindPopup:function(a,u){return this._popup=this._initOverlay(ta,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Kn||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Li(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof Xn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var na=Yt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Yt.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Yt.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Yt.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Be("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,m,b=this._map,S=this._container,C=b.latLngToContainerPoint(b.getCenter()),z=b.layerPointToContainerPoint(a),G=this.options.direction,Y=S.offsetWidth,se=S.offsetHeight,de=ce(this.options.offset),_e=this._getAnchor();G==="top"?(u=Y/2,m=se):G==="bottom"?(u=Y/2,m=0):G==="center"?(u=Y/2,m=se/2):G==="right"?(u=0,m=se/2):G==="left"?(u=Y,m=se/2):z.x<C.x?(G="right",u=0,m=se/2):(G="left",u=Y+(de.x+_e.x)*2,m=se/2),a=a.subtract(ce(u,m,!0)).add(de).add(_e),vt(S,"leaflet-tooltip-right"),vt(S,"leaflet-tooltip-left"),vt(S,"leaflet-tooltip-top"),vt(S,"leaflet-tooltip-bottom"),Le(S,"leaflet-tooltip-"+G),lt(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&pt(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return ce(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Gh=function(a,u){return new na(a,u)};He.include({openTooltip:function(a,u,m){return this._initOverlay(na,a,u,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Mn.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(na,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Kn||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Re(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Re(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,m,b;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(u)}});var Ou=Yn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(vn(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var b=ce(m.bgPos);u.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Wh(a){return new Ou(a)}Yn.Default=Ks;var Xr=Mn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:be.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){k(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),rt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($t(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(rr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof ne?a:new ne(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,m=-a(-1/0,1/0),b=0,S=u.length,C;b<S;b++)C=u[b].style.zIndex,u[b]!==this._container&&C&&(m=a(m,+C));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!be.ielt9){pt(this._container,this.options.opacity);var a=+new Date,u=!1,m=!1;for(var b in this._tiles){var S=this._tiles[b];if(!(!S.current||!S.loaded)){var C=Math.min(1,(a-S.loaded)/200);pt(S.el,C),C<1?u=!0:(S.active?m=!0:this._onOpaqueTile(S),S.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(Ne(this._fadeFrame),this._fadeFrame=Te(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Be("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=u-Math.abs(a-m),this._onUpdateLevel(m)):(rt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var b=this._levels[a],S=this._map;return b||(b=this._levels[a]={},b.el=Be("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=u,b.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,S.getCenter(),S.getZoom()),w(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var a,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var b=u.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)rt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,m,b){var S=Math.floor(a/2),C=Math.floor(u/2),z=m-1,G=new ne(+S,+C);G.z=+z;var Y=this._tileCoordsToKey(G),se=this._tiles[Y];return se&&se.active?(se.retain=!0,!0):(se&&se.loaded&&(se.retain=!0),z>b?this._retainParent(S,C,z,b):!1)},_retainChildren:function(a,u,m,b){for(var S=2*a;S<2*a+2;S++)for(var C=2*u;C<2*u+2;C++){var z=new ne(S,C);z.z=m+1;var G=this._tileCoordsToKey(z),Y=this._tiles[G];if(Y&&Y.active){Y.retain=!0;continue}else Y&&Y.loaded&&(Y.retain=!0);m+1<b&&this._retainChildren(S,C,m+1,b)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,m,b){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var C=this.options.updateWhenZooming&&S!==this._tileZoom;(!b||C)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,u)},_setZoomTransform:function(a,u,m){var b=this._map.getZoomScale(m,a.zoom),S=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(u,m)).round();be.any3d?di(a.el,S,b):lt(a.el,S)},_resetGrid:function(){var a=this._map,u=a.options.crs,m=this._tileSize=this.getTileSize(),b=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],b).x/m.x),Math.ceil(a.project([0,u.wrapLng[1]],b).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],b).y/m.x),Math.ceil(a.project([u.wrapLat[1],0],b).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),b=u.getZoomScale(m,this._tileZoom),S=u.project(a,this._tileZoom).floor(),C=u.getSize().divideBy(b*2);return new U(S.subtract(C),S.add(C))},_update:function(a){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(b),C=S.getCenter(),z=[],G=this.options.keepBuffer,Y=new U(S.getBottomLeft().subtract([G,-G]),S.getTopRight().add([G,-G]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var se in this._tiles){var de=this._tiles[se].coords;(de.z!==this._tileZoom||!Y.contains(new ne(de.x,de.y)))&&(this._tiles[se].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var _e=S.min.y;_e<=S.max.y;_e++)for(var De=S.min.x;De<=S.max.x;De++){var qt=new ne(De,_e);if(qt.z=this._tileZoom,!!this._isValidTile(qt)){var Ct=this._tiles[this._tileCoordsToKey(qt)];Ct?Ct.current=!0:z.push(qt)}}if(z.sort(function(Ze,Ge){return Ze.distanceTo(C)-Ge.distanceTo(C)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var mn=document.createDocumentFragment();for(De=0;De<z.length;De++)this._addTile(z[De],mn);this._level.el.appendChild(mn)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!u.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return ue(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,m=this.getTileSize(),b=a.scaleBy(m),S=b.add(m),C=u.unproject(b,a.z),z=u.unproject(S,a.z);return[C,z]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),m=new ie(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),m=new ne(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(a){var u=this._tiles[a];u&&(rt(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Le(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=w,a.onmousemove=w,be.ielt9&&this.options.opacity<1&&pt(a,this.options.opacity)},_addTile:function(a,u){var m=this._getTilePos(a),b=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&Te(f(this._tileReady,this,a,null,S)),lt(S,m),this._tiles[b]={el:S,coords:a,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:a});var b=this._tileCoordsToKey(a);m=this._tiles[b],m&&(m.loaded=+new Date,this._map._fadeAnimated?(pt(m.el,0),Ne(this._fadeFrame),this._fadeFrame=Te(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(Le(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),be.ielt9||!this._map._fadeAnimated?Te(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new ne(this._wrapX?_(a.x,this._wrapX):a.x,this._wrapY?_(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new U(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function ku(a){return new Xr(a)}var Bi=Xr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=k(this,u),u.detectRetina&&be.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var m=document.createElement("img");return Re(m,"load",f(this._tileOnLoad,this,u,m)),Re(m,"error",f(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var u={r:be.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=m),u["-y"]=m}return D(this._url,c(u,this.options))},_tileOnLoad:function(a,u){be.ielt9?setTimeout(f(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,m){var b=this.options.errorTileUrl;b&&u.getAttribute("src")!==b&&(u.src=b),a(m,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,b=this.options.zoomOffset;return m&&(a=u-a),a+b},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=w,u.onerror=w,!u.complete)){u.src=F;var m=this._tiles[a].coords;rt(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",F),Xr.prototype._removeTile.call(this,a)},_tileReady:function(a,u,m){if(!(!this._map||m&&m.getAttribute("src")===F))return Xr.prototype._tileReady.call(this,a,u,m)}});function _n(a,u){return new Bi(a,u)}var ia=Bi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var m=c({},this.defaultWmsParams);for(var b in u)b in this.options||(m[b]=u[b]);u=k(this,u);var S=u.detectRetina&&be.retina?2:1,C=this.getTileSize();m.width=C.x*S,m.height=C.y*S,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Bi.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),m=this._crs,b=Q(m.project(u[0]),m.project(u[1])),S=b.min,C=b.max,z=(this._wmsVersion>=1.3&&this._crs===Nl?[S.y,S.x,C.y,C.x]:[S.x,S.y,C.x,C.y]).join(","),G=Bi.prototype.getTileUrl.call(this,a);return G+P(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(a,u){return c(this.wmsParams,a),u||this.redraw(),this}});function wn(a,u){return new ia(a,u)}Bi.WMS=ia,_n.wms=wn;var on=Mn.extend({options:{padding:.1},initialize:function(a){k(this,a),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var m=this._map.getZoomScale(u,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),C=b.multiplyBy(-m).add(S).subtract(this._map._getNewPixelOrigin(a,u));be.any3d?di(this._container,C,m):lt(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new U(m,m.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),so=on.extend({options:{tolerance:0},getEvents:function(){var a=on.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){on.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Re(a,"mousemove",this._onMouseMove,this),Re(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Re(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Ne(this._redrawRequest),delete this._ctx,rt(this._container),Qe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){on.prototype._update.call(this);var a=this._bounds,u=this._container,m=a.getSize(),b=be.retina?2:1;lt(u,a.min),u.width=b*m.x,u.height=b*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",be.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){on.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[g(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,m=u.next,b=u.prev;m?m.prev=b:this._drawLast=b,b?b.next=m:this._drawFirst=m,delete a._order,delete this._layers[g(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),m=[],b,S;for(S=0;S<u.length;S++){if(b=Number(u[S]),isNaN(b))return;m.push(b)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||Te(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new U,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var m,b,S,C,z=a._parts,G=z.length,Y=this._ctx;if(G){for(Y.beginPath(),m=0;m<G;m++){for(b=0,S=z[m].length;b<S;b++)C=z[m][b],Y[b?"lineTo":"moveTo"](C.x,C.y);u&&Y.closePath()}this._fillStroke(Y,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,m=this._ctx,b=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||b)/b;S!==1&&(m.save(),m.scale(1,S)),m.beginPath(),m.arc(u.x,u.y/S,b,0,Math.PI*2,!1),S!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,u){var m=u.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),m,b,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(b=m);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(vt(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var m,b,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(u)&&(b=m);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(Le(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,m){this._map._fireDOMEvent(u,m||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var m=u.next,b=u.prev;if(m)m.prev=b;else return;b?b.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var m=u.next,b=u.prev;if(b)b.next=m;else return;m?m.prev=b:b&&(this._drawLast=b),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function ra(a){return be.canvas?new so(a):null}var Ui=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Cl={_initContainer:function(){this._container=Be("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(on.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=Ui("shape");Le(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=Ui("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[g(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;rt(u),a.removeInteractiveTarget(u),delete this._layers[g(a)]},_updateStyle:function(a){var u=a._stroke,m=a._fill,b=a.options,S=a._container;S.stroked=!!b.stroke,S.filled=!!b.fill,b.stroke?(u||(u=a._stroke=Ui("stroke")),S.appendChild(u),u.weight=b.weight+"px",u.color=b.color,u.opacity=b.opacity,b.dashArray?u.dashStyle=R(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=b.lineCap.replace("butt","flat"),u.joinstyle=b.lineJoin):u&&(S.removeChild(u),a._stroke=null),b.fill?(m||(m=a._fill=Ui("fill")),S.appendChild(m),m.color=b.fillColor||b.color,m.opacity=b.fillOpacity):m&&(S.removeChild(m),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),m=Math.round(a._radius),b=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+b+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){$t(a._container)},_bringToBack:function(a){rr(a._container)}},Jn=be.vml?Ui:Ua,Jr=on.extend({_initContainer:function(){this._container=Jn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Jn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){rt(this._container),Qe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){on.prototype._update.call(this);var a=this._bounds,u=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),lt(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=Jn("path");a.options.className&&Le(u,a.options.className),a.options.interactive&&Le(u,"leaflet-interactive"),this._updateStyle(a),this._layers[g(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){rt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[g(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,m=a.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,Ia(a._parts,u))},_updateCircle:function(a){var u=a._point,m=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||m,S="a"+m+","+b+" 0 1,0 ",C=a._empty()?"M0 0":"M"+(u.x-m)+","+u.y+S+m*2+",0 "+S+-m*2+",0 ";this._setPath(a,C)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){$t(a._path)},_bringToBack:function(a){rr(a._path)}});be.vml&&Jr.include(Cl);function sa(a){return be.svg||be.vml?new Jr(a):null}He.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&ra(a)||sa(a)}});var lr=Gr.extend({initialize:function(a,u){Gr.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ue(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Kh(a,u){return new lr(a,u)}Jr.create=Jn,Jr.pointsToPath=Ia,pi.geometryToLayer=Kt,pi.coordsToLatLng=eo,pi.coordsToLatLngs=Js,pi.latLngToCoords=to,pi.latLngsToCoords=Qs,pi.getFeature=Mi,pi.asFeature=no,He.mergeOptions({boxZoom:!0});var ln=Wn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Qe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){rt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Br(),Fa(),this._startPoint=this._map.mouseEventToContainerPoint(a),Re(document,{contextmenu:Li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Be("div","leaflet-zoom-box",this._container),Le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new U(this._point,this._startPoint),m=u.getSize();lt(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(rt(this._box),vt(this._container,"leaflet-crosshair")),Zn(),Vs(),Qe(document,{contextmenu:Li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var u=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});He.addInitHook("addHandler","boxZoom",ln),He.mergeOptions({doubleClickZoom:!0});var ao=Wn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,m=u.getZoom(),b=u.options.zoomDelta,S=a.originalEvent.shiftKey?m-b:m+b;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(a.containerPoint,S)}});He.addInitHook("addHandler","doubleClickZoom",ao),He.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Qn=Wn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Pi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=ue(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),m=this._initialWorldOffset,b=this._draggable._newPos.x,S=(b-u+m)%a+u-m,C=(b+u+m)%a-u-m,z=Math.abs(S+m)<Math.abs(C+m)?S:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(a){var u=this._map,m=u.options,b=!m.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),b)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,z=m.easeLinearity,G=S.multiplyBy(z/C),Y=G.distanceTo([0,0]),se=Math.min(m.inertiaMaxSpeed,Y),de=G.multiplyBy(se/Y),_e=se/(m.inertiaDeceleration*z),De=de.multiplyBy(-_e/2).round();!De.x&&!De.y?u.fire("moveend"):(De=u._limitOffset(De,u.options.maxBounds),Te(function(){u.panBy(De,{duration:_e,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});He.addInitHook("addHandler","dragging",Qn),He.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Al=Wn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Re(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Qe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,m=a.scrollTop||u.scrollTop,b=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(b,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},m=this.keyCodes,b,S;for(b=0,S=m.left.length;b<S;b++)u[m.left[b]]=[-1*a,0];for(b=0,S=m.right.length;b<S;b++)u[m.right[b]]=[a,0];for(b=0,S=m.down.length;b<S;b++)u[m.down[b]]=[0,a];for(b=0,S=m.up.length;b<S;b++)u[m.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},m=this.keyCodes,b,S;for(b=0,S=m.zoomIn.length;b<S;b++)u[m.zoomIn[b]]=a;for(b=0,S=m.zoomOut.length;b<S;b++)u[m.zoomOut[b]]=-a},_addHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Qe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,m=this._map,b;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(b=this._panKeys[u],a.shiftKey&&(b=ce(b).multiplyBy(3)),m.options.maxBounds&&(b=m._limitOffset(ce(b),m.options.maxBounds)),m.options.worldCopyJump){var S=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(b)));m.panTo(S)}else m.panBy(b)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Li(a)}}});He.addInitHook("addHandler","keyboard",Al),He.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var aa=Wn.extend({addHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Qe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=Qt(a),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),b),Li(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,C=m?Math.ceil(S/m)*m:S,z=a._limitZoom(u+(this._delta>0?C:-C))-u;this._delta=0,this._startTime=null,z&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+z):a.setZoomAround(this._lastMousePos,u+z))}});He.addInitHook("addHandler","scrollWheelZoom",aa);var cr=600;He.mergeOptions({tapHold:be.touchNative&&be.safari&&be.mobile,tapTolerance:15});var oo=Wn.extend({addHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Qe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new ne(u.clientX,u.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Re(document,"touchend",Nt),Re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),cr),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Qe(document,"touchend",Nt),Qe(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Qe(document,"touchend touchcancel contextmenu",this._cancel,this),Qe(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new ne(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});He.addInitHook("addHandler","tapHold",oo),He.mergeOptions({touchZoom:be.touch,bounceAtZoomLimits:!0});var Rl=Wn.extend({addHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),Qe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(a.touches[0]),b=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(b)._divideBy(2))),this._startDist=m.distanceTo(b),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),Nt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(a.touches[0]),b=u.mouseEventToContainerPoint(a.touches[1]),S=m.distanceTo(b)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var C=m._add(b)._divideBy(2)._subtract(this._centerPoint);if(S===1&&C.x===0&&C.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Ne(this._animRequest);var z=f(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Te(z,this,!0),Nt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ne(this._animRequest),Qe(document,"touchmove",this._onTouchMove,this),Qe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});He.addInitHook("addHandler","touchZoom",Rl),He.BoxZoom=ln,He.DoubleClickZoom=ao,He.Drag=Qn,He.Keyboard=Al,He.ScrollWheelZoom=aa,He.TapHold=oo,He.TouchZoom=Rl,i.Bounds=U,i.Browser=be,i.CRS=ke,i.Canvas=so,i.Circle=Qa,i.CircleMarker=Zr,i.Class=Fe,i.Control=fn,i.DivIcon=Ou,i.DivOverlay=Yt,i.DomEvent=Wa,i.DomUtil=Vr,i.Draggable=Pi,i.Evented=oe,i.FeatureGroup=Kn,i.GeoJSON=pi,i.GridLayer=Xr,i.Handler=Wn,i.Icon=Yn,i.ImageOverlay=Kr,i.LatLng=fe,i.LatLngBounds=ie,i.Layer=Mn,i.LayerGroup=Fr,i.LineUtil=$h,i.Map=He,i.Marker=Xs,i.Mixin=Uh,i.Path=Xn,i.Point=ne,i.PolyUtil=Tl,i.Polygon=Gr,i.Polyline=mi,i.Popup=ta,i.PosAnimation=Hr,i.Projection=wu,i.Rectangle=lr,i.Renderer=on,i.SVG=Jr,i.SVGOverlay=ro,i.TileLayer=Bi,i.Tooltip=na,i.Transformation=Lr,i.Util=it,i.VideoOverlay=zi,i.bind=f,i.bounds=Q,i.canvas=ra,i.circle=Nu,i.circleMarker=Eu,i.control=fi,i.divIcon=Wh,i.extend=c,i.featureGroup=ju,i.geoJSON=io,i.geoJson=ea,i.gridLayer=ku,i.icon=Ws,i.imageOverlay=Cu,i.latLng=pe,i.latLngBounds=ue,i.layerGroup=qh,i.map=xl,i.marker=Tu,i.point=ce,i.polygon=Zh,i.polyline=Fh,i.popup=Ru,i.rectangle=Kh,i.setOptions=k,i.stamp=g,i.svg=sa,i.svgOverlay=Au,i.tileLayer=_n,i.tooltip=Gh,i.transformation=Xi,i.version=s,i.videoOverlay=Yr;var Ol=window.L;i.noConflict=function(){return window.L=Ol,this},window.L=i}))})(xc,xc.exports)),xc.exports}var eu=UO();const o0=z_(eu);function l0(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function c0(e,t){return t==null?function(s,c){const h=T.useRef(void 0);return h.current||(h.current=e(s,c)),h}:function(s,c){const h=T.useRef(void 0);h.current||(h.current=e(s,c));const f=T.useRef(s),{instance:p}=h.current;return T.useEffect(function(){f.current!==s&&(t(p,s,f.current),f.current=s)},[p,s,t]),h}}function IO(e,t){T.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function z2(e){return function(i){const s=M2(),c=e(a0(i,s),s);return P2(s.map,i.attribution),D2(c.current,i.eventHandlers),IO(c.current,s),c}}function VO(e,t){const i=c0(e,t),s=z2(i);return PO(s)}function HO(e,t){const i=c0(e),s=zO(i,t);return MO(s)}function $O(e,t){const i=c0(e,t),s=z2(i);return DO(s)}function qO(e,t,i){const{opacity:s,zIndex:c}=t;s!=null&&s!==i.opacity&&e.setOpacity(s),c!=null&&c!==i.zIndex&&e.setZIndex(c)}function FO({bounds:e,boundsOptions:t,center:i,children:s,className:c,id:h,placeholder:f,style:p,whenReady:g,zoom:x,..._},w){const[E]=T.useState({className:c,id:h,style:p}),[N,A]=T.useState(null),k=T.useRef(void 0);T.useImperativeHandle(w,()=>N?.map??null,[N]);const P=T.useCallback(D=>{if(D!==null&&!k.current){const R=new eu.Map(D,_);k.current=R,i!=null&&x!=null?R.setView(i,x):e!=null&&R.fitBounds(e,t),g!=null&&R.whenReady(g),A(kO(R))}},[]);T.useEffect(()=>()=>{N?.map.remove()},[N]);const M=N?je.createElement(s0,{value:N},s):f??null;return je.createElement("div",{...E,ref:P},M)}const ZO=T.forwardRef(FO),hp=VO(function({position:t,...i},s){const c=new eu.Marker(t,i);return l0(c,LO(s,{overlayContainer:c}))},function(t,i,s){i.position!==s.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==s.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==s.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==s.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),fp=HO(function(t,i){const s=new eu.Popup(t,i.overlayContainer);return l0(s,i)},function(t,i,{position:s},c){T.useEffect(function(){const{instance:f}=t;function p(x){x.popup===f&&(f.update(),c(!0))}function g(x){x.popup===f&&c(!1)}return i.map.on({popupopen:p,popupclose:g}),i.overlayContainer==null?(s!=null&&f.setLatLng(s),f.openOn(i.map)):i.overlayContainer.bindPopup(f),function(){i.map.off({popupopen:p,popupclose:g}),i.overlayContainer?.unbindPopup(),i.map.removeLayer(f)}},[t,i,c,s])}),GO=$O(function({url:t,...i},s){const c=new eu.TileLayer(t,a0(i,s));return l0(c,s)},function(t,i,s){qO(t,i,s);const{url:c}=i;c!=null&&c!==s.url&&t.setUrl(c)}),WO=new o0.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),KO=new o0.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),YO=new o0.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function ig({pedidoId:e,clienteLat:t,clienteLng:i}){const[s,c]=T.useState({cliente:null,repartidor:null,restaurante:null}),[h,f]=T.useState(!0),[p,g]=T.useState(null);T.useEffect(()=>{x();const k=setInterval(()=>{x()},1e4);return()=>clearInterval(k)},[e]);const x=async()=>{try{console.log(" Cargando ubicaciones para pedido:",e),g(null);const{data:k,error:P}=await he.from("pedidos").select(`
          usuario_id,
          repartidor_id,
          restaurante_id,
          restaurantes (
            latitud,
            longitud
          )
        `).eq("id",e).single();if(P)throw P;console.log(" Datos del pedido:",k),console.log(" Buscando ubicacin del cliente:",k.usuario_id);const{data:M,error:D}=await he.from("ubicacion_real").select("*").eq("usuario_id",k.usuario_id).maybeSingle();if(D&&D.code!=="PGRST116")throw D;M?console.log(" Ubicacin del cliente encontrada:",M):console.log(" No hay ubicacin del cliente, usando ubicacin del pedido");let R=null;if(k.repartidor_id){console.log(" Buscando ubicacin del repartidor:",k.repartidor_id);const{data:V,error:B}=await he.from("ubicacion_real").select("*").eq("usuario_id",k.repartidor_id).maybeSingle();if(B&&B.code!=="PGRST116")throw B;V?(console.log(" Ubicacin del repartidor encontrada:",V),R=V):console.log(" No hay ubicacin del repartidor")}else console.log(" Pedido sin repartidor asignado");const Z=Array.isArray(k.restaurantes)?k.restaurantes[0]:k.restaurantes,F=Z?{latitud:Z.latitud,longitud:Z.longitud}:null;F&&console.log(" Ubicacin del restaurante:",F),c({cliente:M,repartidor:R,restaurante:F}),console.log(" Ubicaciones cargadas exitosamente"),f(!1)}catch(k){console.error(" Error cargando ubicaciones:",k),g("Error al cargar las ubicaciones"),f(!1)}};if(h)return l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"450px"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{border:"4px solid #f3f4f6",borderTop:"4px solid #4f46e5",borderRadius:"50%",width:"40px",height:"40px",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),l.jsx("p",{style:{color:"#6b7280"},children:"Cargando mapa..."})]})});if(p)return l.jsxs("div",{style:{padding:"32px",textAlign:"center",background:"#fef2f2",borderRadius:"8px"},children:[l.jsxs("p",{style:{color:"#dc2626",fontWeight:600},children:[" ",p]}),l.jsx("button",{onClick:x,style:{marginTop:"16px",padding:"8px 16px",background:"#4f46e5",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Reintentar"})]});const _=s.cliente?.latitud||t,w=s.cliente?.longitud||i;let E=_,N=w;return s.repartidor?(E=(s.repartidor.latitud+_)/2,N=(s.repartidor.longitud+w)/2):s.restaurante&&(E=(s.restaurante.latitud+_)/2,N=(s.restaurante.longitud+w)/2),console.log(" Renderizando mapa con centro:",{lat:E,lng:N}),console.log(" Marcadores:",{cliente:{lat:_,lng:w},repartidor:s.repartidor?{lat:s.repartidor.latitud,lng:s.repartidor.longitud}:null,restaurante:s.restaurante}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",width:"100%",height:"100%",background:"#1f2937",padding:"16px",borderRadius:"8px"},children:[s.repartidor&&l.jsx("div",{style:{background:"#374151",border:"1px solid #4b5563",borderRadius:"8px",padding:"16px"},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",color:"#d1d5db",margin:0},children:"Repartidor actualizado:"}),l.jsxs("p",{style:{fontWeight:600,margin:0,color:"#f3f4f6"},children:[Math.floor((Date.now()-new Date(s.repartidor.actualizado_en).getTime())/6e4)," ","min atrs"]})]}),s.repartidor.velocidad&&l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",color:"#d1d5db",margin:0},children:"Velocidad:"}),l.jsxs("p",{style:{fontWeight:600,margin:0,color:"#f3f4f6"},children:[s.repartidor.velocidad.toFixed(1)," km/h"]})]})]})}),l.jsx("div",{style:{height:"450px",width:"100%",borderRadius:"8px",overflow:"hidden",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",position:"relative"},children:l.jsxs(ZO,{center:[E,N],zoom:11,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[l.jsx(GO,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>  <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),l.jsx(hp,{position:[_,w],icon:WO,children:l.jsx(fp,{children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("p",{style:{fontWeight:700,margin:0},children:" Cliente"}),l.jsx("p",{style:{fontSize:"0.875rem",margin:0},children:"Destino de entrega"})]})})}),s.restaurante&&l.jsx(hp,{position:[s.restaurante.latitud,s.restaurante.longitud],icon:KO,children:l.jsx(fp,{children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("p",{style:{fontWeight:700,margin:0},children:" Restaurante"}),l.jsx("p",{style:{fontSize:"0.875rem",margin:0},children:"Punto de origen"})]})})}),s.repartidor&&l.jsx(hp,{position:[s.repartidor.latitud,s.repartidor.longitud],icon:YO,children:l.jsx(fp,{children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("p",{style:{fontWeight:700,margin:0},children:" Repartidor"}),s.repartidor.velocidad&&l.jsxs("p",{style:{fontSize:"0.875rem",margin:0},children:[s.repartidor.velocidad.toFixed(1)," km/h"]})]})})})]})}),l.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"24px",fontSize:"0.875rem",color:"#f3f4f6"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("div",{style:{width:"16px",height:"16px",background:"#2563eb",borderRadius:"50%"}}),l.jsx("span",{children:"Repartidor"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("div",{style:{width:"16px",height:"16px",background:"#dc2626",borderRadius:"50%"}}),l.jsx("span",{children:"Cliente"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("div",{style:{width:"16px",height:"16px",background:"#16a34a",borderRadius:"50%"}}),l.jsx("span",{children:"Restaurante"})]})]}),l.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function XO(){const{pedidoId:e}=el(),{usuario:t}=Et(),i=dt(),[s,c]=T.useState(null),[h,f]=T.useState([]),[p,g]=T.useState(!0),[x,_]=T.useState(!1);T.useEffect(()=>{if(!e||!t?.id)return;const N=async()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(async k=>{try{const{error:P}=await he.from("ubicacion_real").upsert({usuario_id:t.id,latitud:k.coords.latitude,longitud:k.coords.longitude,velocidad:k.coords.speed,precision_metros:Math.round(k.coords.accuracy),heading:k.coords.heading,actualizado_en:new Date().toISOString()},{onConflict:"usuario_id"});P&&console.error("Error al actualizar ubicacin del cliente:",P)}catch(P){console.error("Error actualizando ubicacin:",P)}},k=>{console.warn("No se pudo obtener la ubicacin del cliente:",k)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};N();const A=setInterval(N,2e4);return()=>{clearInterval(A)}},[e,t?.id]),T.useEffect(()=>{if(!t||!e){i("/login");return}w();const N=he.channel(`pedido-${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"pedidos",filter:`id=eq.${e}`},()=>{w()}).subscribe();return()=>{he.removeChannel(N)}},[e,t]);const w=async()=>{if(e)try{const{data:N,error:A}=await he.from("vista_pedidos_cliente").select("*").eq("pedido_id",e).single();if(A)throw A;const{data:k,error:P}=await he.from("vista_detalle_pedido_completo").select("*").eq("pedido_id",e);if(P)throw P;c(N),f(k)}catch(N){console.error("Error al cargar pedido:",N),alert("Error al cargar el pedido")}finally{g(!1)}},E=N=>({pendiente:" Esperando confirmacin",confirmado:" Confirmado por el restaurante",en_preparacion:" Preparando tu pedido",listo:" Listo para entrega",en_camino:" En camino a tu ubicacin",entregado:" Entregado",cancelado:" Cancelado"})[N]||N;return p?l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh"},children:l.jsx("div",{style:{width:48,height:48,borderRadius:24,borderBottom:"4px solid #6366f1",animation:"spin 1s linear infinite"}})}):s?l.jsxs("div",{className:"detalle-page",children:[l.jsxs("button",{onClick:()=>i("/pedidos"),className:"back-button",children:[l.jsx("span",{className:"back-arrow",children:""}),l.jsx("span",{children:"Mis Pedidos"})]}),l.jsxs("div",{className:"detalle-wrapper",children:[l.jsxs("div",{className:"detalle-card main-card",children:[l.jsxs("div",{className:"order-header-section",children:[l.jsxs("div",{className:"restaurant-badge",children:[l.jsx("span",{className:"restaurant-emoji-large",children:s.restaurante_emoji}),l.jsxs("div",{children:[l.jsx("h1",{className:"order-title",children:s.restaurante_nombre}),l.jsxs("p",{className:"order-subtitle",children:["Pedido #",s.numero_pedido]})]})]}),l.jsxs("div",{className:"order-amount-section",children:[l.jsx("p",{className:"order-total-label",children:"Total"}),l.jsxs("p",{className:"order-total-value",children:["L ",s.total.toFixed(2)]}),l.jsxs("p",{className:"order-items-count",children:[s.total_items," item",s.total_items>1?"s":""]})]})]}),l.jsxs("div",{className:`modern-status-badge status-${s.estado}`,children:[l.jsx("span",{className:"status-pulse"}),l.jsx("span",{className:"status-label",children:E(s.estado)})]}),l.jsxs("div",{className:"modern-timeline",children:[l.jsx("div",{className:"timeline-line"}),l.jsxs("div",{className:"timeline-step completed",children:[l.jsx("div",{className:"timeline-icon",children:l.jsx("span",{children:""})}),l.jsxs("div",{className:"timeline-content",children:[l.jsx("p",{className:"timeline-title",children:"Pedido realizado"}),l.jsx("p",{className:"timeline-time",children:new Date(s.creado_en).toLocaleString("es-MX",{dateStyle:"medium",timeStyle:"short"})})]})]}),s.confirmado_en&&l.jsxs("div",{className:"timeline-step completed",children:[l.jsx("div",{className:"timeline-icon",children:l.jsx("span",{children:""})}),l.jsxs("div",{className:"timeline-content",children:[l.jsx("p",{className:"timeline-title",children:"Confirmado por restaurante"}),l.jsx("p",{className:"timeline-time",children:new Date(s.confirmado_en).toLocaleString("es-MX",{dateStyle:"medium",timeStyle:"short"})})]})]}),s.asignado_en&&l.jsxs("div",{className:"timeline-step completed",children:[l.jsx("div",{className:"timeline-icon",children:l.jsx("span",{children:""})}),l.jsxs("div",{className:"timeline-content",children:[l.jsx("p",{className:"timeline-title",children:"Repartidor asignado"}),l.jsx("p",{className:"timeline-time",children:new Date(s.asignado_en).toLocaleString("es-MX",{dateStyle:"medium",timeStyle:"short"})})]})]}),s.entregado_en&&l.jsxs("div",{className:"timeline-step completed",children:[l.jsx("div",{className:"timeline-icon",children:l.jsx("span",{children:""})}),l.jsxs("div",{className:"timeline-content",children:[l.jsx("p",{className:"timeline-title",children:"Pedido entregado"}),l.jsx("p",{className:"timeline-time",children:new Date(s.entregado_en).toLocaleString("es-MX",{dateStyle:"medium",timeStyle:"short"})})]})]})]})]}),s.tiene_repartidor&&s.repartidor_nombre&&l.jsxs("div",{className:"detalle-card delivery-card",children:[l.jsx("div",{className:"card-title-row",children:l.jsxs("h2",{className:"card-title",children:[l.jsx("span",{className:"card-icon",children:""}),"Tu Repartidor"]})}),l.jsxs("div",{className:"delivery-person-info",children:[s.repartidor_foto?l.jsx("img",{src:s.repartidor_foto,alt:s.repartidor_nombre,className:"delivery-photo"}):l.jsx("div",{className:"delivery-photo-placeholder",children:l.jsx("span",{children:""})}),l.jsxs("div",{className:"delivery-details",children:[l.jsx("p",{className:"delivery-name",children:s.repartidor_nombre}),s.repartidor_vehiculo&&l.jsxs("p",{className:"delivery-vehicle",children:[" ",s.repartidor_vehiculo]}),s.repartidor_telefono&&l.jsxs("a",{href:`tel:${s.repartidor_telefono}`,className:"delivery-phone",children:[" ",s.repartidor_telefono]})]})]})]}),s.tracking_activo&&l.jsxs("div",{className:"detalle-card map-container-card",children:[l.jsxs("div",{className:"card-title-row",children:[l.jsxs("h2",{className:"card-title",children:[l.jsx("span",{className:"card-icon",children:""}),"Ubicacin en Tiempo Real"]}),l.jsxs("button",{onClick:()=>_(!0),className:"expand-map-btn",children:[l.jsx("span",{children:""})," Expandir"]})]}),l.jsx("div",{className:"map-preview",children:l.jsx(ig,{pedidoId:e,clienteLat:s.latitud,clienteLng:s.longitud})})]}),x&&l.jsxs("div",{className:"map-modal",children:[l.jsxs("div",{className:"map-modal-header",children:[l.jsxs("h3",{className:"map-modal-title",children:[l.jsx("span",{children:""}),"Ubicacin del pedido"]}),l.jsx("button",{onClick:()=>_(!1),className:"map-modal-close",children:""})]}),l.jsx("div",{className:"map-modal-content",children:s&&l.jsx(ig,{pedidoId:e,clienteLat:s.latitud,clienteLng:s.longitud})})]}),l.jsxs("div",{className:"detalle-card address-card",children:[l.jsxs("h2",{className:"card-title",children:[l.jsx("span",{className:"card-icon",children:""}),"Direccin de Entrega"]}),l.jsx("p",{className:"address-text",children:s.direccion_entrega}),s.notas_cliente&&l.jsxs("div",{className:"delivery-notes",children:[l.jsx("p",{className:"notes-label",children:" Notas de entrega"}),l.jsx("p",{className:"notes-text",children:s.notas_cliente})]})]}),l.jsxs("div",{className:"detalle-card items-section",children:[l.jsxs("h2",{className:"card-title",children:[l.jsx("span",{className:"card-icon",children:""}),"Items del Pedido"]}),l.jsx("div",{className:"items-list",children:h.map((N,A)=>l.jsxs("div",{className:`item-card ${A!==h.length-1?"with-border":""}`,children:[N.platillo_imagen&&l.jsx("div",{className:"item-image-container",children:l.jsx("img",{src:N.platillo_imagen,alt:N.platillo_nombre,className:"item-image-modern"})}),l.jsxs("div",{className:"item-info",children:[l.jsxs("div",{className:"item-header",children:[l.jsx("h3",{className:"item-name",children:N.platillo_nombre}),l.jsxs("p",{className:"item-price",children:["L ",N.subtotal.toFixed(2)]})]}),l.jsx("p",{className:"item-description",children:N.platillo_descripcion}),l.jsxs("div",{className:"item-footer",children:[l.jsxs("p",{className:"item-quantity",children:["Cantidad: ",N.cantidad,"  L"," ",N.precio_unitario.toFixed(2)]}),N.notas_platillo&&l.jsxs("p",{className:"item-notes",children:[" ",N.notas_platillo]})]})]})]},N.detalle_id))}),l.jsx("div",{className:"order-total-section",children:l.jsxs("div",{className:"total-line",children:[l.jsx("span",{className:"total-label",children:"Total del pedido"}),l.jsxs("span",{className:"total-value",children:["L ",s.total.toFixed(2)]})]})})]})]})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-500",children:"Pedido no encontrado"}),l.jsx("button",{onClick:()=>i("/pedidos"),className:"mt-4 text-indigo-600 hover:underline",children:"Volver a mis pedidos"})]})}async function B2(e){const{data:t,error:i}=await he.from("repartidores").select("*").eq("usuario_id",e).single();if(i)throw i;return t}async function JO(e,t){const{data:i,error:s}=await he.rpc("cambiar_disponibilidad_repartidor",{p_usuario_id:e,p_disponible:t});if(s)throw s;return i}async function U2(){const{data:e,error:t}=await he.from("vista_pedidos_disponibles_repartidores").select("*").order("creado_en",{ascending:!0});if(t)throw t;return e}async function u0(e){const{data:t,error:i}=await he.from("vista_pedidos_repartidor").select("*").eq("repartidor_id",e).order("asignado_en",{ascending:!0});if(i)throw i;return t}async function QO(e,t){const{data:i,error:s}=await he.rpc("asignar_repartidor_pedido",{p_pedido_id:e,p_repartidor_id:t});if(s)throw s;return i}async function ek(e,t){const{data:i,error:s}=await he.rpc("marcar_pedido_entregado",{p_pedido_id:e,p_repartidor_id:t});if(s)throw s;return i}async function j_(e,t,i,s,c,h){const{data:f,error:p}=await he.rpc("actualizar_ubicacion_repartidor",{p_repartidor_id:e,p_latitud:t,p_longitud:i,p_pedido_id:s||null,p_velocidad:c||null,p_precision:h||null});if(p)throw p;return f}function tk(e,t,i=60){let s=null,c=null;return navigator.geolocation&&(s=navigator.geolocation.watchPosition(async h=>{try{await j_(e,h.coords.latitude,h.coords.longitude,t,h.coords.speed||void 0,h.coords.accuracy),console.log("Ubicacin actualizada:",h.coords)}catch(f){console.error("Error al actualizar ubicacin:",f)}},h=>{console.error("Error al obtener ubicacin:",h)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}),c=setInterval(()=>{navigator.geolocation.getCurrentPosition(async h=>{try{await j_(e,h.coords.latitude,h.coords.longitude,t,h.coords.speed||void 0,h.coords.accuracy)}catch(f){console.error("Error en actualizacin peridica:",f)}})},i*1e3)),()=>{s!==null&&navigator.geolocation.clearWatch(s),c!==null&&clearInterval(c)}}async function nk(e){const{data:t,error:i}=await he.from("vista_estadisticas_repartidor").select("*").eq("usuario_id",e).single();if(i)throw i;return t}function ik(e){const t=he.channel("pedidos-disponibles").on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:"estado=in.(listo,confirmado)"},async()=>{const i=await U2();e(i)}).subscribe();return()=>{he.removeChannel(t)}}function rk(e,t){const i=he.channel("mis-pedidos-repartidor").on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`repartidor_id=eq.${e}`},async()=>{const s=await u0(e);t(s)}).subscribe();return()=>{he.removeChannel(i)}}function sk(){const{usuario:e}=Et(),[t,i]=T.useState([]),[s,c]=T.useState(!0),[h,f]=T.useState(null);T.useEffect(()=>{p();const x=ik(_=>{i(_)});return()=>{x()}},[]);const p=async()=>{try{const x=await U2();i(x)}catch(x){console.error("Error al cargar pedidos:",x)}finally{c(!1)}},g=async x=>{if(e){f(x);try{await QO(x,e.id),alert('Pedido asignado! Ve a "Mis Pedidos" para comenzar la entrega.'),await p()}catch(_){console.error("Error al tomar pedido:",_),alert("No se pudo tomar el pedido. Intenta de nuevo.")}finally{f(null)}}};return s?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Ye,{}),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:" Pedidos Disponibles"}),t.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-gray-500 text-lg",children:"No hay pedidos disponibles en este momento"}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Los nuevos pedidos aparecern aqu automticamente"})]}):l.jsx("div",{className:"space-y-4",children:t.map(x=>l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold",children:[x.restaurante_emoji," ",x.restaurante_nombre]}),l.jsx("p",{className:"text-gray-600 text-sm",children:x.restaurante_direccion})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:["L ",x.total.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[x.total_items," item",x.total_items>1?"s":""]})]})]}),l.jsxs("div",{className:"border-t pt-4 mb-4",children:[l.jsxs("div",{className:"flex items-start space-x-2 mb-2",children:[l.jsx("span",{className:"text-gray-500",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Entrega en:"}),l.jsx("p",{className:"text-gray-700",children:x.direccion_entrega})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[l.jsx("span",{children:""}),l.jsxs("p",{children:["Hace ",Math.floor(x.minutos_desde_creacion)," minutos"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${x.estado==="listo"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:x.estado==="listo"?" Listo":" En preparacin"}),l.jsx("button",{onClick:()=>g(x.pedido_id),disabled:h===x.pedido_id,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:h===x.pedido_id?" Tomando...":" Tomar Pedido"})]})]},x.pedido_id))})]})]})}function ak(){const{usuario:e}=Et(),t=dt(),[i,s]=T.useState([]),[c,h]=T.useState(!0);T.useEffect(()=>{if(!e)return;f();const p=rk(e.id,g=>{s(g)});return()=>{p()}},[e]);const f=async()=>{if(e)try{const p=await u0(e.id);s(p)}catch(p){console.error("Error al cargar pedidos:",p)}finally{h(!1)}};return c?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Ye,{}),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:" Mis Pedidos"}),l.jsx("button",{onClick:()=>t("/repartidor/disponibles"),className:"text-indigo-600 hover:underline text-sm",children:"Ver disponibles "})]}),i.length===0?l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[l.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No tienes pedidos asignados"}),l.jsx("button",{onClick:()=>t("/repartidor/disponibles"),className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700",children:"Ver Pedidos Disponibles"})]}):l.jsx("div",{className:"space-y-4",children:i.map(p=>l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold",children:[p.restaurante_emoji," ",p.restaurante_nombre]}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Pedido #",p.numero_pedido]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:["L ",p.total.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[p.total_items," items"]})]})]}),l.jsxs("div",{className:"border-t pt-4 mb-4",children:[l.jsxs("div",{className:"flex items-start space-x-2 mb-3",children:[l.jsx("span",{className:"text-gray-500",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Entregar en:"}),l.jsx("p",{className:"text-gray-700",children:p.direccion_entrega})]})]}),p.notas_cliente&&l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:[l.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:" Notas del cliente:"}),l.jsx("p",{className:"text-gray-700 text-sm",children:p.notas_cliente})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[l.jsx("span",{children:""}),l.jsxs("p",{children:["Asignado hace"," ",Math.floor(p.minutos_desde_asignacion)," minutos"]})]})]}),l.jsx("button",{onClick:()=>t(`/repartidor/entrega/${p.pedido_id}`),className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:" Iniciar Entrega"})]},p.pedido_id))})]})]})}function ok(){const{pedidoId:e}=el(),{usuario:t}=Et(),i=dt(),[s,c]=T.useState(null),[h,f]=T.useState(!0),[p,g]=T.useState(!1),[x,_]=T.useState(!1),w=T.useRef(null);T.useEffect(()=>(E(),()=>{w.current&&w.current()}),[e]);const E=async()=>{if(!(!t||!e))try{const[P,M]=await Promise.all([u0(t.id),B2(t.id)]),D=P.find(R=>R.pedido_id===e);if(!D){alert("Pedido no encontrado"),i("/repartidor/mis-pedidos");return}c(D),M&&N(M.id)}catch(P){console.error("Error al cargar datos:",P)}finally{f(!1)}},N=P=>{if(!e||x)return;console.log("Iniciando tracking GPS...");const M=tk(P,e,60);w.current=M,_(!0)},A=async()=>{if(!(!t||!e||!window.confirm("Confirmas que el pedido fue entregado al cliente?"))){g(!0);try{await ek(e,t.id),w.current&&w.current(),alert(" Pedido marcado como entregado. Buen trabajo!"),i("/repartidor/mis-pedidos")}catch(M){console.error("Error al marcar como entregado:",M),alert("Error al marcar el pedido como entregado")}finally{g(!1)}}},k=()=>{if(!s)return;const P=`https://www.google.com/maps/dir/?api=1&destination=${s.latitud},${s.longitud}`;window.open(P,"_blank")};return h?l.jsx("div",{className:"flex justify-center items-center h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):s?l.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:" Entrega en Curso"}),l.jsxs("p",{className:"text-gray-600",children:["Pedido #",s.numero_pedido]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:["L ",s.total.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[s.total_items," items"]})]})]}),x&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"animate-pulse text-green-600",children:""}),l.jsx("p",{className:"text-green-700 text-sm font-medium",children:" Tracking GPS activo - Tu ubicacin se actualiza cada minuto"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[l.jsxs("h2",{className:"text-lg font-semibold mb-3",children:[s.restaurante_emoji," Recoger en:"]}),l.jsx("p",{className:"text-xl font-medium mb-2",children:s.restaurante_nombre}),l.jsx("p",{className:"text-gray-600 mb-2",children:s.restaurante_direccion}),s.restaurante_telefono&&l.jsxs("a",{href:`tel:${s.restaurante_telefono}`,className:"text-indigo-600 hover:underline",children:[" ",s.restaurante_telefono]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-3",children:" Entregar en:"}),l.jsx("p",{className:"text-gray-900 text-lg mb-3",children:s.direccion_entrega}),s.notas_cliente&&l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:[l.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:" Notas del cliente:"}),l.jsx("p",{className:"text-gray-700",children:s.notas_cliente})]}),l.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:["Cliente: ",s.cliente_email]}),l.jsx("button",{onClick:k,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:" Abrir Navegacin GPS"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-3",children:" Mapa de Entrega"}),l.jsx(ig,{pedidoId:e,clienteLat:s.latitud,clienteLng:s.longitud})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l.jsx("button",{onClick:A,disabled:p,className:"w-full bg-green-600 text-white py-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-lg font-bold",children:p?" Marcando...":" Marcar como Entregado"}),l.jsx("p",{className:"text-center text-gray-500 text-sm mt-2",children:"Solo marca como entregado cuando hayas confirmado la entrega con el cliente"})]})]}):l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500",children:"Pedido no encontrado"})})}function lk(){const{usuario:e}=Et(),t=dt(),[i,s]=T.useState(null),[c,h]=T.useState(null),[f,p]=T.useState(!0),[g,x]=T.useState(!1);T.useEffect(()=>{_()},[e]);const _=async()=>{if(e)try{const[E,N]=await Promise.all([B2(e.id),nk(e.id)]);s(E),h(N)}catch(E){console.error("Error al cargar datos:",E)}finally{p(!1)}},w=async()=>{if(!(!e||!i)){x(!0);try{await JO(e.id,!i.disponible),await _()}catch(E){console.error("Error al cambiar disponibilidad:",E),alert("Error al cambiar disponibilidad")}finally{x(!1)}}};return f?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})]}):i?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Ye,{}),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:" Mi Perfil"}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[i.foto_url?l.jsx("img",{src:i.foto_url,alt:i.nombre_completo,className:"w-20 h-20 rounded-full object-cover"}):l.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-100 flex items-center justify-center text-3xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-xl font-bold",children:i.nombre_completo}),i.telefono&&l.jsxs("p",{className:"text-gray-600",children:[" ",i.telefono]}),i.tipo_vehiculo&&l.jsxs("p",{className:"text-gray-600 capitalize",children:[" ",i.tipo_vehiculo]})]})]}),l.jsx("div",{className:"border-t pt-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Estado"}),l.jsx("p",{className:"text-sm text-gray-600",children:i.disponible?" Disponible para pedidos":" No disponible"})]}),l.jsx("button",{onClick:w,disabled:g,className:`px-6 py-2 rounded-lg font-medium transition-colors ${i.disponible?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"} disabled:bg-gray-400`,children:g?"":i.disponible?"Pausar":"Activar"})]})})]}),c&&l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:" Estadsticas"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Entregas"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:i.total_entregas})]}),l.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Calificacin"}),l.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[" ",i.calificacion_promedio.toFixed(1)]})]}),l.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completadas"}),l.jsx("p",{className:"text-3xl font-bold text-purple-600",children:c.entregas_completadas})]}),l.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"En Curso"}),l.jsx("p",{className:"text-3xl font-bold text-orange-600",children:c.entregas_en_curso})]})]}),c.ganancias_estimadas>0&&l.jsxs("div",{className:"mt-4 bg-indigo-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Ganancias Estimadas"}),l.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:["$",c.ganancias_estimadas.toFixed(2)]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:" Acciones Rpidas"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>t("/repartidor/disponibles"),className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:" Ver Pedidos Disponibles"}),l.jsx("button",{onClick:()=>t("/repartidor/mis-pedidos"),className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:" Mis Pedidos Activos"}),l.jsx("button",{onClick:()=>t("/home"),className:"w-full bg-gray-600 text-white py-3 rounded-lg hover:bg-gray-700 transition-colors font-medium",children:" Volver al Inicio"})]})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Ye,{}),l.jsx("div",{className:"max-w-4xl mx-auto p-4",children:l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[l.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No tienes un perfil de repartidor"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Contacta al administrador para registrarte como repartidor"})]})})]})}const rg=async e=>{try{const{data:t,error:i}=await he.from("vista_panel_repartidor").select("*").eq("usuario_id",e).maybeSingle();return i?(console.error("Error al obtener panel repartidor:",i),null):t}catch(t){return console.error("Error al obtener panel repartidor:",t),null}},I2=async e=>{try{const{data:t,error:i}=await he.from("vista_panel_restaurante").select("*").eq("restaurante_id",e).maybeSingle();return i?(console.error("Error al obtener panel restaurante:",i),null):t}catch(t){return console.error("Error al obtener panel restaurante:",t),null}},sg=async()=>{try{const{data:e,error:t}=await he.from("vista_panel_operador").select("*").maybeSingle();return t?(console.error("Error al obtener panel operador:",t),null):e}catch(e){return console.error("Error al obtener panel operador:",e),null}},V2=async()=>{try{const{data:e,error:t}=await he.from("vista_panel_admin").select("*").maybeSingle();return t?(console.error("Error al obtener panel admin:",t),null):e}catch(e){return console.error("Error al obtener panel admin:",e),null}},ck=(e,t)=>{const i=he.channel(`panel_repartidor_${e}`).on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`repartidor_id=eq.${e}`},async()=>{const s=await rg(e);t(s)}).on("postgres_changes",{event:"*",schema:"public",table:"repartidores",filter:`usuario_id=eq.${e}`},async()=>{const s=await rg(e);t(s)}).subscribe();return()=>{he.removeChannel(i)}},uk=(e,t)=>{const i=he.channel(`panel_restaurante_${e}`).on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`restaurante_id=eq.${e}`},async()=>{const s=await I2(e);t(s)}).subscribe();return()=>{he.removeChannel(i)}},dk=e=>{const t=he.channel("panel_operador").on("postgres_changes",{event:"*",schema:"public",table:"pedidos"},async()=>{const i=await sg();e(i)}).on("postgres_changes",{event:"*",schema:"public",table:"repartidores"},async()=>{const i=await sg();e(i)}).subscribe();return()=>{he.removeChannel(t)}},hk=e=>{const t=he.channel("panel_admin").on("postgres_changes",{event:"*",schema:"public",table:"pedidos"},async()=>{const i=await V2();e(i)}).subscribe();return()=>{he.removeChannel(t)}};var H2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},T_=je.createContext&&je.createContext(H2),fk=["attr","size","title"];function mk(e,t){if(e==null)return{};var i=pk(e,t),s,c;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);for(c=0;c<h.length;c++)s=h[c],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function pk(e,t){if(e==null)return{};var i={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;i[s]=e[s]}return i}function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},sh.apply(this,arguments)}function E_(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),i.push.apply(i,s)}return i}function ah(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(i),!0).forEach(function(s){gk(e,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):E_(Object(i)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(i,s))})}return e}function gk(e,t,i){return t=yk(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function yk(e){var t=vk(e,"string");return typeof t=="symbol"?t:t+""}function vk(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var s=i.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $2(e){return e&&e.map((t,i)=>je.createElement(t.tag,ah({key:i},t.attr),$2(t.child)))}function mt(e){return t=>je.createElement(xk,sh({attr:ah({},e.attr)},t),$2(e.child))}function xk(e){var t=i=>{var{attr:s,size:c,title:h}=e,f=mk(e,fk),p=c||i.size||"1em",g;return i.className&&(g=i.className),e.className&&(g=(g?g+" ":"")+e.className),je.createElement("svg",sh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,f,{className:g,style:ah(ah({color:e.color||i.color},i.style),e.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),h&&je.createElement("title",null,h),e.children)};return T_!==void 0?je.createElement(T_.Consumer,null,i=>t(i)):t(H2)}function d0(e){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function bk(e){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function _k(e){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function ag(e){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Da(e){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function N_(e){return mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"},child:[]}]})(e)}function wk(e){return mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Sk(e){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function C_(e){return mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function jk(e){return mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function Tk(e){return mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function og(e){return mt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function oh(e){return mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function Ek(e){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Nk(e){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Ck(e){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Zo(e){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(e)}function Ak(e){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function q2(e){return mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function Hc(e){return mt({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(e)}function Rk(e){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function A_(e){return mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(e)}function $c(e){return mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function Ok(e){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function kk(e){return mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Pa(e){return mt({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(e)}function Lk(){const{usuario:e}=Et(),t=dt(),[i,s]=T.useState(null),[c,h]=T.useState(!0);T.useEffect(()=>{if(!e||e.tipo_usuario!=="repartidor"){t("/");return}f();const p=ck(e.id,g=>{g&&s(g)});return()=>{p()}},[e,t]);const f=async()=>{if(!e)return;h(!0);const p=await rg(e.id);s(p),h(!1)};return c?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-indigo-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando panel..."})]})})]}):i?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 pb-20",children:[l.jsx(Ye,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:i.nombre_completo.charAt(0)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:i.nombre_completo}),l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[l.jsx("span",{className:"text-sm text-gray-500",children:i.tipo_vehiculo}),l.jsx("span",{className:"text-gray-300",children:""}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(q2,{className:"text-yellow-400 mr-1"}),l.jsx("span",{className:"font-semibold",children:i.calificacion_promedio.toFixed(1)})]})]})]}),l.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${i.disponible?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:i.disponible?"Disponible":"No disponible"})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsx("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Entregas Hoy"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:i.entregas_hoy})]}),l.jsx($c,{className:"text-5xl text-white opacity-20"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Ganancias Hoy"}),l.jsxs("p",{className:"text-4xl font-bold mt-2",children:["L ",i.ganancias_hoy.toFixed(2)]})]}),l.jsx(oh,{className:"text-5xl text-white opacity-20"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl shadow-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Total Entregas"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:i.total_entregas})]}),l.jsx(bk,{className:"text-5xl text-white opacity-20"})]})})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" Resumen del Mes"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Entregas del Mes"}),l.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-1",children:i.entregas_mes})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Ganancias del Mes"}),l.jsxs("p",{className:"text-3xl font-bold text-green-600 mt-1",children:["L ",i.ganancias_mes.toFixed(2)]})]})]})]}),i.pedido_activo?l.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl shadow-lg p-6 text-white mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:" Entrega Activa"}),l.jsx("span",{className:"bg-white text-orange-600 px-3 py-1 rounded-full text-sm font-semibold",children:i.pedido_activo.estado})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4 mb-4",children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Pedido"}),l.jsx("p",{className:"text-2xl font-bold",children:i.pedido_activo.numero_pedido})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(og,{className:"mr-3 text-xl"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Restaurante"}),l.jsx("p",{className:"font-semibold",children:i.pedido_activo.restaurante})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(og,{className:"mr-3 text-xl"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Entregar en"}),l.jsx("p",{className:"font-semibold",children:i.pedido_activo.direccion_entrega})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Da,{className:"mr-3 text-xl"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Tiempo transcurrido"}),l.jsxs("p",{className:"font-semibold",children:[Math.round(i.pedido_activo.tiempo_transcurrido)," min"]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Total"}),l.jsxs("p",{className:"text-2xl font-bold",children:["L ",i.pedido_activo.total.toFixed(2)]})]})]})]}),l.jsx("button",{onClick:()=>t("/repartidor/entrega-activa"),className:"w-full bg-white text-orange-600 font-bold py-3 rounded-xl mt-4 hover:bg-orange-50 transition",children:"Ver Detalles de la Entrega"})]}):l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center mb-6",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Sin entregas activas"}),l.jsx("p",{className:"text-gray-600",children:"Revisa los pedidos disponibles para empezar"}),l.jsx("button",{onClick:()=>t("/repartidor/pedidos-disponibles"),className:"mt-4 bg-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-indigo-700 transition",children:"Ver Pedidos Disponibles"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("button",{onClick:()=>t("/repartidor/pedidos-disponibles"),className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Pedidos Disponibles"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ver pedidos por asignar"})]}),l.jsxs("button",{onClick:()=>t("/repartidor/mis-pedidos"),className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Mis Pedidos"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Historial de entregas"})]})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[l.jsx(Ye,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:"No se pudo cargar la informacin del panel"})})]})}const Pk=async e=>{try{const{data:t,error:i}=await he.from("restaurantes").select("*").eq("id",e).maybeSingle();return i?(console.error("Error al obtener restaurante:",i),null):t}catch(t){return console.error("Error al obtener restaurante:",t),null}},Mk=async e=>{try{const{data:t,error:i}=await he.from("restaurantes").select("*").eq("usuario_id",e).maybeSingle();return i?(console.error("Error al obtener restaurante por usuario:",i),null):t}catch(t){return console.error("Error al obtener restaurante por usuario:",t),null}},Dk=async(e,t)=>{try{const i={...e};t&&(i.usuario_id=t);const{data:s,error:c}=await he.from("restaurantes").insert([i]).select().maybeSingle();return c?(console.error("Error al crear restaurante:",c),null):s}catch(i){return console.error("Error al crear restaurante:",i),null}},zk=async(e,t)=>{try{const{data:i,error:s}=await he.from("restaurantes").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();return s?(console.error("Error al actualizar restaurante:",s),null):i}catch(i){return console.error("Error al actualizar restaurante:",i),null}},Bk=async e=>{try{const{data:t,error:i}=await he.from("platillos").select("*").eq("restaurante_id",e).order("nombre");return i?(console.error("Error al obtener platillos:",i),[]):t}catch(t){return console.error("Error al obtener platillos:",t),[]}},Uk=async e=>{try{const{data:t,error:i}=await he.from("platillos").insert([e]).select().single();return i?(console.error("Error al crear platillo:",i),null):t}catch(t){return console.error("Error al crear platillo:",t),null}},R_=async(e,t)=>{try{const{data:i,error:s}=await he.from("platillos").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();return s?(console.error("Error al actualizar platillo:",s),null):i}catch(i){return console.error("Error al actualizar platillo:",i),null}},Ik=async e=>{try{const{error:t}=await he.from("platillos").delete().eq("id",e);return t?(console.error("Error al eliminar platillo:",t),!1):!0}catch(t){return console.error("Error al eliminar platillo:",t),!1}},F2=async(e,t)=>{try{let i=he.from("pedidos").select(`
        *,
        usuarios:usuario_id (
          nombre,
          telefono
        )
      `).eq("restaurante_id",e).order("creado_en",{ascending:!1});const{data:s,error:c}=await i;return c?(console.error("Error al obtener pedidos:",c),[]):s.map(h=>({...h,cliente_nombre:h.usuarios?.nombre,cliente_telefono:h.usuarios?.telefono}))}catch(i){return console.error("Error al obtener pedidos:",i),[]}},Vk=async e=>{try{const{data:t,error:i}=await he.from("detalle_pedidos").select(`
        *,
        platillos (nombre),
        bebidas (nombre)
      `).eq("pedido_id",e);return i?(console.error("Error al obtener detalles del pedido:",i),[]):t.map(s=>({...s,platillo_nombre:s.platillos?.nombre,bebida_nombre:s.bebidas?.nombre}))}catch(t){return console.error("Error al obtener detalles del pedido:",t),[]}},Hk=async(e,t)=>{try{const i={estado:t,actualizado_en:new Date().toISOString()};t==="confirmado"&&(i.confirmado_en=new Date().toISOString());const{error:s}=await he.from("pedidos").update(i).eq("id",e);return s?(console.error("Error al actualizar estado del pedido:",s),!1):!0}catch(i){return console.error("Error al actualizar estado del pedido:",i),!1}},$k=(e,t)=>{const i=he.channel(`pedidos_restaurante_${e}`).on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`restaurante_id=eq.${e}`},async()=>{const s=await F2(e);t(s)}).subscribe();return()=>{he.removeChannel(i)}};function qk(){const{usuario:e}=Et(),t=dt(),[i,s]=T.useState(null),[c,h]=T.useState(!0),[f,p]=T.useState(""),[g,x]=T.useState(null);T.useEffect(()=>{if(!e||e.tipo_usuario!=="restaurante"){t("/");return}_()},[e,t]),T.useEffect(()=>{if(!f)return;w();const E=uk(f,N=>{N&&s(N)});return()=>{E()}},[f]);const _=async()=>{if(!e)return;const E=await Mk(e.id);if(E){x(E),p(E.id);return}x(null),p("")},w=async()=>{h(!0);const E=await I2(f);s(E),h(!1)};return c?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando panel..."})]})})]}):i?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100 pb-20",children:[l.jsx(Ye,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("button",{onClick:()=>t("/restaurante/gestion"),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 text-left",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:l.jsx(Pa,{className:"text-orange-600 text-2xl"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Gestionar Restaurante"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Edita informacin, horarios y configuracin de tu restaurante"})]}),l.jsxs("button",{onClick:()=>t("/restaurante/platillos"),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 text-left",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:l.jsx(N_,{className:"text-green-600 text-2xl"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Gestin de Platillos"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Administra tu men, precios e imgenes de platillos"})]}),l.jsxs("button",{onClick:()=>t("/restaurante/pedidos"),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 text-left",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:l.jsx(Zo,{className:"text-blue-600 text-2xl"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Pedidos del Restaurante"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Visualiza y gestiona todos los pedidos entrantes"})]})]}),l.jsx("div",{className:"rounded-2xl shadow-lg p-6 mb-6 text-white",style:{backgroundColor:i.color_tema||"#ff6b6b"},children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"text-6xl",children:i.emoji||""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-3xl font-bold",children:i.nombre}),l.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[l.jsxs("div",{className:"flex items-center bg-white bg-opacity-20 px-3 py-1 rounded-full",children:[l.jsx(q2,{className:"text-yellow-300 mr-1"}),l.jsx("span",{className:"font-semibold",children:i.calificacion.toFixed(1)})]}),l.jsxs("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full",children:[l.jsx(Da,{className:"inline mr-1"}),i.tiempo_entrega_min," min"]}),l.jsx("span",{className:`px-3 py-1 rounded-full font-semibold ${i.activo?"bg-green-500":"bg-gray-500"}`,children:i.activo?"Activo":"Cerrado"})]})]})]})}),i.pedidos_pendientes_hoy>0&&l.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-6 rounded-r-xl",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(C_,{className:"text-yellow-600 text-2xl mr-3"}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-yellow-800",children:["Tienes ",i.pedidos_pendientes_hoy," pedido(s) pendiente(s) por confirmar"]}),l.jsx("p",{className:"text-sm text-yellow-700",children:"Revisa y confirma los pedidos nuevos"})]})]})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Zo,{className:"text-blue-500 text-2xl"}),l.jsx("span",{className:"text-xs text-gray-500",children:"HOY"})]}),l.jsx("p",{className:"text-3xl font-bold text-gray-800",children:i.pedidos_hoy}),l.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Da,{className:"text-orange-500 text-2xl"}),l.jsx("span",{className:"text-xs text-gray-500",children:"EN PROCESO"})]}),l.jsx("p",{className:"text-3xl font-bold text-gray-800",children:i.pedidos_en_proceso_hoy}),l.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Zo,{className:"text-green-500 text-2xl"}),l.jsx("span",{className:"text-xs text-gray-500",children:"COMPLETADOS"})]}),l.jsx("p",{className:"text-3xl font-bold text-gray-800",children:i.pedidos_completados_hoy}),l.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg p-4 text-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(oh,{className:"text-2xl"}),l.jsx("span",{className:"text-xs text-green-100",children:"HOY"})]}),l.jsxs("p",{className:"text-3xl font-bold",children:["$",i.ingresos_hoy.toFixed(2)]}),l.jsx("p",{className:"text-sm text-green-100",children:"Ingresos"})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" Resumen del Mes"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Total Pedidos"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:i.pedidos_mes})]}),l.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Completados"}),l.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:i.pedidos_completados_mes})]}),l.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Ingresos"}),l.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:["$",i.ingresos_mes.toFixed(2)]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:" Platillos"}),l.jsx(Pa,{className:"text-orange-500 text-2xl"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Total"}),l.jsx("span",{className:"text-2xl font-bold text-gray-800",children:i.total_platillos})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Disponibles"}),l.jsx("span",{className:"text-xl font-semibold text-green-600",children:i.platillos_disponibles})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:" Bebidas"}),l.jsx(N_,{className:"text-blue-500 text-2xl"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Total"}),l.jsx("span",{className:"text-2xl font-bold text-gray-800",children:i.total_bebidas})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Disponibles"}),l.jsx("span",{className:"text-xl font-semibold text-green-600",children:i.bebidas_disponibles})]})]})]})]}),i.platillo_mas_vendido&&l.jsxs("div",{className:"bg-gradient-to-br from-yellow-400 to-orange-500 rounded-2xl shadow-lg p-6 text-white mb-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:" Platillo Ms Vendido del Mes"}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-2xl font-bold",children:i.platillo_mas_vendido.nombre}),l.jsxs("div",{className:"flex items-center justify-between mt-3",children:[l.jsxs("span",{className:"text-lg",children:["$",i.platillo_mas_vendido.precio.toFixed(2)]}),l.jsxs("span",{className:"bg-white bg-opacity-30 px-3 py-1 rounded-full",children:[i.platillo_mas_vendido.veces_pedido," pedidos"]})]})]})]}),i.pedidos_pendientes&&i.pedidos_pendientes.length>0&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:[" Pedidos Pendientes (",i.pedidos_pendientes.length,")"]}),l.jsx("div",{className:"space-y-3",children:i.pedidos_pendientes.map(E=>l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-gray-800",children:E.numero_pedido}),l.jsx("p",{className:"text-sm text-gray-600",children:E.direccion_entrega}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(E.creado_en).toLocaleString()})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",E.total.toFixed(2)]}),l.jsx("button",{className:"mt-2 bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-orange-700 transition",children:"Confirmar"})]})]})},E.pedido_id))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("button",{className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Administrar Men"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Platillos y bebidas"})]}),l.jsxs("button",{className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Historial"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ver todos los pedidos"})]})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100",children:[l.jsx(Ye,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"max-w-3xl mx-auto",children:g?l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 md:p-12 text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-orange-400 to-red-500 rounded-full mb-4",children:l.jsx("span",{className:"text-white text-4xl",children:g.emoji||""})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:g.nombre}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:g.descripcion}),l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("button",{onClick:()=>t("/restaurante/gestion"),className:"bg-white border border-gray-200 px-4 py-2 rounded-lg shadow-sm hover:shadow-md",children:"Editar Restaurante"}),l.jsx("button",{onClick:()=>t("/restaurante/platillos"),className:"bg-orange-500 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-orange-600",children:"Agregar Platillo"}),l.jsx("button",{onClick:()=>t("/restaurante/pedidos"),className:"bg-blue-500 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-blue-600",children:"Ver Pedidos"})]})]}),l.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[l.jsxs("p",{children:["Tiempo entrega: ",g.tiempo_entrega_min," ","min"]}),l.jsxs("p",{children:["Costo envo: L ",g.costo_envio]}),l.jsxs("p",{children:["Activo: ",g.activo?"S":"No"]})]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 md:p-12 text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-orange-400 to-red-500 rounded-full mb-4",children:l.jsx(Hc,{className:"text-white text-4xl"})}),l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-3",children:"Bienvenido a Delibery! "}),l.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"An no tienes un restaurante registrado"}),l.jsx("p",{className:"text-gray-500",children:"Comienza creando tu restaurante para empezar a recibir pedidos"})]}),l.jsxs("div",{className:"bg-orange-50 rounded-xl p-6 mb-8",children:[l.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Qu podrs hacer despus de crear tu restaurante?"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(Pa,{className:"text-orange-500 text-2xl mb-2"}),l.jsx("span",{className:"font-medium",children:"Gestionar tu men"})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(Zo,{className:"text-green-500 text-2xl mb-2"}),l.jsx("span",{className:"font-medium",children:"Recibir pedidos"})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(oh,{className:"text-blue-500 text-2xl mb-2"}),l.jsx("span",{className:"font-medium",children:"Generar ingresos"})]})]})]}),l.jsxs("button",{onClick:()=>t("/restaurante/gestion"),className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:from-orange-600 hover:to-red-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 inline-flex items-center gap-3",children:[l.jsx(Hc,{className:"text-2xl"}),"Crear Mi Restaurante"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-6",children:"Solo te tomar unos minutos configurar tu restaurante"})]}),l.jsxs("div",{className:"mt-8 bg-white/80 backdrop-blur rounded-xl p-6",children:[l.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[l.jsx(C_,{className:"text-yellow-500"}),"Informacin Importante"]}),l.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-orange-500 font-bold",children:""}),l.jsx("span",{children:"Podrs editar toda la informacin de tu restaurante cuando quieras"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-orange-500 font-bold",children:""}),l.jsx("span",{children:"Necesitars agregar al menos un platillo para empezar a recibir pedidos"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-orange-500 font-bold",children:""}),l.jsx("span",{children:"Los clientes vern tu restaurante una vez que est activo"})]})]})]})]})})})]})}function Fk(){const{usuario:e}=Et(),t=dt(),[i,s]=T.useState(null),[c,h]=T.useState(!0);T.useEffect(()=>{if(!e||e.tipo_usuario!=="operador"){t("/");return}f();const g=dk(_=>{_&&s(_)}),x=setInterval(f,3e4);return()=>{g(),clearInterval(x)}},[e,t]);const f=async()=>{h(!0);const g=await sg();s(g),h(!1)};if(c)return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando panel..."})]})})]});if(!i)return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100",children:[l.jsx(Ye,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:"No se pudo cargar la informacin del panel"})})]});const p=i.pedidos_pendientes+i.pedidos_confirmados+i.pedidos_en_preparacion+i.pedidos_listos+i.pedidos_en_camino;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100 pb-20",children:[l.jsx(Ye,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl shadow-lg p-6 mb-6 text-white",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Panel de Operador"}),l.jsx("p",{className:"text-purple-100",children:"Control y monitoreo en tiempo real del sistema"}),l.jsxs("p",{className:"text-sm text-purple-200 mt-2",children:["ltima actualizacin:"," ",new Date(i.actualizado_en).toLocaleTimeString()]})]}),(i.pedidos_retrasados>0||i.pedidos_sin_repartidor>0)&&l.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 mb-6 rounded-r-xl",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(Sk,{className:"text-red-600 text-3xl mr-3 mt-1"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-bold text-red-800 text-lg",children:" Alertas Crticas"}),l.jsxs("div",{className:"mt-2 space-y-1",children:[i.pedidos_retrasados>0&&l.jsxs("p",{className:"text-red-700",children:[" ",i.pedidos_retrasados," pedido(s) retrasado(s) (+30 min)"]}),i.pedidos_sin_repartidor>0&&l.jsxs("p",{className:"text-red-700",children:[" ",i.pedidos_sin_repartidor," pedido(s) sin repartidor asignado"]})]})]})]})}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" Pedidos en Tiempo Real"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[l.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 text-center",children:[l.jsx(Da,{className:"text-3xl text-yellow-600 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:i.pedidos_pendientes}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Pendientes"})]}),l.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 text-center",children:[l.jsx(ag,{className:"text-3xl text-blue-600 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-blue-700",children:i.pedidos_confirmados}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Confirmados"})]}),l.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-xl p-4 text-center",children:[l.jsx(Ak,{className:"text-3xl text-orange-600 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-orange-700",children:i.pedidos_en_preparacion}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"En Preparacin"})]}),l.jsxs("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-xl p-4 text-center",children:[l.jsx(Zo,{className:"text-3xl text-purple-600 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-purple-700",children:i.pedidos_listos}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Listos"})]}),l.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-4 text-center",children:[l.jsx($c,{className:"text-3xl text-green-600 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-green-700",children:i.pedidos_en_camino}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"En Camino"})]})]}),l.jsx("div",{className:"mt-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-lg font-semibold",children:"Total Pedidos Activos"}),l.jsx("span",{className:"text-4xl font-bold",children:p})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Entregados Hoy"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:i.pedidos_entregados_hoy})]}),l.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-pink-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsx("p",{className:"text-red-100 text-sm font-medium",children:"Cancelados Hoy"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:i.pedidos_cancelados_hoy})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Ingresos Hoy"}),l.jsxs("p",{className:"text-3xl font-bold mt-2",children:["L ",i.ingresos_hoy.toFixed(2)]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Tiempo Prom."}),l.jsxs("p",{className:"text-3xl font-bold mt-2",children:[Math.round(i.tiempo_promedio_entrega_hoy)," min"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:" Repartidores"}),l.jsx($c,{className:"text-3xl text-blue-500"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"Disponibles"}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:i.repartidores_disponibles})]}),l.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"En Entrega"}),l.jsx("span",{className:"text-2xl font-bold text-orange-600",children:i.repartidores_en_entrega})]}),l.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"Activos"}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:i.repartidores_activos})]}),l.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"Total"}),l.jsx("span",{className:"text-2xl font-bold text-gray-800",children:i.total_repartidores})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:" Restaurantes"}),l.jsx(Hc,{className:"text-3xl text-orange-500"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"Activos"}),l.jsx("span",{className:"text-3xl font-bold text-green-600",children:i.restaurantes_activos})]}),l.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"Total"}),l.jsx("span",{className:"text-3xl font-bold text-gray-800",children:i.total_restaurantes})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" Resumen del Mes"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Pedidos Completados"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:i.pedidos_completados_mes})]}),l.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Ingresos del Mes"}),l.jsxs("p",{className:"text-3xl font-bold text-green-600 mt-1",children:["L ",i.ingresos_mes.toFixed(2)]})]})]})]}),i.pedidos_urgentes&&i.pedidos_urgentes.length>0&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:[" Pedidos Urgentes (",i.pedidos_urgentes.length,")"]}),l.jsx("div",{className:"space-y-3",children:i.pedidos_urgentes.map(g=>l.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-bold text-gray-800",children:g.numero_pedido}),l.jsx("p",{className:"text-sm text-gray-600",children:g.restaurante}),l.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[l.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${g.estado==="pendiente"?"bg-yellow-100 text-yellow-700":g.estado==="confirmado"?"bg-blue-100 text-blue-700":g.estado==="en_preparacion"?"bg-orange-100 text-orange-700":"bg-purple-100 text-purple-700"}`,children:g.estado}),l.jsxs("span",{className:"text-xs text-gray-500",children:[" ",Math.round(g.tiempo_transcurrido)," min"]}),l.jsx("span",{className:`text-xs font-semibold ${g.tiene_repartidor?"text-green-600":"text-red-600"}`,children:g.tiene_repartidor?" Con repartidor":" Sin repartidor"})]})]}),l.jsx("button",{className:"ml-4 bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-red-700 transition",children:"Ver Detalles"})]})},g.pedido_id))})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsxs("button",{className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Todos los Pedidos"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ver historial completo"})]}),l.jsxs("button",{className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Gestionar Repartidores"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Estado y asignaciones"})]}),l.jsxs("button",{className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Gestionar Restaurantes"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ver todos los restaurantes"})]})]})]})]})}function Zk(){const{usuario:e}=Et(),t=dt(),[i,s]=T.useState(null),[c,h]=T.useState(!0);T.useEffect(()=>{if(!e||e.tipo_usuario!=="admin"){t("/");return}f();const p=hk(x=>{x&&s(x)}),g=setInterval(f,6e4);return()=>{p(),clearInterval(g)}},[e,t]);const f=async()=>{h(!0);const p=await V2();s(p),h(!1)};return c?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-white mx-auto"}),l.jsx("p",{className:"mt-4 text-white",children:"Cargando panel..."})]})})]}):i?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900 pb-20",children:[l.jsx(Ye,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-2xl shadow-2xl p-8 mb-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold mb-2",children:" Panel de Administracin"}),l.jsx("p",{className:"text-purple-100 text-lg",children:"Vista completa del sistema Delibery"}),l.jsxs("p",{className:"text-sm text-purple-200 mt-2",children:["Actualizado: ",new Date(i.actualizado_en).toLocaleString()]})]}),l.jsx("div",{className:"text-6xl",children:""})]})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl shadow-lg p-6 text-white",children:[l.jsx(kk,{className:"text-3xl mb-2 opacity-80"}),l.jsx("p",{className:"text-blue-100 text-sm",children:"Total Usuarios"}),l.jsx("p",{className:"text-4xl font-bold mt-1",children:i.total_usuarios}),l.jsxs("p",{className:"text-xs text-blue-200 mt-2",children:["+",i.usuarios_nuevos_hoy," hoy"]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-700 rounded-xl shadow-lg p-6 text-white",children:[l.jsx(Zo,{className:"text-3xl mb-2 opacity-80"}),l.jsx("p",{className:"text-green-100 text-sm",children:"Pedidos Totales"}),l.jsx("p",{className:"text-4xl font-bold mt-1",children:i.total_pedidos_historico}),l.jsxs("p",{className:"text-xs text-green-200 mt-2",children:[i.pedidos_hoy," hoy"]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-700 rounded-xl shadow-lg p-6 text-white",children:[l.jsx(oh,{className:"text-3xl mb-2 opacity-80"}),l.jsx("p",{className:"text-purple-100 text-sm",children:"Ingresos Totales"}),l.jsxs("p",{className:"text-3xl font-bold mt-1",children:["L ",i.ingresos_totales.toFixed(0)]}),l.jsxs("p",{className:"text-xs text-purple-200 mt-2",children:["L ",i.ingresos_hoy.toFixed(0)," hoy"]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-700 rounded-xl shadow-lg p-6 text-white",children:[l.jsx(_k,{className:"text-3xl mb-2 opacity-80"}),l.jsx("p",{className:"text-orange-100 text-sm",children:"Tasa Completacin"}),l.jsxs("p",{className:"text-4xl font-bold mt-1",children:[i.tasa_completacion_porcentaje,"%"]}),l.jsx("p",{className:"text-xs text-orange-200 mt-2",children:"Global"})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Mtricas de Hoy"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Pedidos Hoy"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:i.pedidos_hoy})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Ingresos Hoy"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["L ",i.ingresos_hoy.toFixed(2)]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Ticket Promedio"}),l.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["L ",i.ticket_promedio.toFixed(2)]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Tiempo Entrega"}),l.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[Math.round(i.tiempo_promedio_entrega_hoy),"m"]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Distribucin de Pedidos"}),l.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-7 gap-3",children:[l.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:i.distribucion_estados.pendiente}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Pendiente"})]}),l.jsxs("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-700",children:i.distribucion_estados.confirmado}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Confirmado"})]}),l.jsxs("div",{className:"bg-orange-50 border-2 border-orange-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-orange-700",children:i.distribucion_estados.en_preparacion}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Preparando"})]}),l.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-700",children:i.distribucion_estados.listo}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Listo"})]}),l.jsxs("div",{className:"bg-indigo-50 border-2 border-indigo-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:i.distribucion_estados.en_camino}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"En Camino"})]}),l.jsxs("div",{className:"bg-green-50 border-2 border-green-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:i.distribucion_estados.entregado}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Entregado"})]}),l.jsxs("div",{className:"bg-red-50 border-2 border-red-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-red-700",children:i.distribucion_estados.cancelado}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Cancelado"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold",children:" Restaurantes"}),l.jsx(Hc,{className:"text-4xl opacity-50"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Activos"}),l.jsx("p",{className:"text-4xl font-bold",children:i.restaurantes_activos})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Total"}),l.jsx("p",{className:"text-4xl font-bold",children:i.total_restaurantes})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4 col-span-2",children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Productos"}),l.jsxs("p",{className:"text-2xl font-bold",children:[i.total_platillos," platillos  ",i.total_bebidas," ","bebidas"]})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold",children:" Repartidores"}),l.jsx($c,{className:"text-4xl opacity-50"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-blue-100 text-sm",children:"Disponibles"}),l.jsx("p",{className:"text-4xl font-bold",children:i.repartidores_disponibles})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-blue-100 text-sm",children:"En Entrega"}),l.jsx("p",{className:"text-4xl font-bold",children:i.repartidores_en_entrega})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-blue-100 text-sm",children:"Total"}),l.jsx("p",{className:"text-3xl font-bold",children:i.total_repartidores})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-blue-100 text-sm",children:" Calificacin"}),l.jsx("p",{className:"text-3xl font-bold",children:i.calificacion_promedio_repartidores.toFixed(1)})]})]})]})]}),i.top_restaurantes_mes&&i.top_restaurantes_mes.length>0&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(A_,{className:"text-yellow-500 text-2xl mr-2"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" Top 5 Restaurantes del Mes"})]}),l.jsx("div",{className:"space-y-3",children:i.top_restaurantes_mes.map((p,g)=>l.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl ${g===0?"bg-gradient-to-r from-yellow-100 to-yellow-200 border-2 border-yellow-400":"bg-gray-50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-3xl font-bold text-gray-400",children:["#",g+1]}),l.jsx("span",{className:"text-3xl",children:p.emoji}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-gray-800",children:p.nombre}),l.jsxs("p",{className:"text-sm text-gray-600",children:[p.total_pedidos," pedidos"]})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["L ",p.ingresos.toFixed(2)]})})]},p.id))})]}),i.top_repartidores_mes&&i.top_repartidores_mes.length>0&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(A_,{className:"text-blue-500 text-2xl mr-2"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" Top 5 Repartidores del Mes"})]}),l.jsx("div",{className:"space-y-3",children:i.top_repartidores_mes.map((p,g)=>l.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl ${g===0?"bg-gradient-to-r from-blue-100 to-indigo-200 border-2 border-blue-400":"bg-gray-50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-3xl font-bold text-gray-400",children:["#",g+1]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-gray-800",children:p.nombre_completo}),l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:[p.entregas_mes," entregas"]}),l.jsxs("span",{className:"text-yellow-500",children:[" ",p.calificacion_promedio.toFixed(1)]})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["L ",p.ganancias_mes.toFixed(2)]}),l.jsx("p",{className:"text-xs text-gray-500",children:"ganancias"})]})]},p.id))})]}),l.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl shadow-lg p-6 mb-6 text-white",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Resumen del Mes"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-indigo-100 text-sm",children:"Nuevos Usuarios"}),l.jsx("p",{className:"text-3xl font-bold",children:i.usuarios_nuevos_mes})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-indigo-100 text-sm",children:"Pedidos"}),l.jsx("p",{className:"text-3xl font-bold",children:i.pedidos_mes})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-indigo-100 text-sm",children:"Completados"}),l.jsx("p",{className:"text-3xl font-bold",children:i.total_pedidos_completados})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-indigo-100 text-sm",children:"Ingresos"}),l.jsxs("p",{className:"text-2xl font-bold",children:["L ",i.ingresos_mes.toFixed(2)]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(Da,{className:"text-blue-500 text-2xl mr-2"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" Tiempos de Entrega"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Promedio Global"}),l.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[Math.round(i.tiempo_promedio_entrega_global)," min"]})]}),l.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Promedio Hoy"}),l.jsxs("p",{className:"text-4xl font-bold text-green-600",children:[Math.round(i.tiempo_promedio_entrega_hoy)," min"]})]})]})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900",children:[l.jsx(Ye,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:"No se pudo cargar la informacin del panel"})})]})}function Gk(){const{usuario:e}=Et(),t=dt(),[i,s]=T.useState(null),[c,h]=T.useState(!0),[f,p]=T.useState(!1),[g,x]=T.useState(""),[_,w]=T.useState(""),[E,N]=T.useState(""),[A,k]=T.useState(""),[P,M]=T.useState(""),[D,R]=T.useState("#ff6b6b"),[Z,F]=T.useState(""),[V,B]=T.useState(30),[te,me]=T.useState(0),[ve,Te]=T.useState(!0);T.useEffect(()=>{if(!e||e.tipo_usuario!=="restaurante"){t("/");return}Ne()},[e,t]);const Ne=async()=>{if(!e)return;h(!0);const $=await Pk(e.id);$&&(s($),N($.nombre),k($.descripcion||""),M($.imagen_url||""),R($.color_tema||"#ff6b6b"),F($.emoji||""),B($.tiempo_entrega_min),me($.costo_envio),Te($.activo)),h(!1)},it=async $=>{$.preventDefault(),w(""),x(""),p(!0);try{if(!e)return;const oe={nombre:E,descripcion:A||void 0,imagen_url:P||void 0,color_tema:D,emoji:Z,tiempo_entrega_min:V,costo_envio:te,activo:ve};if(i){const ne=await zk(i.id,oe);ne?(x("Restaurante actualizado correctamente"),s(ne)):w("Error al actualizar el restaurante")}else{const ne=await Dk(oe,e.id);ne?(x("Restaurante creado correctamente"),s(ne)):w("Error al crear el restaurante. Revisa permisos RLS o token autenticado.")}}catch(oe){w("Error al guardar el restaurante"),console.error(oe)}finally{p(!1)}},Fe=["","","","","","","","","","","",""],ht=["#ff6b6b","#ee5a6f","#f06595","#cc5de8","#845ef7","#5c7cfa","#339af0","#22b8cf","#20c997","#51cf66","#94d82d","#ffd43b","#ffa94d","#ff922b"];return c?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100 pb-20",children:[l.jsx(Ye,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("button",{onClick:()=>t("/restaurante/dashboard"),className:"mr-4 bg-white p-3 rounded-full shadow-lg hover:shadow-xl transition",children:l.jsx(d0,{className:"text-orange-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:i?"Editar Restaurante":"Crear Restaurante"}),l.jsx("p",{className:"text-gray-600",children:"Configura la informacin de tu negocio"})]})]}),g&&l.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:g}),_&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:_}),l.jsxs("form",{onSubmit:it,className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsx("div",{className:"rounded-xl p-6 mb-6 text-white",style:{backgroundColor:D},children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"text-6xl",children:Z}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:E||"Nombre del Restaurante"}),l.jsx("p",{className:"text-sm opacity-90",children:A||"Descripcin del restaurante"}),l.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[l.jsxs("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:[l.jsx(Da,{className:"inline mr-1"}),V," min"]}),l.jsxs("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:[l.jsx($c,{className:"inline mr-1"}),"$",te]})]})]})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[l.jsx(Hc,{className:"inline mr-2"}),"Nombre del Restaurante *"]}),l.jsx("input",{type:"text",value:E,onChange:$=>N($.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"Ej: La Casa del Sabor"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descripcin"}),l.jsx("textarea",{value:A,onChange:$=>k($.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"Describe tu restaurante..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"URL de la Imagen"}),l.jsx("input",{type:"url",value:P,onChange:$=>M($.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"https://ejemplo.com/imagen.jpg"}),P&&l.jsx("img",{src:P,alt:"Preview",className:"mt-3 w-full h-48 object-cover rounded-xl",onError:$=>{$.target.style.display="none"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Emoji Representativo"}),l.jsx("div",{className:"grid grid-cols-6 md:grid-cols-12 gap-2",children:Fe.map($=>l.jsx("button",{type:"button",onClick:()=>F($),className:`text-3xl p-3 rounded-xl hover:bg-gray-100 transition ${Z===$?"bg-orange-100 ring-2 ring-orange-500":"bg-gray-50"}`,children:$},$))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Color del Tema"}),l.jsx("div",{className:"grid grid-cols-7 md:grid-cols-14 gap-2",children:ht.map($=>l.jsx("button",{type:"button",onClick:()=>R($),className:`w-12 h-12 rounded-xl transition ${D===$?"ring-4 ring-gray-400 scale-110":""}`,style:{backgroundColor:$}},$))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tiempo de Entrega (min)"}),l.jsx("input",{type:"number",value:V,onChange:$=>B(Number($.target.value)),min:"10",max:"120",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Costo de Envo (Lps)"}),l.jsx("input",{type:"number",value:te,onChange:$=>me(Number($.target.value)),min:"0",step:"0.01",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none"})]})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-xl",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-800",children:"Estado del Restaurante"}),l.jsx("p",{className:"text-sm text-gray-600",children:ve?"Abierto y aceptando pedidos":"Cerrado temporalmente"})]}),l.jsx("button",{type:"button",onClick:()=>Te(!ve),className:`relative inline-flex items-center h-8 rounded-full w-16 transition ${ve?"bg-green-500":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block w-6 h-6 transform bg-white rounded-full transition ${ve?"translate-x-9":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("button",{type:"submit",disabled:f,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white font-bold py-4 rounded-xl hover:from-orange-600 hover:to-red-700 transition disabled:opacity-50 flex items-center justify-center",children:f?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Guardando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ck,{className:"mr-2"}),i?"Actualizar Restaurante":"Crear Restaurante"]})}),l.jsx("button",{type:"button",onClick:()=>t("/restaurante/dashboard"),className:"px-6 py-4 bg-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-300 transition",children:"Cancelar"})]})]})]})]})]})}function Wk(){const{usuario:e}=Et(),t=dt(),[i,s]=T.useState([]),[c,h]=T.useState(!0),[f,p]=T.useState(!1),[g,x]=T.useState(null),[_,w]=T.useState(""),[E,N]=T.useState(""),[A,k]=T.useState(""),[P,M]=T.useState(""),[D,R]=T.useState("15"),[Z,F]=T.useState(!0),[V,B]=T.useState(!1),[te,me]=T.useState(!1),[ve,Te]=T.useState(!1);T.useEffect(()=>{if(!e||e.tipo_usuario!=="restaurante"){t("/");return}Ne()},[e,t]);const Ne=async()=>{if(!e)return;h(!0);const le=await Bk(e.id);s(le),h(!1)},it=()=>{x(null),ht(),p(!0)},Fe=le=>{x(le),w(le.nombre),N(le.descripcion||""),k(le.precio.toString()),M(le.imagen_url||""),R(le.tiempo_preparacion.toString()),F(le.disponible),B(le.es_vegetariano),me(le.es_picante),p(!0)},ht=()=>{w(""),N(""),k(""),M(""),R("15"),F(!0),B(!1),me(!1)},$=async le=>{if(le.preventDefault(),!!e){Te(!0);try{const ce={restaurante_id:e.id,nombre:_,descripcion:E||void 0,precio:parseFloat(A),imagen_url:P||void 0,tiempo_preparacion:parseInt(D),disponible:Z,es_vegetariano:V,es_picante:te};g?await R_(g.id,ce)&&(await Ne(),p(!1)):await Uk(ce)&&(await Ne(),p(!1))}catch(ce){console.error("Error al guardar platillo:",ce)}finally{Te(!1)}}},oe=async le=>{if(!confirm("Ests seguro de eliminar este platillo?"))return;await Ik(le)&&await Ne()},ne=async le=>{await R_(le.id,{disponible:!le.disponible})&&await Ne()};return c?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando platillos..."})]})})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100 pb-20",children:[l.jsx(Ye,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>t("/restaurante/dashboard"),className:"mr-4 bg-white p-3 rounded-full shadow-lg hover:shadow-xl transition",children:l.jsx(d0,{className:"text-orange-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Gestin de Platillos"}),l.jsxs("p",{className:"text-gray-600",children:[i.length," platillos en total"]})]})]}),l.jsxs("button",{onClick:it,className:"bg-gradient-to-r from-orange-500 to-red-600 text-white font-bold px-6 py-3 rounded-xl hover:from-orange-600 hover:to-red-700 transition flex items-center shadow-lg",children:[l.jsx(Nk,{className:"mr-2"}),"Nuevo Platillo"]})]}),i.length===0?l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[l.jsx(Pa,{className:"text-6xl text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No hay platillos"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza agregando platillos a tu men"}),l.jsx("button",{onClick:it,className:"bg-orange-500 text-white px-6 py-3 rounded-xl font-semibold hover:bg-orange-600 transition",children:"Agregar Primer Platillo"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(le=>l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition",children:[l.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-orange-100 to-red-100",children:[le.imagen_url?l.jsx("img",{src:le.imagen_url,alt:le.nombre,className:"w-full h-full object-cover"}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx(Pa,{className:"text-6xl text-orange-300"})}),l.jsx("div",{className:"absolute top-3 right-3",children:l.jsxs("button",{onClick:()=>ne(le),className:`px-3 py-1 rounded-full text-sm font-semibold ${le.disponible?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:[le.disponible?l.jsx(Tk,{className:"inline mr-1"}):l.jsx(jk,{className:"inline mr-1"}),le.disponible?"Disponible":"No disponible"]})}),l.jsxs("div",{className:"absolute bottom-3 left-3 flex space-x-2",children:[le.es_vegetariano&&l.jsx("span",{className:"bg-green-500 text-white px-2 py-1 rounded text-xs font-semibold",children:" Vegetariano"}),le.es_picante&&l.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded text-xs font-semibold",children:" Picante"})]})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:le.nombre}),l.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:le.descripcion||"Sin descripcin"}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("span",{className:"text-2xl font-bold text-orange-600",children:["$",le.precio.toFixed(2)]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[" ",le.tiempo_preparacion," min"]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>Fe(le),className:"flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition font-semibold flex items-center justify-center",children:[l.jsx(wk,{className:"mr-2"}),"Editar"]}),l.jsx("button",{onClick:()=>oe(le.id),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition",children:l.jsx(Rk,{})})]})]})]},le.id))}),f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:g?"Editar Platillo":"Nuevo Platillo"}),l.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),l.jsxs("form",{onSubmit:$,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nombre *"}),l.jsx("input",{type:"text",value:_,onChange:le=>w(le.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"Ej: Tacos al Pastor"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descripcin"}),l.jsx("textarea",{value:E,onChange:le=>N(le.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"Describe el platillo..."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Precio ($) *"}),l.jsx("input",{type:"number",value:A,onChange:le=>k(le.target.value),required:!0,min:"0",step:"0.01",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"0.00"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tiempo Preparacin (min)"}),l.jsx("input",{type:"number",value:D,onChange:le=>R(le.target.value),min:"5",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"URL de la Imagen"}),l.jsx("input",{type:"url",value:P,onChange:le=>M(le.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"https://ejemplo.com/imagen.jpg"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl",children:[l.jsx("label",{className:"font-semibold text-gray-700",children:"Disponible"}),l.jsx("button",{type:"button",onClick:()=>F(!Z),className:`relative inline-flex items-center h-6 rounded-full w-11 transition ${Z?"bg-green-500":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition ${Z?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl",children:[l.jsx("label",{className:"font-semibold text-gray-700",children:" Vegetariano"}),l.jsx("button",{type:"button",onClick:()=>B(!V),className:`relative inline-flex items-center h-6 rounded-full w-11 transition ${V?"bg-green-500":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition ${V?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl",children:[l.jsx("label",{className:"font-semibold text-gray-700",children:" Picante"}),l.jsx("button",{type:"button",onClick:()=>me(!te),className:`relative inline-flex items-center h-6 rounded-full w-11 transition ${te?"bg-red-500":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition ${te?"translate-x-6":"translate-x-1"}`})})]})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"submit",disabled:ve,className:"flex-1 bg-orange-500 text-white font-bold py-3 rounded-xl hover:bg-orange-600 transition disabled:opacity-50",children:ve?"Guardando...":g?"Actualizar":"Crear"}),l.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-6 py-3 bg-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-300 transition",children:"Cancelar"})]})]})]})})]})]})}function Kk(){const{usuario:e}=Et(),t=dt(),[i,s]=T.useState([]),[c,h]=T.useState(!0),[f,p]=T.useState("todos"),[g,x]=T.useState(null),[_,w]=T.useState([]),[E,N]=T.useState(!1),[A,k]=T.useState(!1);T.useEffect(()=>{if(!e||e.tipo_usuario!=="restaurante"){t("/");return}P();const V=$k(e.id,B=>{s(B)});return()=>{V()}},[e,t]);const P=async()=>{if(!e)return;h(!0);const V=await F2(e.id);s(V),h(!1)},M=async V=>{x(V),N(!0);const B=await Vk(V.id);w(B)},D=async(V,B)=>{k(!0),await Hk(V,B)&&(await P(),N(!1)),k(!1)},R=i.filter(V=>f==="todos"?!0:f==="activos"?["pendiente","confirmado","en_preparacion","listo"].includes(V.estado):V.estado===f),Z=V=>{switch(V){case"pendiente":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"confirmado":return"bg-blue-100 text-blue-700 border-blue-300";case"en_preparacion":return"bg-orange-100 text-orange-700 border-orange-300";case"listo":return"bg-purple-100 text-purple-700 border-purple-300";case"en_camino":return"bg-indigo-100 text-indigo-700 border-indigo-300";case"entregado":return"bg-green-100 text-green-700 border-green-300";case"cancelado":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},F=V=>{switch(V){case"pendiente":return" Pendiente";case"confirmado":return" Confirmado";case"en_preparacion":return" En Preparacin";case"listo":return" Listo";case"en_camino":return" En Camino";case"entregado":return" Entregado";case"cancelado":return" Cancelado";default:return V}};return c?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100",children:[l.jsx(Ye,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando pedidos..."})]})})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100 pb-20",children:[l.jsx(Ye,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>t("/restaurante/dashboard"),className:"mr-4 bg-white p-3 rounded-full shadow-lg hover:shadow-xl transition",children:l.jsx(d0,{className:"text-orange-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Pedidos del Restaurante"}),l.jsxs("p",{className:"text-gray-600",children:[R.length," pedidos"]})]})]})}),l.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4 mb-6",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{onClick:()=>p("todos"),className:`px-4 py-2 rounded-xl font-semibold transition ${f==="todos"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Todos (",i.length,")"]}),l.jsxs("button",{onClick:()=>p("activos"),className:`px-4 py-2 rounded-xl font-semibold transition ${f==="activos"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Activos (",i.filter(V=>["pendiente","confirmado","en_preparacion","listo"].includes(V.estado)).length,")"]}),l.jsxs("button",{onClick:()=>p("pendiente"),className:`px-4 py-2 rounded-xl font-semibold transition ${f==="pendiente"?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Pendientes (",i.filter(V=>V.estado==="pendiente").length,")"]}),l.jsxs("button",{onClick:()=>p("en_preparacion"),className:`px-4 py-2 rounded-xl font-semibold transition ${f==="en_preparacion"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["En Preparacin (",i.filter(V=>V.estado==="en_preparacion").length,")"]}),l.jsxs("button",{onClick:()=>p("listo"),className:`px-4 py-2 rounded-xl font-semibold transition ${f==="listo"?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Listos (",i.filter(V=>V.estado==="listo").length,")"]})]})}),R.length===0?l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[l.jsx(Pa,{className:"text-6xl text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No hay pedidos"}),l.jsx("p",{className:"text-gray-600",children:"No se encontraron pedidos con este filtro"})]}):l.jsx("div",{className:"space-y-4",children:R.map(V=>l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition cursor-pointer",onClick:()=>M(V),children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:V.numero_pedido}),l.jsxs("p",{className:"text-sm text-gray-600 flex items-center mt-1",children:[l.jsx(Da,{className:"mr-2"}),new Date(V.creado_en).toLocaleString()]})]}),l.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold border-2 ${Z(V.estado)}`,children:F(V.estado)})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center text-gray-700",children:[l.jsx(Ok,{className:"mr-3 text-orange-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Cliente"}),l.jsx("p",{className:"font-semibold",children:V.cliente_nombre||"N/A"})]})]}),l.jsxs("div",{className:"flex items-center text-gray-700",children:[l.jsx(Ek,{className:"mr-3 text-blue-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Telfono"}),l.jsx("p",{className:"font-semibold",children:V.cliente_telefono||"N/A"})]})]})]}),l.jsxs("div",{className:"flex items-start text-gray-700 mb-4",children:[l.jsx(og,{className:"mr-3 text-red-500 mt-1"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Direccin de entrega"}),l.jsx("p",{className:"font-semibold",children:V.direccion_entrega})]})]}),V.notas_cliente&&l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3 mb-4",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-semibold",children:"Notas del cliente:"})," ",V.notas_cliente]})}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[l.jsxs("span",{className:"text-3xl font-bold text-orange-600",children:["$",V.total.toFixed(2)]}),V.estado==="pendiente"&&l.jsxs("button",{onClick:B=>{B.stopPropagation(),D(V.id,"confirmado")},className:"bg-blue-500 text-white px-6 py-2 rounded-xl font-semibold hover:bg-blue-600 transition",children:[l.jsx(ag,{className:"inline mr-2"}),"Confirmar"]}),V.estado==="confirmado"&&l.jsxs("button",{onClick:B=>{B.stopPropagation(),D(V.id,"en_preparacion")},className:"bg-orange-500 text-white px-6 py-2 rounded-xl font-semibold hover:bg-orange-600 transition",children:[l.jsx(Pa,{className:"inline mr-2"}),"Iniciar Preparacin"]}),V.estado==="en_preparacion"&&l.jsxs("button",{onClick:B=>{B.stopPropagation(),D(V.id,"listo")},className:"bg-purple-500 text-white px-6 py-2 rounded-xl font-semibold hover:bg-purple-600 transition",children:[l.jsx(ag,{className:"inline mr-2"}),"Marcar como Listo"]})]})]},V.id))}),E&&g&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Detalle del Pedido"}),l.jsx("button",{onClick:()=>N(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[l.jsx("h3",{className:"font-bold text-lg mb-2",children:g.numero_pedido}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Cliente:"})," ",g.cliente_nombre]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Telfono:"})," ",g.cliente_telefono]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Direccin:"})," ",g.direccion_entrega]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Estado:"})," ",l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${Z(g.estado)}`,children:F(g.estado)})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg mb-3",children:"Productos"}),l.jsx("div",{className:"space-y-2",children:_.map(V=>l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:V.platillo_nombre||V.bebida_nombre}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Cantidad: ",V.cantidad,"  $",V.precio_unitario.toFixed(2)]}),V.notas&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Nota: ",V.notas]})]}),l.jsxs("span",{className:"font-bold text-orange-600",children:["$",V.subtotal.toFixed(2)]})]},V.id))})]}),l.jsx("div",{className:"bg-orange-50 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Total"}),l.jsxs("span",{className:"text-3xl font-bold text-orange-600",children:["$",g.total.toFixed(2)]})]})}),l.jsxs("div",{className:"space-y-2 pt-4",children:[g.estado==="pendiente"&&l.jsx("button",{onClick:()=>D(g.id,"confirmado"),disabled:A,className:"w-full bg-blue-500 text-white font-bold py-3 rounded-xl hover:bg-blue-600 transition disabled:opacity-50",children:A?"Procesando...":"Confirmar Pedido"}),g.estado==="confirmado"&&l.jsx("button",{onClick:()=>D(g.id,"en_preparacion"),disabled:A,className:"w-full bg-orange-500 text-white font-bold py-3 rounded-xl hover:bg-orange-600 transition disabled:opacity-50",children:A?"Procesando...":"Iniciar Preparacin"}),g.estado==="en_preparacion"&&l.jsx("button",{onClick:()=>D(g.id,"listo"),disabled:A,className:"w-full bg-purple-500 text-white font-bold py-3 rounded-xl hover:bg-purple-600 transition disabled:opacity-50",children:A?"Procesando...":"Marcar como Listo"}),l.jsx("button",{onClick:()=>N(!1),className:"w-full bg-gray-200 text-gray-700 font-semibold py-3 rounded-xl hover:bg-gray-300 transition",children:"Cerrar"})]})]})]})})]})]})}function Yk(){const e=dt(),[t,i]=T.useState(!1),{logout:s,usuario:c}=Et(),h=f=>{i(!1),e(f)};return l.jsxs(l.Fragment,{children:[l.jsx(St.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(!t),style:Xk,children:l.jsxs(St.div,{animate:t?"open":"closed",variants:Qk,style:Jk,children:[l.jsx(St.span,{variants:eL,style:mp}),l.jsx(St.span,{variants:tL,style:mp}),l.jsx(St.span,{variants:nL,style:mp})]})}),l.jsx(Oa,{show:t,as:T.Fragment,children:l.jsxs(Tc,{as:"div",onClose:()=>i(!1),style:iL,children:[l.jsx(Oa.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:l.jsx("div",{style:rL})}),l.jsx("div",{style:sL,children:l.jsx(Oa.Child,{as:T.Fragment,enter:"transform transition ease-out duration-400",enterFrom:"translate-y-full opacity-0",enterTo:"translate-y-0 opacity-100",leave:"transform transition ease-in duration-300",leaveFrom:"translate-y-0 opacity-100",leaveTo:"translate-y-full opacity-0",children:l.jsxs(Tc.Panel,{style:aL,children:[l.jsx("div",{style:oL}),l.jsxs("div",{style:lL,children:[l.jsx("div",{style:cL,children:c?.email?.[0].toUpperCase()}),l.jsxs("div",{style:uL,children:[l.jsx("p",{style:dL,children:"Hola!"}),l.jsx("h3",{style:hL,children:c?.email?.split("@")[0]})]}),l.jsx("button",{onClick:()=>{s(),i(!1)},style:fL,children:l.jsx("span",{style:mL,children:""})})]}),l.jsxs("div",{style:pL,children:[l.jsxs(St.button,{whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},onClick:()=>h("/home"),style:gL,children:[l.jsx("div",{style:yL,children:""}),l.jsxs("div",{style:vL,children:[l.jsx("span",{style:xL,children:"Inicio"}),l.jsx("span",{style:bL,children:"Descubre restaurantes"})]}),l.jsx("span",{style:_L,children:""})]}),l.jsxs(St.button,{whileHover:{scale:1.05,y:-4},whileTap:{scale:.95},onClick:()=>h("/restaurantes"),style:O_,children:[l.jsx("div",{style:k_,children:""}),l.jsx("span",{style:L_,children:"Restaurantes"})]}),l.jsxs(St.button,{whileHover:{scale:1.05,y:-4},whileTap:{scale:.95},onClick:()=>h("/pedidos"),style:O_,children:[l.jsx("div",{style:k_,children:""}),l.jsx("span",{style:L_,children:"Mis Pedidos"})]}),l.jsxs(St.button,{whileHover:{scale:1.05,y:-4},whileTap:{scale:.95},onClick:()=>h("/carrito"),style:P_,children:[l.jsx("div",{style:M_,children:""}),l.jsx("span",{style:D_,children:"Carrito"})]}),l.jsxs(St.button,{whileHover:{scale:1.05,y:-4},whileTap:{scale:.95},onClick:()=>h("/mi-cuenta"),style:P_,children:[l.jsx("div",{style:M_,children:""}),l.jsx("span",{style:D_,children:"Perfil"})]})]}),l.jsxs("div",{style:wL,children:[l.jsx("p",{style:SL,children:"Food Delibery Roatan"}),l.jsx("p",{style:jL,children:"Tu comida, ms cerca"})]})]})})})]})})]})}const Xk={position:"fixed",bottom:"24px",right:"24px",width:"64px",height:"64px",borderRadius:"50%",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",border:"none",boxShadow:"0 8px 32px rgba(79, 70, 229, 0.4), 0 0 0 0 rgba(79, 70, 229, 0.3)",cursor:"pointer",zIndex:10003,display:"flex",alignItems:"center",justifyContent:"center",transition:"box-shadow 0.3s ease"},Jk={width:"24px",height:"18px",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative"},mp={width:"100%",height:"2.5px",background:"#ffffff",borderRadius:"2px",transformOrigin:"center"},Qk={open:{},closed:{}},eL={open:{rotate:45,y:8},closed:{rotate:0,y:0}},tL={open:{opacity:0},closed:{opacity:1}},nL={open:{rotate:-45,y:-8},closed:{rotate:0,y:0}},iL={zIndex:1e4,position:"fixed",inset:0},rL={position:"fixed",inset:0,background:"rgba(15, 23, 42, 0.7)",backdropFilter:"blur(12px)"},sL={position:"fixed",bottom:0,left:0,right:0,display:"flex",justifyContent:"center",pointerEvents:"none"},aL={background:"linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)",width:"100%",maxWidth:"540px",maxHeight:"85vh",borderRadius:"32px 32px 0 0",padding:"24px 20px 32px",boxShadow:"0 -10px 60px rgba(15, 23, 42, 0.2)",border:"1px solid rgba(255, 255, 255, 0.8)",borderBottom:"none",pointerEvents:"auto",overflowY:"auto"},oL={width:"48px",height:"5px",background:"linear-gradient(90deg, #e0e7ff 0%, #c7d2fe 100%)",borderRadius:"10px",margin:"0 auto 24px"},lL={display:"flex",alignItems:"center",gap:"16px",padding:"20px",background:"linear-gradient(135deg, #eef2ff 0%, #e0e7ff 100%)",borderRadius:"20px",marginBottom:"24px",border:"2px solid #c7d2fe",boxShadow:"0 4px 16px rgba(79, 70, 229, 0.1)"},cL={width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:900,boxShadow:"0 8px 20px rgba(79, 70, 229, 0.4)"},uL={flex:1},dL={margin:0,fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"4px"},hL={margin:0,fontSize:"20px",color:"#1e293b",fontWeight:800},fL={width:"48px",height:"48px",borderRadius:"12px",background:"#ffffff",border:"2px solid #fee2e2",color:"#ef4444",fontSize:"20px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.1)"},mL={fontSize:"20px"},pL={display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"24px"},h0={border:"none",borderRadius:"20px",cursor:"pointer",display:"flex",alignItems:"center",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 16px rgba(15, 23, 42, 0.08)",position:"relative",overflow:"hidden"},gL={...h0,gridColumn:"span 2",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",padding:"24px",justifyContent:"space-between",gap:"16px"},yL={width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"28px",flexShrink:0},vL={flex:1,textAlign:"left",display:"flex",flexDirection:"column",gap:"4px"},xL={fontSize:"20px",fontWeight:800,color:"#ffffff",display:"block"},bL={fontSize:"13px",color:"rgba(255, 255, 255, 0.8)",fontWeight:600},_L={fontSize:"24px",color:"rgba(255, 255, 255, 0.6)",fontWeight:700},O_={...h0,background:"#ffffff",padding:"20px",flexDirection:"column",gap:"12px",alignItems:"flex-start"},k_={width:"48px",height:"48px",borderRadius:"14px",background:"linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},L_={fontSize:"16px",fontWeight:800,color:"#1e293b"},P_={...h0,background:"#ffffff",padding:"16px",flexDirection:"column",gap:"10px",alignItems:"center",justifyContent:"center"},M_={width:"44px",height:"44px",borderRadius:"12px",background:"linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"22px"},D_={fontSize:"14px",fontWeight:700,color:"#1e293b"},wL={textAlign:"center",paddingTop:"16px",borderTop:"2px solid #f1f5f9"},SL={margin:0,fontSize:"14px",fontWeight:800,color:"#1e293b",marginBottom:"4px"},jL={margin:0,fontSize:"12px",color:"#64748b",fontWeight:600};function wi({children:e}){const{usuario:t}=Et();return t?l.jsx(l.Fragment,{children:e}):l.jsx(Hn,{to:"/",replace:!0})}function TL({children:e}){const{usuario:t}=Et();if(!t)return l.jsx(l.Fragment,{children:e});switch(t.tipo_usuario){case"repartidor":return l.jsx(Hn,{to:"/repartidor/dashboard",replace:!0});case"restaurante":return l.jsx(Hn,{to:"/restaurante/dashboard",replace:!0});case"operador":return l.jsx(Hn,{to:"/operador/dashboard",replace:!0});case"admin":return l.jsx(Hn,{to:"/admin/dashboard",replace:!0});default:return l.jsx(Hn,{to:"/home",replace:!0})}}function EL(){return l.jsxs(mT,{children:[l.jsx(yt,{path:"/",element:l.jsx(TL,{children:l.jsx(U3,{})})}),l.jsx(yt,{path:"/home",element:l.jsx(wi,{children:l.jsx(H3,{})})}),l.jsx(yt,{path:"/platillos/:categoriaId",element:l.jsx(wi,{children:l.jsx($3,{})})}),l.jsx(yt,{path:"/categoria/:id",element:l.jsx(wi,{children:l.jsx(i6,{})})}),l.jsx(yt,{path:"/categorias",element:l.jsx(wi,{children:l.jsx(r6,{})})}),l.jsx(yt,{path:"/restaurantes",element:l.jsx(wi,{children:l.jsx(s6,{})})}),l.jsx(yt,{path:"/restaurante/:id",element:l.jsx(wi,{children:l.jsx(T6,{})})}),l.jsx(yt,{path:"/platillo/:id",element:l.jsx(wi,{children:l.jsx(Z6,{})})}),l.jsx(yt,{path:"/mi-cuenta",element:l.jsx(wi,{children:l.jsx(K6,{})})}),l.jsx(yt,{path:"/carrito",element:l.jsx(wi,{children:l.jsx(AO,{})})}),l.jsx(yt,{path:"/pedidos",element:l.jsx(wi,{children:l.jsx(RO,{})})}),l.jsx(yt,{path:"/pedido/:pedidoId",element:l.jsx(wi,{children:l.jsx(XO,{})})}),l.jsx(yt,{path:"/repartidor/dashboard",element:l.jsx(bi,{allowedRoles:["repartidor"],children:l.jsx(Lk,{})})}),l.jsx(yt,{path:"/repartidor/disponibles",element:l.jsx(bi,{allowedRoles:["repartidor"],children:l.jsx(sk,{})})}),l.jsx(yt,{path:"/repartidor/mis-pedidos",element:l.jsx(bi,{allowedRoles:["repartidor"],children:l.jsx(ak,{})})}),l.jsx(yt,{path:"/repartidor/entrega/:pedidoId",element:l.jsx(bi,{allowedRoles:["repartidor"],children:l.jsx(ok,{})})}),l.jsx(yt,{path:"/repartidor/perfil",element:l.jsx(bi,{allowedRoles:["repartidor"],children:l.jsx(lk,{})})}),l.jsx(yt,{path:"/restaurante/dashboard",element:l.jsx(bi,{allowedRoles:["restaurante"],children:l.jsx(qk,{})})}),l.jsx(yt,{path:"/restaurante/gestion",element:l.jsx(bi,{allowedRoles:["restaurante"],children:l.jsx(Gk,{})})}),l.jsx(yt,{path:"/restaurante/platillos",element:l.jsx(bi,{allowedRoles:["restaurante"],children:l.jsx(Wk,{})})}),l.jsx(yt,{path:"/restaurante/pedidos",element:l.jsx(bi,{allowedRoles:["restaurante"],children:l.jsx(Kk,{})})}),l.jsx(yt,{path:"/operador/dashboard",element:l.jsx(bi,{allowedRoles:["operador"],children:l.jsx(Fk,{})})}),l.jsx(yt,{path:"/admin/dashboard",element:l.jsx(bi,{allowedRoles:["admin"],children:l.jsx(Zk,{})})}),l.jsx(yt,{path:"*",element:l.jsx(Hn,{to:"/",replace:!0})})]})}function NL(){const{usuario:e}=Et();return l.jsxs(l.Fragment,{children:[l.jsx(EL,{}),e&&l.jsx(Yk,{})]})}function CL(){return l.jsx(BT,{children:l.jsx(KT,{children:l.jsx(YT,{children:l.jsx(NL,{})})})})}yj.createRoot(document.getElementById("root")).render(l.jsx(T.StrictMode,{children:l.jsx(CL,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{e.addEventListener("updatefound",()=>{const i=e.installing;i&&i.addEventListener("statechange",()=>{i.state==="installed"&&navigator.serviceWorker.controller&&confirm("Hay una nueva versin disponible. Deseas actualizar ahora?")&&i.postMessage({type:"SKIP_WAITING"})})});let t=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{t||(window.location.reload(),t=!0)})}).catch(e=>{console.warn("SW registration failed:",e)})});
